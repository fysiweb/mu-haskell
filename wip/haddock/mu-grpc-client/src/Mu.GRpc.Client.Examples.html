<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds        #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language TypeApplications #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language TypeFamilies     #-}</span><span>
</span><span id="line-4"></span><span class="hs-comment">{-|
Description : Examples for gRPC clients

Look at the source code of this module.
-}</span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.GRpc.Client.Examples</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Conduit</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Conduit.Combinators</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Conduit.List</span></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">consume</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.HTTP2.Client</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HostName</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PortNumber</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Mu.Adapter.ProtoBuf</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.GRpc.Client.TyApps.html"><span class="hs-identifier">Mu.GRpc.Client.TyApps</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Mu.Rpc.Examples</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Mu.Schema</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="AnnotatedSchema"><span class="annot"><span class="hs-identifier hs-var">AnnotatedSchema</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ProtoBufAnnotation</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QuickstartSchema</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AnnField</span></span><span> </span><span class="annot"><span class="hs-string">&quot;HelloRequest&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;name&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ProtoBufId</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AnnField</span></span><span> </span><span class="annot"><span class="hs-string">&quot;HelloResponse&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;message&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ProtoBufId</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AnnField</span></span><span> </span><span class="annot"><span class="hs-string">&quot;HiRequest&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;number&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ProtoBufId</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="annot"><a href="Mu.GRpc.Client.Examples.html#sayHello%27"><span class="hs-identifier hs-type">sayHello'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.GRpc.Client.Internal.html#GRpcReply"><span class="hs-identifier hs-type">GRpcReply</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span id="sayHello%27"><span class="annot"><span class="annottext">sayHello' :: HostName -&gt; PortNumber -&gt; Text -&gt; IO (GRpcReply Text)
</span><a href="Mu.GRpc.Client.Examples.html#sayHello%27"><span class="hs-identifier hs-var hs-var">sayHello'</span></a></span></span><span> </span><span id="local-6989586621679146741"><span class="annot"><span class="annottext">HostName
</span><a href="#local-6989586621679146741"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679146740"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679146740"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679146739"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146739"><span class="hs-identifier hs-var">req</span></a></span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679146738"><span class="annot"><span class="annottext">GrpcClient
</span><a href="#local-6989586621679146738"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GrpcClientConfig -&gt; IO (Either ClientError GrpcClient)
forall (m :: * -&gt; *).
MonadIO m =&gt;
GrpcClientConfig -&gt; m (Either ClientError GrpcClient)
</span><a href="Mu.GRpc.Client.Internal.html#setupGrpcClient%27"><span class="hs-identifier hs-var">setupGrpcClient'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HostName -&gt; PortNumber -&gt; UseTlsOrNot -&gt; GrpcClientConfig
</span><span class="hs-identifier hs-var">grpcClientConfigSimple</span></span><span> </span><span class="annot"><span class="annottext">HostName
</span><a href="#local-6989586621679146741"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679146740"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">UseTlsOrNot
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>       </span><span class="annot"><span class="annottext">(HelloResponse -&gt; Text)
-&gt; GRpcReply HelloResponse -&gt; GRpcReply Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HelloResponse</span></span><span> </span><span id="local-6989586621679146734"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146734"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146734"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(GRpcReply HelloResponse -&gt; GRpcReply Text)
-&gt; IO (GRpcReply HelloResponse) -&gt; IO (GRpcReply Text)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">GrpcClient -&gt; HelloRequest -&gt; IO (GRpcReply HelloResponse)
</span><a href="Mu.GRpc.Client.Examples.html#sayHello"><span class="hs-identifier hs-var">sayHello</span></a></span><span> </span><span class="annot"><span class="annottext">GrpcClient
</span><a href="#local-6989586621679146738"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; HelloRequest
</span><span class="hs-identifier hs-var">HelloRequest</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146739"><span class="hs-identifier hs-var">req</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="annot"><a href="Mu.GRpc.Client.Examples.html#sayHello"><span class="hs-identifier hs-type">sayHello</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GrpcClient</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HelloRequest</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.GRpc.Client.Internal.html#GRpcReply"><span class="hs-identifier hs-type">GRpcReply</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">HelloResponse</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span id="sayHello"><span class="annot"><span class="annottext">sayHello :: GrpcClient -&gt; HelloRequest -&gt; IO (GRpcReply HelloResponse)
</span><a href="Mu.GRpc.Client.Examples.html#sayHello"><span class="hs-identifier hs-var hs-var">sayHello</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall h (pkgName :: Symbol)
       (services :: [Service Symbol Symbol Symbol (TypeRef Symbol)])
       (methods :: [Method Symbol Symbol Symbol (TypeRef Symbol)]).
(QuickStartService ~ 'Package ('Just pkgName) services,
 LookupService services &quot;Greeter&quot; ~ 'Service &quot;Greeter&quot; methods,
 GRpcServiceMethodCall
   'MsgProtoBuf
   pkgName
   &quot;Greeter&quot;
   (LookupMethod methods &quot;SayHello&quot;)
   h) =&gt;
GrpcClient -&gt; h
forall (pro :: GRpcMessageProtocol) (pkg :: Package')
       (srvName :: Symbol) (methodName :: Symbol) h (pkgName :: Symbol)
       (services :: [Service Symbol Symbol Symbol (TypeRef Symbol)])
       (methods :: [Method Symbol Symbol Symbol (TypeRef Symbol)]).
(pkg ~ 'Package ('Just pkgName) services,
 LookupService services srvName ~ 'Service srvName methods,
 GRpcServiceMethodCall
   pro pkgName srvName (LookupMethod methods methodName) h) =&gt;
GrpcClient -&gt; h
</span><a href="Mu.GRpc.Client.TyApps.html#gRpcCall"><span class="hs-identifier hs-var">gRpcCall</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MsgProtoBuf</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">QuickStartService</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;Greeter&quot;</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;SayHello&quot;</span></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="annot"><a href="Mu.GRpc.Client.Examples.html#sayHi%27"><span class="hs-identifier hs-type">sayHi'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.GRpc.Client.Internal.html#GRpcReply"><span class="hs-identifier hs-type">GRpcReply</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-36"></span><span id="sayHi%27"><span class="annot"><span class="annottext">sayHi' :: HostName -&gt; PortNumber -&gt; Int -&gt; IO [GRpcReply Text]
</span><a href="Mu.GRpc.Client.Examples.html#sayHi%27"><span class="hs-identifier hs-var hs-var">sayHi'</span></a></span></span><span> </span><span id="local-6989586621679146728"><span class="annot"><span class="annottext">HostName
</span><a href="#local-6989586621679146728"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679146727"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679146727"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679146726"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679146726"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679146725"><span class="annot"><span class="annottext">GrpcClient
</span><a href="#local-6989586621679146725"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GrpcClientConfig -&gt; IO (Either ClientError GrpcClient)
forall (m :: * -&gt; *).
MonadIO m =&gt;
GrpcClientConfig -&gt; m (Either ClientError GrpcClient)
</span><a href="Mu.GRpc.Client.Internal.html#setupGrpcClient%27"><span class="hs-identifier hs-var">setupGrpcClient'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HostName -&gt; PortNumber -&gt; UseTlsOrNot -&gt; GrpcClientConfig
</span><span class="hs-identifier hs-var">grpcClientConfigSimple</span></span><span> </span><span class="annot"><span class="annottext">HostName
</span><a href="#local-6989586621679146728"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679146727"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">UseTlsOrNot
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>       </span><span id="local-6989586621679146724"><span class="annot"><span class="annottext">ConduitT () (GRpcReply HelloResponse) IO ()
</span><a href="#local-6989586621679146724"><span class="hs-identifier hs-var">cndt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GrpcClient
-&gt; HiRequest -&gt; IO (ConduitT () (GRpcReply HelloResponse) IO ())
</span><a href="Mu.GRpc.Client.Examples.html#sayHi"><span class="hs-identifier hs-var">sayHi</span></a></span><span> </span><span class="annot"><span class="annottext">GrpcClient
</span><a href="#local-6989586621679146725"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; HiRequest
</span><span class="hs-identifier hs-var">HiRequest</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679146726"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>       </span><span class="annot"><span class="annottext">ConduitT () Void IO [GRpcReply Text] -&gt; IO [GRpcReply Text]
forall (m :: * -&gt; *) r. Monad m =&gt; ConduitT () Void m r -&gt; m r
</span><span class="hs-identifier hs-var">runConduit</span></span><span> </span><span class="annot"><span class="annottext">(ConduitT () Void IO [GRpcReply Text] -&gt; IO [GRpcReply Text])
-&gt; ConduitT () Void IO [GRpcReply Text] -&gt; IO [GRpcReply Text]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConduitT () (GRpcReply HelloResponse) IO ()
</span><a href="#local-6989586621679146724"><span class="hs-identifier hs-var">cndt</span></a></span><span> </span><span class="annot"><span class="annottext">ConduitT () (GRpcReply HelloResponse) IO ()
-&gt; ConduitM (GRpcReply HelloResponse) Void IO [GRpcReply Text]
-&gt; ConduitT () Void IO [GRpcReply Text]
forall (m :: * -&gt; *) a b c r.
Monad m =&gt;
ConduitM a b m () -&gt; ConduitM b c m r -&gt; ConduitM a c m r
</span><span class="hs-operator hs-var">.|</span></span><span> </span><span class="annot"><span class="annottext">(GRpcReply HelloResponse -&gt; GRpcReply Text)
-&gt; ConduitT (GRpcReply HelloResponse) (GRpcReply Text) IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; b) -&gt; ConduitT a b m ()
</span><span class="hs-identifier hs-var">C.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HelloResponse -&gt; Text)
-&gt; GRpcReply HelloResponse -&gt; GRpcReply Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HelloResponse</span></span><span> </span><span id="local-6989586621679146718"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146718"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679146718"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConduitT (GRpcReply HelloResponse) (GRpcReply Text) IO ()
-&gt; ConduitM (GRpcReply Text) Void IO [GRpcReply Text]
-&gt; ConduitM (GRpcReply HelloResponse) Void IO [GRpcReply Text]
forall (m :: * -&gt; *) a b c r.
Monad m =&gt;
ConduitM a b m () -&gt; ConduitM b c m r -&gt; ConduitM a c m r
</span><span class="hs-operator hs-var">.|</span></span><span> </span><span class="annot"><span class="annottext">ConduitM (GRpcReply Text) Void IO [GRpcReply Text]
forall (m :: * -&gt; *) a o. Monad m =&gt; ConduitT a o m [a]
</span><span class="hs-identifier hs-var">consume</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="annot"><a href="Mu.GRpc.Client.Examples.html#sayHi"><span class="hs-identifier hs-type">sayHi</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GrpcClient</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HiRequest</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConduitT</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.GRpc.Client.Internal.html#GRpcReply"><span class="hs-identifier hs-type">GRpcReply</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">HelloResponse</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span id="sayHi"><span class="annot"><span class="annottext">sayHi :: GrpcClient
-&gt; HiRequest -&gt; IO (ConduitT () (GRpcReply HelloResponse) IO ())
</span><a href="Mu.GRpc.Client.Examples.html#sayHi"><span class="hs-identifier hs-var hs-var">sayHi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall h (pkgName :: Symbol)
       (services :: [Service Symbol Symbol Symbol (TypeRef Symbol)])
       (methods :: [Method Symbol Symbol Symbol (TypeRef Symbol)]).
(QuickStartService ~ 'Package ('Just pkgName) services,
 LookupService services &quot;Greeter&quot; ~ 'Service &quot;Greeter&quot; methods,
 GRpcServiceMethodCall
   'MsgProtoBuf pkgName &quot;Greeter&quot; (LookupMethod methods &quot;SayHi&quot;) h) =&gt;
GrpcClient -&gt; h
forall (pro :: GRpcMessageProtocol) (pkg :: Package')
       (srvName :: Symbol) (methodName :: Symbol) h (pkgName :: Symbol)
       (services :: [Service Symbol Symbol Symbol (TypeRef Symbol)])
       (methods :: [Method Symbol Symbol Symbol (TypeRef Symbol)]).
(pkg ~ 'Package ('Just pkgName) services,
 LookupService services srvName ~ 'Service srvName methods,
 GRpcServiceMethodCall
   pro pkgName srvName (LookupMethod methods methodName) h) =&gt;
GrpcClient -&gt; h
</span><a href="Mu.GRpc.Client.TyApps.html#gRpcCall"><span class="hs-identifier hs-var">gRpcCall</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MsgProtoBuf</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">QuickStartService</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;Greeter&quot;</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;SayHi&quot;</span></span><span>
</span><span id="line-43"></span></pre></body></html>