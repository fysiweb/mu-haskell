<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Mu.Schema.Optics</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">mu-optics-0.3.0.1: Optics for @mu-schema@ terms</span><ul class="links" id="page-menu"><li><a href="src/Mu.Schema.Optics.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Mu.Schema.Optics</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Build a term</a></li><li><a href="#g:2">Re-exported for convenience.</a></li><li><a href="#g:3">Additional utilities.</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides instances of <code>LabelOptic</code> to be
used in conjunction with the <code>optics</code> package.
In particular, there are two kind of optics to access
different parts of a <code>Term</code>:</p><ul><li>With <code>#field</code> you obtain the lens (that is, a getter
  and a setter) for the corresponding field in a record.</li><li>With <code>#choice</code> you obtain the prism for the
  desired choice in an enumeration. You can use then
  <code>review</code> to construct a term with the value.</li></ul><p>In addition, we provide a utility function <code><a href="Mu-Schema-Optics.html#v:record" title="Mu.Schema.Optics">record</a></code> to
build a record out of the inner values. We intend the
interface to be very simple, so this function is overloaded
to take tuples of different size, with as many components
as values in the schema type.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:record">record</a> :: BuildRecord sch args r =&gt; r -&gt; Term sch ('DRecord name args)</li><li class="src short"><a href="#v:record1">record1</a> :: TypeLabel sch t1 r1 =&gt; r1 -&gt; Term sch ('DRecord name '['FieldDef x1 t1])</li><li class="src short"><a href="#v:enum">enum</a> :: <span class="keyword">forall</span> (choiceName :: <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) choices sch name. EnumLabel choices choiceName =&gt; Term sch ('DEnum name choices)</li><li class="src short"><a href="#v:_U0">_U0</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs r. TypeLabel sch x r =&gt; Prism' (NS (FieldValue sch) (x ': xs)) r</li><li class="src short"><a href="#v:_Next">_Next</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs. Prism' (NS (FieldValue sch) (x ': xs)) (NS (FieldValue sch) xs)</li><li class="src short"><a href="#v:_U1">_U1</a> :: <span class="keyword">forall</span> (sch :: Schema') a b xs r. TypeLabel sch b r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': xs))) r</li><li class="src short"><a href="#v:_U2">_U2</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c xs r. TypeLabel sch c r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': xs)))) r</li><li class="src short"><a href="#v:_U3">_U3</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c d xs r. TypeLabel sch d r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': (d ': xs))))) r</li><li class="src short"><a href="#v:is">is</a> :: Is k An_AffineFold =&gt; s -&gt; Optic' k is s a -&gt; <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Build a term</h1></a><div class="top"><p class="src"><a id="v:record" class="def">record</a> :: BuildRecord sch args r =&gt; r -&gt; Term sch ('DRecord name args) <a href="src/Mu.Schema.Optics.html#record" class="link">Source</a> <a href="#v:record" class="selflink">#</a></p><div class="doc"><p>Build a Mu record <code>Term</code> from a tuple of its values.</p><p>Note: if the record has exactly _one_ field,
   you must use <code><a href="Mu-Schema-Optics.html#v:record1" title="Mu.Schema.Optics">record1</a></code> instead.</p></div></div><div class="top"><p class="src"><a id="v:record1" class="def">record1</a> :: TypeLabel sch t1 r1 =&gt; r1 -&gt; Term sch ('DRecord name '['FieldDef x1 t1]) <a href="src/Mu.Schema.Optics.html#record1" class="link">Source</a> <a href="#v:record1" class="selflink">#</a></p><div class="doc"><p>Build a Mu record <code>Term</code> with exactly one field.</p></div></div><div class="top"><p class="src"><a id="v:enum" class="def">enum</a> :: <span class="keyword">forall</span> (choiceName :: <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) choices sch name. EnumLabel choices choiceName =&gt; Term sch ('DEnum name choices) <a href="src/Mu.Schema.Optics.html#enum" class="link">Source</a> <a href="#v:enum" class="selflink">#</a></p><div class="doc"><p>Build a Mu enumeration <code>Term</code> from the name of the choice.</p></div></div><div class="top"><p class="src"><a id="v:_U0" class="def">_U0</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs r. TypeLabel sch x r =&gt; Prism' (NS (FieldValue sch) (x ': xs)) r <a href="src/Mu.Schema.Optics.html#_U0" class="link">Source</a> <a href="#v:_U0" class="selflink">#</a></p><div class="doc"><p>Prism to access the first choice of a union.</p></div></div><div class="top"><p class="src"><a id="v:_Next" class="def">_Next</a> :: <span class="keyword">forall</span> (sch :: Schema') x xs. Prism' (NS (FieldValue sch) (x ': xs)) (NS (FieldValue sch) xs) <a href="src/Mu.Schema.Optics.html#_Next" class="link">Source</a> <a href="#v:_Next" class="selflink">#</a></p><div class="doc"><p>Prism to access all other choices of a union
   except for the first. Intended to use be used
   iteratively until you reach the desired choice
   with <code><a href="Mu-Schema-Optics.html#v:_U0" title="Mu.Schema.Optics">_U0</a></code>.</p><pre>_Next % _Next % _U0  -- access third choice</pre></div></div><div class="top"><p class="src"><a id="v:_U1" class="def">_U1</a> :: <span class="keyword">forall</span> (sch :: Schema') a b xs r. TypeLabel sch b r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': xs))) r <a href="src/Mu.Schema.Optics.html#_U1" class="link">Source</a> <a href="#v:_U1" class="selflink">#</a></p><div class="doc"><p>Prism to access the second choice of a union.</p></div></div><div class="top"><p class="src"><a id="v:_U2" class="def">_U2</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c xs r. TypeLabel sch c r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': xs)))) r <a href="src/Mu.Schema.Optics.html#_U2" class="link">Source</a> <a href="#v:_U2" class="selflink">#</a></p><div class="doc"><p>Prism to access the third choice of a union.</p></div></div><div class="top"><p class="src"><a id="v:_U3" class="def">_U3</a> :: <span class="keyword">forall</span> (sch :: Schema') a b c d xs r. TypeLabel sch d r =&gt; Prism' (NS (FieldValue sch) (a ': (b ': (c ': (d ': xs))))) r <a href="src/Mu.Schema.Optics.html#_U3" class="link">Source</a> <a href="#v:_U3" class="selflink">#</a></p><div class="doc"><p>Prism to access the fourth choice of a union.</p></div></div><a href="#g:2" id="g:2"><h1>Re-exported for convenience.</h1></a><a href="#g:3" id="g:3"><h1>Additional utilities.</h1></a><div class="top"><p class="src"><a id="v:is" class="def">is</a> :: Is k An_AffineFold =&gt; s -&gt; Optic' k is s a -&gt; <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Mu.Schema.Optics.html#is" class="link">Source</a> <a href="#v:is" class="selflink">#</a></p></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:LabelOptic:LabelOptic:1"></span> (EnumLabel choices choiceName, r ~ ()) =&gt; LabelOptic choiceName A_Prism (Term sch ('DEnum name choices :: TypeDefB <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> typeName <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>)) (Term sch ('DEnum name choices :: TypeDefB <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> typeName <a href="http://hackage.haskell.org/package/base-4.14.3.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>)) r r</span> <a href="src/Mu.Schema.Optics.html#line-163" class="link">Source</a> <a href="#v:-36-fLabelOpticchoiceNameA_PrismTermTermrr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:LabelOptic:LabelOptic:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:labelOptic">labelOptic</a> :: Optic A_Prism NoIx (Term sch ('DEnum name choices)) (Term sch ('DEnum name choices)) r r</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:LabelOptic:LabelOptic:2"></span> FieldLabel sch args fieldName r =&gt; LabelOptic fieldName A_Lens (Term sch ('DRecord name args)) (Term sch ('DRecord name args)) r r</span> <a href="src/Mu.Schema.Optics.html#line-53" class="link">Source</a> <a href="#v:-36-fLabelOpticfieldNameA_LensTermTermrr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:LabelOptic:LabelOptic:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:labelOptic">labelOptic</a> :: Optic A_Lens NoIx (Term sch ('DRecord name args)) (Term sch ('DRecord name args)) r r</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>