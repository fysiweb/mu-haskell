<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language AllowAmbiguousTypes    #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language DataKinds              #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language FlexibleContexts       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language FlexibleInstances      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language FunctionalDependencies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# language GADTs                  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# language LambdaCase             #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# language PolyKinds              #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# language ScopedTypeVariables    #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# language TypeApplications       #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# language TypeOperators          #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# language UndecidableInstances   #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-14"></span><span class="hs-comment">{-|
Description : Optics-based interface for @mu-schema@ terms

This module provides instances of 'LabelOptic' to be
used in conjunction with the @optics@ package.
In particular, there are two kind of optics to access
different parts of a 'Term':

* With @#field@ you obtain the lens (that is, a getter
  and a setter) for the corresponding field in a record.
* With @#choice@ you obtain the prism for the
  desired choice in an enumeration. You can use then
  'review' to construct a term with the value.

In addition, we provide a utility function 'record' to
build a record out of the inner values. We intend the
interface to be very simple, so this function is overloaded
to take tuples of different size, with as many components
as values in the schema type.
-}</span><span>
</span><span id="line-34"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Optics</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Build a term</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Mu.Schema.Optics.html#record"><span class="hs-identifier">record</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#record1"><span class="hs-identifier">record1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#enum"><span class="hs-identifier">enum</span></a></span><span>
</span><span id="line-37"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#_U0"><span class="hs-identifier">_U0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier">_Next</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#_U1"><span class="hs-identifier">_U1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#_U2"><span class="hs-identifier">_U2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#_U3"><span class="hs-identifier">_U3</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-exported for convenience.</span></span><span>
</span><span id="line-39"></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Optics.Core</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Additional utilities.</span></span><span>
</span><span id="line-41"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#is"><span class="hs-identifier">is</span></a></span><span>
</span><span id="line-42"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Optics.Core</span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Mu.Schema</span></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span id="local-6989586621679047171"><span id="local-6989586621679047172"><span id="local-6989586621679047173"><span id="local-6989586621679047174"><span id="local-6989586621679047175"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047175"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047174"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047173"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047172"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LabelOptic</span></span><span> </span><span class="annot"><a href="#local-6989586621679047173"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">A_Lens</span></span><span>
</span><span id="line-55"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047175"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DRecord</span></span><span> </span><span class="annot"><a href="#local-6989586621679047171"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047174"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047175"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DRecord</span></span><span> </span><span class="annot"><a href="#local-6989586621679047171"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047174"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>                       </span><span class="annot"><a href="#local-6989586621679047172"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047172"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>  </span><span id="local-6989586621679047168"><span class="annot"><span class="annottext">labelOptic :: Optic
  A_Lens
  NoIx
  (Term sch ('DRecord name args))
  (Term sch ('DRecord name args))
  r
  r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">labelOptic</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term sch ('DRecord name args) -&gt; r)
-&gt; (Term sch ('DRecord name args)
    -&gt; r -&gt; Term sch ('DRecord name args))
-&gt; Optic
     A_Lens
     NoIx
     (Term sch ('DRecord name args))
     (Term sch ('DRecord name args))
     r
     r
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><span class="hs-identifier hs-var">lens</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TRecord</span></span><span> </span><span id="local-6989586621679047164"><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679047164"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy fieldName -&gt; NP (Field sch) args -&gt; r
forall (sch :: Schema Symbol Symbol)
       (args :: [FieldDef Symbol Symbol]) (fieldName :: Symbol) r.
FieldLabel sch args fieldName r =&gt;
Proxy fieldName -&gt; NP (Field sch) args -&gt; r
</span><a href="Mu.Schema.Optics.html#fieldLensGet"><span class="hs-identifier hs-var">fieldLensGet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fieldName
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679047173"><span class="hs-identifier hs-type">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
NP (Field sch) args
</span><a href="#local-6989586621679047164"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>                    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TRecord</span></span><span> </span><span id="local-6989586621679047161"><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679047161"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047160"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047160"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><span class="hs-identifier hs-var">TRecord</span></span><span> </span><span class="annot"><span class="annottext">(NP (Field sch) args -&gt; Term sch ('DRecord name args))
-&gt; NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy fieldName -&gt; NP (Field sch) args -&gt; r -&gt; NP (Field sch) args
forall (sch :: Schema Symbol Symbol)
       (args :: [FieldDef Symbol Symbol]) (fieldName :: Symbol) r.
FieldLabel sch args fieldName r =&gt;
Proxy fieldName -&gt; NP (Field sch) args -&gt; r -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Optics.html#fieldLensSet"><span class="hs-identifier hs-var">fieldLensSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fieldName
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679047173"><span class="hs-identifier hs-type">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
NP (Field sch) args
</span><a href="#local-6989586621679047161"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047160"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | Build a Mu record 'Term' from a tuple of its values.</span><span>
</span><span id="line-62"></span><span class="hs-comment">--</span><span>
</span><span id="line-63"></span><span class="hs-comment">--   Note: if the record has exactly _one_ field,</span><span>
</span><span id="line-64"></span><span class="hs-comment">--   you must use 'record1' instead.</span><span>
</span><span id="line-65"></span><span id="local-6989586621679047155"><span id="local-6989586621679047156"><span id="local-6989586621679047157"><span id="local-6989586621679047158"><span class="annot"><a href="Mu.Schema.Optics.html#record"><span class="hs-identifier hs-type">record</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#BuildRecord"><span class="hs-identifier hs-type">BuildRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047158"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047157"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047156"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047156"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047158"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DRecord</span></span><span> </span><span class="annot"><a href="#local-6989586621679047155"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047157"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-66"></span><span id="record"><span class="annot"><span class="annottext">record :: r -&gt; Term sch ('DRecord name args)
</span><a href="Mu.Schema.Optics.html#record"><span class="hs-identifier hs-var hs-var">record</span></a></span></span><span> </span><span id="local-6989586621679047154"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047154"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><span class="hs-identifier hs-var">TRecord</span></span><span> </span><span class="annot"><span class="annottext">(NP (Field sch) args -&gt; Term sch ('DRecord name args))
-&gt; NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; NP (Field sch) args
forall (sch :: Schema Symbol Symbol)
       (args :: [FieldDef Symbol Symbol]) r.
BuildRecord sch args r =&gt;
r -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Optics.html#buildR"><span class="hs-identifier hs-var">buildR</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047154"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">-- | Build a Mu record 'Term' with exactly one field.</span><span>
</span><span id="line-69"></span><span id="local-6989586621679047148"><span id="local-6989586621679047149"><span id="local-6989586621679047150"><span id="local-6989586621679047151"><span id="local-6989586621679047152"><span class="annot"><a href="Mu.Schema.Optics.html#record1"><span class="hs-identifier hs-type">record1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047152"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047151"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047150"><span class="hs-identifier hs-type">r1</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047150"><span class="hs-identifier hs-type">r1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047152"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DRecord</span></span><span> </span><span class="annot"><a href="#local-6989586621679047149"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047148"><span class="hs-identifier hs-type">x1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047151"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-70"></span><span id="record1"><span class="annot"><span class="annottext">record1 :: r1 -&gt; Term sch ('DRecord name '[ 'FieldDef x1 t1])
</span><a href="Mu.Schema.Optics.html#record1"><span class="hs-identifier hs-var hs-var">record1</span></a></span></span><span> </span><span id="local-6989586621679047147"><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047147"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[ 'FieldDef x1 t1]
-&gt; Term sch ('DRecord name '[ 'FieldDef x1 t1])
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><span class="hs-identifier hs-var">TRecord</span></span><span> </span><span class="annot"><span class="annottext">(NP (Field sch) '[ 'FieldDef x1 t1]
 -&gt; Term sch ('DRecord name '[ 'FieldDef x1 t1]))
-&gt; NP (Field sch) '[ 'FieldDef x1 t1]
-&gt; Term sch ('DRecord name '[ 'FieldDef x1 t1])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; Field sch ('FieldDef x1 t1)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r1 -&gt; FieldValue sch t1
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047147"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef x1 t1)
-&gt; NP (Field sch) '[] -&gt; NP (Field sch) '[ 'FieldDef x1 t1]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">class</span><span> </span><span id="BuildRecord"><span class="annot"><a href="Mu.Schema.Optics.html#BuildRecord"><span class="hs-identifier hs-var">BuildRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047424"><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>                  </span><span class="hs-special">(</span><span id="local-6989586621679047423"><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>                  </span><span class="hs-special">(</span><span id="local-6989586621679047422"><span class="annot"><a href="#local-6989586621679047422"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047422"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-75"></span><span>  </span><span id="buildR"><span class="annot"><a href="Mu.Schema.Optics.html#buildR"><span class="hs-identifier hs-type">buildR</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679047422"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Field</span></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span id="local-6989586621679047142"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#BuildRecord"><span class="hs-identifier hs-type">BuildRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047142"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679047139"><span class="annot"><span class="annottext">buildR :: () -&gt; NP (Field sch) '[]
</span><a href="#local-6989586621679047139"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildR</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span id="local-6989586621679047132"><span id="local-6989586621679047133"><span id="local-6989586621679047134"><span id="local-6989586621679047135"><span id="local-6989586621679047136"><span id="local-6989586621679047137"><span id="local-6989586621679047138"><span class="hs-keyword">instance</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047138"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047137"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047136"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047138"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047135"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047134"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#BuildRecord"><span class="hs-identifier hs-type">BuildRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047138"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047133"><span class="hs-identifier hs-type">x1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047137"><span class="hs-identifier hs-type">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047132"><span class="hs-identifier hs-type">x2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047135"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047136"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047134"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621679047130"><span class="annot"><span class="annottext">buildR :: (r1, r2) -&gt; NP (Field sch) '[ 'FieldDef x1 t1, 'FieldDef x2 t2]
</span><a href="#local-6989586621679047130"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildR</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047129"><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047129"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047128"><span class="annot"><span class="annottext">r2
</span><a href="#local-6989586621679047128"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; Field sch ('FieldDef x1 t1)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r1 -&gt; FieldValue sch t1
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047129"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>                  </span><span class="annot"><span class="annottext">Field sch ('FieldDef x1 t1)
-&gt; NP (Field sch) '[ 'FieldDef x2 t2]
-&gt; NP (Field sch) '[ 'FieldDef x1 t1, 'FieldDef x2 t2]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t2 -&gt; Field sch ('FieldDef x2 t2)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r2 -&gt; FieldValue sch t2
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r2
</span><a href="#local-6989586621679047128"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef x2 t2)
-&gt; NP (Field sch) '[] -&gt; NP (Field sch) '[ 'FieldDef x2 t2]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679047118"><span id="local-6989586621679047119"><span id="local-6989586621679047120"><span id="local-6989586621679047121"><span id="local-6989586621679047122"><span id="local-6989586621679047123"><span id="local-6989586621679047124"><span id="local-6989586621679047125"><span id="local-6989586621679047126"><span id="local-6989586621679047127"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047127"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047126"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047125"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047127"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047124"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047123"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047127"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047122"><span class="hs-identifier hs-type">t3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047121"><span class="hs-identifier hs-type">r3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#BuildRecord"><span class="hs-identifier hs-type">BuildRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047127"><span class="hs-identifier hs-type">sch</span></a></span><span>
</span><span id="line-87"></span><span>                        </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047120"><span class="hs-identifier hs-type">x1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047126"><span class="hs-identifier hs-type">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047119"><span class="hs-identifier hs-type">x2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047124"><span class="hs-identifier hs-type">t2</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047118"><span class="hs-identifier hs-type">x3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047122"><span class="hs-identifier hs-type">t3</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047125"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047123"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047121"><span class="hs-identifier hs-type">r3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621679047116"><span class="annot"><span class="annottext">buildR :: (r1, r2, r3)
-&gt; NP
     (Field sch) '[ 'FieldDef x1 t1, 'FieldDef x2 t2, 'FieldDef x3 t3]
</span><a href="#local-6989586621679047116"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildR</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047115"><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047115"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047114"><span class="annot"><span class="annottext">r2
</span><a href="#local-6989586621679047114"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047113"><span class="annot"><span class="annottext">r3
</span><a href="#local-6989586621679047113"><span class="hs-identifier hs-var">v3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; Field sch ('FieldDef x1 t1)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r1 -&gt; FieldValue sch t1
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r1
</span><a href="#local-6989586621679047115"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>                      </span><span class="annot"><span class="annottext">Field sch ('FieldDef x1 t1)
-&gt; NP (Field sch) '[ 'FieldDef x2 t2, 'FieldDef x3 t3]
-&gt; NP
     (Field sch) '[ 'FieldDef x1 t1, 'FieldDef x2 t2, 'FieldDef x3 t3]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t2 -&gt; Field sch ('FieldDef x2 t2)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r2 -&gt; FieldValue sch t2
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r2
</span><a href="#local-6989586621679047114"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>                      </span><span class="annot"><span class="annottext">Field sch ('FieldDef x2 t2)
-&gt; NP (Field sch) '[ 'FieldDef x3 t3]
-&gt; NP (Field sch) '[ 'FieldDef x2 t2, 'FieldDef x3 t3]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t3 -&gt; Field sch ('FieldDef x3 t3)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r3 -&gt; FieldValue sch t3
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r3
</span><a href="#local-6989586621679047113"><span class="hs-identifier hs-var">v3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef x3 t3)
-&gt; NP (Field sch) '[] -&gt; NP (Field sch) '[ 'FieldDef x3 t3]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">class</span><span> </span><span id="FieldLabel"><span class="annot"><a href="Mu.Schema.Optics.html#FieldLabel"><span class="hs-identifier hs-var">FieldLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047443"><span class="annot"><a href="#local-6989586621679047443"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>                 </span><span class="hs-special">(</span><span id="local-6989586621679047442"><span class="annot"><a href="#local-6989586621679047442"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>                 </span><span class="hs-special">(</span><span id="local-6989586621679047441"><span class="annot"><a href="#local-6989586621679047441"><span class="hs-identifier hs-type">fieldName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047440"><span class="annot"><a href="#local-6989586621679047440"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679047443"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047442"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047441"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047440"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>  </span><span id="fieldLensGet"><span class="annot"><a href="Mu.Schema.Optics.html#fieldLensGet"><span class="hs-identifier hs-type">fieldLensGet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047441"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Field</span></span><span> </span><span class="annot"><a href="#local-6989586621679047443"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047442"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047440"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span id="fieldLensSet"><span class="annot"><a href="Mu.Schema.Optics.html#fieldLensSet"><span class="hs-identifier hs-type">fieldLensSet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047441"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Field</span></span><span> </span><span class="annot"><a href="#local-6989586621679047443"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047442"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047440"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Field</span></span><span> </span><span class="annot"><a href="#local-6989586621679047443"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047442"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">{- Removed due to FunDeps
instance TypeError ('Text &quot;cannot find field &quot; ':&lt;&gt;: 'ShowType f)
         =&gt; FieldLabel w sch '[] f t where
  fieldLensGet = error &quot;this should never be run&quot;
  fieldLensSet = error &quot;this should never be run&quot;
-}</span><span>
</span><span id="line-105"></span><span id="local-6989586621679047108"><span id="local-6989586621679047109"><span id="local-6989586621679047110"><span id="local-6989586621679047111"><span id="local-6989586621679047112"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047112"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047111"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047110"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047112"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">FieldDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679047109"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047111"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047108"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047109"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047110"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621679047104"><span class="annot"><span class="annottext">fieldLensGet :: Proxy f -&gt; NP (Field sch) ('FieldDef f t : rest) -&gt; r
</span><a href="#local-6989586621679047104"><span class="hs-identifier hs-var hs-var hs-var hs-var">fieldLensGet</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Field</span></span><span> </span><span id="local-6989586621679047103"><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679047103"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; r
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679047103"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679047101"><span class="annot"><span class="annottext">fieldLensSet :: Proxy f
-&gt; NP (Field sch) ('FieldDef f t : rest)
-&gt; r
-&gt; NP (Field sch) ('FieldDef f t : rest)
</span><a href="#local-6989586621679047101"><span class="hs-identifier hs-var hs-var hs-var hs-var">fieldLensSet</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field sch x
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679047100"><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047100"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047099"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047099"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Field sch ('FieldDef f t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><span class="hs-identifier hs-var">Field</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; FieldValue sch t
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047099"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef f t)
-&gt; NP (Field sch) xs -&gt; NP (Field sch) ('FieldDef f t : xs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047100"><span class="hs-identifier hs-var">r</span></a></span></span></span></span></span></span><span>
</span><span id="line-109"></span><span id="local-6989586621679047094"><span id="local-6989586621679047095"><span id="local-6989586621679047096"><span id="local-6989586621679047097"><span id="local-6989586621679047098"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047098"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047097"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047096"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047095"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-110"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047098"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047094"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047097"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047096"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047095"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679047091"><span class="annot"><span class="annottext">fieldLensGet :: Proxy g -&gt; NP (Field sch) (f : rest) -&gt; t
</span><a href="#local-6989586621679047091"><span class="hs-identifier hs-var hs-var hs-var hs-var">fieldLensGet</span></a></span></span><span> </span><span id="local-6989586621679047090"><span class="annot"><span class="annottext">Proxy g
</span><a href="#local-6989586621679047090"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field sch x
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679047089"><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047089"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy g -&gt; NP (Field sch) xs -&gt; t
forall (sch :: Schema Symbol Symbol)
       (args :: [FieldDef Symbol Symbol]) (fieldName :: Symbol) r.
FieldLabel sch args fieldName r =&gt;
Proxy fieldName -&gt; NP (Field sch) args -&gt; r
</span><a href="Mu.Schema.Optics.html#fieldLensGet"><span class="hs-identifier hs-var">fieldLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy g
</span><a href="#local-6989586621679047090"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047089"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679047088"><span class="annot"><span class="annottext">fieldLensSet :: Proxy g
-&gt; NP (Field sch) (f : rest) -&gt; t -&gt; NP (Field sch) (f : rest)
</span><a href="#local-6989586621679047088"><span class="hs-identifier hs-var hs-var hs-var hs-var">fieldLensSet</span></a></span></span><span> </span><span id="local-6989586621679047087"><span class="annot"><span class="annottext">Proxy g
</span><a href="#local-6989586621679047087"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047086"><span class="annot"><span class="annottext">Field sch x
</span><a href="#local-6989586621679047086"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679047085"><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047085"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047084"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679047084"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field sch x
</span><a href="#local-6989586621679047086"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Field sch x -&gt; NP (Field sch) xs -&gt; NP (Field sch) (x : xs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">Proxy g -&gt; NP (Field sch) xs -&gt; t -&gt; NP (Field sch) xs
forall (sch :: Schema Symbol Symbol)
       (args :: [FieldDef Symbol Symbol]) (fieldName :: Symbol) r.
FieldLabel sch args fieldName r =&gt;
Proxy fieldName -&gt; NP (Field sch) args -&gt; r -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Optics.html#fieldLensSet"><span class="hs-identifier hs-var">fieldLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy g
</span><a href="#local-6989586621679047087"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679047085"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679047084"><span class="hs-identifier hs-var">new</span></a></span></span></span></span></span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">class</span><span> </span><span id="TypeLabel"><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-var">TypeLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047407"><span class="annot"><a href="#local-6989586621679047407"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047406"><span class="annot"><a href="#local-6989586621679047406"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FieldType</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047405"><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679047407"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047406"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="typeLensGet"><span class="annot"><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-type">typeLensGet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047407"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047406"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span id="typeLensSet"><span class="annot"><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-type">typeLensSet</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047407"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047406"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span id="local-6989586621679047082"><span id="local-6989586621679047083"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047083"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TPrimitive</span></span><span> </span><span class="annot"><a href="#local-6989586621679047082"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047082"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621679047078"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TPrimitive t) -&gt; t
</span><a href="#local-6989586621679047078"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FPrimitive</span></span><span> </span><span id="local-6989586621679047076"><span class="annot"><span class="annottext">t1
</span><a href="#local-6989586621679047076"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
t1
</span><a href="#local-6989586621679047076"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span id="local-6989586621679047075"><span class="annot"><span class="annottext">typeLensSet :: t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679047075"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t1 (sch :: Schema typeName fieldName).
t1 -&gt; FieldValue sch ('TPrimitive t1)
</span><span class="hs-identifier hs-var">FPrimitive</span></span></span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span id="local-6989586621679047072"><span id="local-6989586621679047073"><span id="local-6989586621679047074"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047073"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:/:</span></span><span> </span><span class="annot"><a href="#local-6989586621679047072"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047073"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TSchematic</span></span><span> </span><span class="annot"><a href="#local-6989586621679047072"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047073"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047074"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621679047069"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TSchematic t) -&gt; Term sch r
</span><a href="#local-6989586621679047069"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FSchematic</span></span><span> </span><span id="local-6989586621679047067"><span class="annot"><span class="annottext">Term sch (sch :/: t1)
</span><a href="#local-6989586621679047067"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch r
Term sch (sch :/: t1)
</span><a href="#local-6989586621679047067"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span id="local-6989586621679047066"><span class="annot"><span class="annottext">typeLensSet :: Term sch r -&gt; FieldValue sch ('TSchematic t)
</span><a href="#local-6989586621679047066"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch r -&gt; FieldValue sch ('TSchematic t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t1 :: typeName).
Term sch (sch :/: t1) -&gt; FieldValue sch ('TSchematic t1)
</span><span class="hs-identifier hs-var">FSchematic</span></span></span></span></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621679047062"><span id="local-6989586621679047063"><span id="local-6989586621679047064"><span id="local-6989586621679047065"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047065"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047064"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047063"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047062"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679047063"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047065"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TOption</span></span><span> </span><span class="annot"><a href="#local-6989586621679047064"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047062"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621679047059"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TOption o) -&gt; r
</span><a href="#local-6989586621679047059"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FOption</span></span><span> </span><span id="local-6989586621679047057"><span class="annot"><span class="annottext">Maybe (FieldValue sch t1)
</span><a href="#local-6989586621679047057"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; r'
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t1 -&gt; r') -&gt; Maybe (FieldValue sch t1) -&gt; Maybe r'
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t1)
</span><a href="#local-6989586621679047057"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span id="local-6989586621679047055"><span class="annot"><span class="annottext">typeLensSet :: r -&gt; FieldValue sch ('TOption o)
</span><a href="#local-6989586621679047055"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span id="local-6989586621679047054"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047054"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch o) -&gt; FieldValue sch ('TOption o)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t1 :: FieldType typeName).
Maybe (FieldValue sch t1) -&gt; FieldValue sch ('TOption t1)
</span><span class="hs-identifier hs-var">FOption</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r' -&gt; FieldValue sch o
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">(r' -&gt; FieldValue sch o) -&gt; Maybe r' -&gt; Maybe (FieldValue sch o)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r
Maybe r'
</span><a href="#local-6989586621679047054"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span id="local-6989586621679047050"><span id="local-6989586621679047051"><span id="local-6989586621679047052"><span id="local-6989586621679047053"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047053"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047052"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047051"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047050"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679047051"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047053"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TList</span></span><span> </span><span class="annot"><a href="#local-6989586621679047052"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047050"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span id="local-6989586621679047047"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TList o) -&gt; r
</span><a href="#local-6989586621679047047"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FList</span></span><span> </span><span id="local-6989586621679047045"><span class="annot"><span class="annottext">[FieldValue sch t1]
</span><a href="#local-6989586621679047045"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; r'
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t1 -&gt; r') -&gt; [FieldValue sch t1] -&gt; [r']
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t1]
</span><a href="#local-6989586621679047045"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679047044"><span class="annot"><span class="annottext">typeLensSet :: r -&gt; FieldValue sch ('TList o)
</span><a href="#local-6989586621679047044"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span id="local-6989586621679047043"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047043"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue sch o] -&gt; FieldValue sch ('TList o)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t1 :: FieldType typeName).
[FieldValue sch t1] -&gt; FieldValue sch ('TList t1)
</span><span class="hs-identifier hs-var">FList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r' -&gt; FieldValue sch o
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">(r' -&gt; FieldValue sch o) -&gt; [r'] -&gt; [FieldValue sch o]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r
[r']
</span><a href="#local-6989586621679047043"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621679047037"><span id="local-6989586621679047038"><span id="local-6989586621679047039"><span id="local-6989586621679047040"><span id="local-6989586621679047041"><span id="local-6989586621679047042"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047042"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047041"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047040"><span class="hs-identifier hs-type">k'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047042"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047039"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047038"><span class="hs-identifier hs-type">v'</span></a></span><span>
</span><span id="line-138"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047037"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679047040"><span class="hs-identifier hs-type">k'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047038"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679047040"><span class="hs-identifier hs-type">k'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047042"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047041"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047042"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679047041"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047039"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047037"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621679047034"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TMap k v) -&gt; r
</span><a href="#local-6989586621679047034"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FMap</span></span><span> </span><span id="local-6989586621679047032"><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679047032"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldValue sch k -&gt; k') -&gt; Map (FieldValue sch k) v' -&gt; Map k' v'
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">mapKeys</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch k -&gt; k'
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch v -&gt; v'
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch v -&gt; v')
-&gt; Map (FieldValue sch k) (FieldValue sch v)
-&gt; Map (FieldValue sch k) v'
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679047032"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>  </span><span id="local-6989586621679047030"><span class="annot"><span class="annottext">typeLensSet :: r -&gt; FieldValue sch ('TMap k v)
</span><a href="#local-6989586621679047030"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span id="local-6989586621679047029"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679047029"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
-&gt; FieldValue sch ('TMap k v)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (k :: FieldType typeName) (v :: FieldType typeName).
Ord (FieldValue sch k) =&gt;
Map (FieldValue sch k) (FieldValue sch v)
-&gt; FieldValue sch ('TMap k v)
</span><span class="hs-identifier hs-var">FMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(k' -&gt; FieldValue sch k)
-&gt; Map k' (FieldValue sch v)
-&gt; Map (FieldValue sch k) (FieldValue sch v)
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">mapKeys</span></span><span> </span><span class="annot"><span class="annottext">k' -&gt; FieldValue sch k
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v' -&gt; FieldValue sch v
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span> </span><span class="annot"><span class="annottext">(v' -&gt; FieldValue sch v) -&gt; Map k' v' -&gt; Map k' (FieldValue sch v)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r
Map k' v'
</span><a href="#local-6989586621679047029"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679047026"><span id="local-6989586621679047027"><span id="local-6989586621679047028"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047028"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047027"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047026"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047027"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">TUnion</span></span><span> </span><span class="annot"><a href="#local-6989586621679047026"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047028"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679047023"><span class="annot"><span class="annottext">typeLensGet :: FieldValue sch ('TUnion choices) -&gt; r
</span><a href="#local-6989586621679047023"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensGet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FUnion</span></span><span> </span><span id="local-6989586621679047021"><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679047021"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r
NS (FieldValue sch) choices
</span><a href="#local-6989586621679047021"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679047020"><span class="annot"><span class="annottext">typeLensSet :: r -&gt; FieldValue sch ('TUnion choices)
</span><a href="#local-6989586621679047020"><span class="hs-identifier hs-var hs-var hs-var hs-var">typeLensSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; FieldValue sch ('TUnion choices)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><span class="hs-identifier hs-var">FUnion</span></span></span></span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | Build a Mu enumeration 'Term' from the name of the choice.</span><span>
</span><span id="line-149"></span><span class="annot"><a href="Mu.Schema.Optics.html#enum"><span class="hs-identifier hs-type">enum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047019"><span class="annot"><a href="#local-6989586621679047019"><span class="hs-identifier hs-type">choiceName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047018"><span class="annot"><a href="#local-6989586621679047018"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span id="local-6989586621679047017"><span class="annot"><a href="#local-6989586621679047017"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679047016"><span class="annot"><a href="#local-6989586621679047016"><span class="hs-identifier hs-type">name</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047018"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047019"><span class="hs-identifier hs-type">choiceName</span></a></span><span>
</span><span id="line-151"></span><span>     </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047017"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DEnum</span></span><span> </span><span class="annot"><a href="#local-6989586621679047016"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047018"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span id="enum"><span class="annot"><span class="annottext">enum :: Term sch ('DEnum name choices)
</span><a href="Mu.Schema.Optics.html#enum"><span class="hs-identifier hs-var hs-var">enum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><span class="hs-identifier hs-var">TEnum</span></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term sch ('DEnum name choices))
-&gt; NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy choiceName -&gt; NS Proxy choices
forall (choices :: [ChoiceDef Symbol]) (choiceName :: Symbol).
EnumLabel choices choiceName =&gt;
Proxy choiceName -&gt; NS Proxy choices
</span><a href="Mu.Schema.Optics.html#enumPrismBuild"><span class="hs-identifier hs-var">enumPrismBuild</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choiceName
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679047019"><span class="hs-identifier hs-type">choiceName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- Useful utility to check whether a value</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- matches a given enumeration choice.</span><span>
</span><span id="line-156"></span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- &gt; f e | e `is` #sunny = ...</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- &gt;     | e `is` #rainy = ...</span><span>
</span><span id="line-159"></span><span id="local-6989586621679047010"><span id="local-6989586621679047011"><span id="local-6989586621679047012"><span id="local-6989586621679047013"><span class="annot"><a href="Mu.Schema.Optics.html#is"><span class="hs-identifier hs-type">is</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Is</span></span><span> </span><span class="annot"><a href="#local-6989586621679047013"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">An_AffineFold</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047012"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Optic'</span></span><span> </span><span class="annot"><a href="#local-6989586621679047013"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047011"><span class="hs-identifier hs-type">is</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047012"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047010"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span></span><span>
</span><span id="line-160"></span><span id="is"><span class="annot"><span class="annottext">is :: s -&gt; Optic' k is s a -&gt; Bool
</span><a href="Mu.Schema.Optics.html#is"><span class="hs-identifier hs-var hs-var">is</span></a></span></span><span> </span><span id="local-6989586621679047009"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679047009"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679047008"><span class="annot"><span class="annottext">Optic' k is s a
</span><a href="#local-6989586621679047008"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic' k is s a -&gt; s -&gt; Maybe a
forall k (is :: IxList) s a.
Is k An_AffineFold =&gt;
Optic' k is s a -&gt; s -&gt; Maybe a
</span><span class="hs-identifier hs-var">preview</span></span><span> </span><span class="annot"><span class="annottext">Optic' k is s a
</span><a href="#local-6989586621679047008"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679047009"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#is"><span class="hs-pragma hs-type">is</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span id="local-6989586621679047002"><span id="local-6989586621679047003"><span id="local-6989586621679047004"><span id="local-6989586621679047005"><span id="local-6989586621679047006"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047006"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047005"><span class="hs-identifier hs-type">choiceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679047004"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LabelOptic</span></span><span> </span><span class="annot"><a href="#local-6989586621679047005"><span class="hs-identifier hs-type">choiceName</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">A_Prism</span></span><span>
</span><span id="line-165"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047003"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DEnum</span></span><span> </span><span class="annot"><a href="#local-6989586621679047002"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047006"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679047003"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">DEnum</span></span><span> </span><span class="annot"><a href="#local-6989586621679047002"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047006"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>                       </span><span class="annot"><a href="#local-6989586621679047004"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047004"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679047000"><span class="annot"><span class="annottext">labelOptic :: Optic
  A_Prism
  NoIx
  (Term sch ('DEnum name choices))
  (Term sch ('DEnum name choices))
  r
  r
</span><a href="#local-6989586621679047000"><span class="hs-identifier hs-var hs-var hs-var hs-var">labelOptic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; Term sch ('DEnum name choices))
-&gt; (Term sch ('DEnum name choices) -&gt; Maybe r)
-&gt; Optic
     A_Prism
     NoIx
     (Term sch ('DEnum name choices))
     (Term sch ('DEnum name choices))
     r
     r
forall b s a. (b -&gt; s) -&gt; (s -&gt; Maybe a) -&gt; Prism s s a b
</span><span class="hs-identifier hs-var">prism'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">r
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><span class="hs-identifier hs-var">TEnum</span></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term sch ('DEnum name choices))
-&gt; NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy choiceName -&gt; NS Proxy choices
forall (choices :: [ChoiceDef Symbol]) (choiceName :: Symbol).
EnumLabel choices choiceName =&gt;
Proxy choiceName -&gt; NS Proxy choices
</span><a href="Mu.Schema.Optics.html#enumPrismBuild"><span class="hs-identifier hs-var">enumPrismBuild</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choiceName
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679047005"><span class="hs-identifier hs-type">choiceName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>                     </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TEnum</span></span><span> </span><span id="local-6989586621679046998"><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679046998"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy choiceName -&gt; NS Proxy choices -&gt; Maybe ()
forall (choices :: [ChoiceDef Symbol]) (choiceName :: Symbol).
EnumLabel choices choiceName =&gt;
Proxy choiceName -&gt; NS Proxy choices -&gt; Maybe ()
</span><a href="Mu.Schema.Optics.html#enumPrismMatch"><span class="hs-identifier hs-var">enumPrismMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choiceName
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679047005"><span class="hs-identifier hs-type">choiceName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679046998"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-keyword">class</span><span> </span><span id="EnumLabel"><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-var">EnumLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047298"><span class="annot"><a href="#local-6989586621679047298"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ChoiceDef</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679047297"><span class="annot"><a href="#local-6989586621679047297"><span class="hs-identifier hs-type">choiceName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>  </span><span id="enumPrismBuild"><span class="annot"><a href="Mu.Schema.Optics.html#enumPrismBuild"><span class="hs-identifier hs-type">enumPrismBuild</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047297"><span class="hs-identifier hs-type">choiceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047298"><span class="hs-identifier hs-type">choices</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span id="enumPrismMatch"><span class="annot"><a href="Mu.Schema.Optics.html#enumPrismMatch"><span class="hs-identifier hs-type">enumPrismMatch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047297"><span class="hs-identifier hs-type">choiceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679047298"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span id="local-6989586621679046996"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;cannot find choice &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679046996"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679046996"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621679046992"><span class="annot"><span class="annottext">enumPrismBuild :: Proxy c -&gt; NS Proxy '[]
</span><a href="#local-6989586621679046992"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismBuild</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Proxy c -&gt; NS Proxy '[]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;this should never be run&quot;</span></span><span>
</span><span id="line-179"></span><span>  </span><span id="local-6989586621679046990"><span class="annot"><span class="annottext">enumPrismMatch :: Proxy c -&gt; NS Proxy '[] -&gt; Maybe ()
</span><a href="#local-6989586621679046990"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismMatch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Proxy c -&gt; NS Proxy '[] -&gt; Maybe ()
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;this should never be run&quot;</span></span></span><span>
</span><span id="line-180"></span><span id="local-6989586621679046988"><span id="local-6989586621679046989"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ChoiceDef</span></span><span> </span><span class="annot"><a href="#local-6989586621679046989"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046988"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679046989"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621679046985"><span class="annot"><span class="annottext">enumPrismBuild :: Proxy c -&gt; NS Proxy ('ChoiceDef c : rest)
</span><a href="#local-6989586621679046985"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismBuild</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c) -&gt; NS Proxy ('ChoiceDef c : rest)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-182"></span><span>  </span><span id="local-6989586621679046983"><span class="annot"><span class="annottext">enumPrismMatch :: Proxy c -&gt; NS Proxy ('ChoiceDef c : rest) -&gt; Maybe ()
</span><a href="#local-6989586621679046983"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Maybe ()
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><a href="Mu.Schema.Optics.html#enumPrismMatch"><span class="hs-identifier hs-var">enumPrismMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NS Proxy ('ChoiceDef c : rest)
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ()
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-184"></span><span id="local-6989586621679046980"><span id="local-6989586621679046981"><span id="local-6989586621679046982"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679046982"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679046981"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-185"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#EnumLabel"><span class="hs-identifier hs-type">EnumLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679046980"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046982"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679046981"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>  </span><span id="local-6989586621679046977"><span class="annot"><span class="annottext">enumPrismBuild :: Proxy c -&gt; NS Proxy (d : rest)
</span><a href="#local-6989586621679046977"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismBuild</span></a></span></span><span> </span><span id="local-6989586621679046976"><span class="annot"><span class="annottext">Proxy c
</span><a href="#local-6989586621679046976"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy rest -&gt; NS Proxy (d : rest)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; NS Proxy rest
forall (choices :: [ChoiceDef Symbol]) (choiceName :: Symbol).
EnumLabel choices choiceName =&gt;
Proxy choiceName -&gt; NS Proxy choices
</span><a href="Mu.Schema.Optics.html#enumPrismBuild"><span class="hs-identifier hs-var">enumPrismBuild</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><a href="#local-6989586621679046976"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679046974"><span class="annot"><span class="annottext">enumPrismMatch :: Proxy c -&gt; NS Proxy (d : rest) -&gt; Maybe ()
</span><a href="#local-6989586621679046974"><span class="hs-identifier hs-var hs-var hs-var hs-var">enumPrismMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ()
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="Mu.Schema.Optics.html#enumPrismMatch"><span class="hs-identifier hs-var">enumPrismMatch</span></a></span><span> </span><span id="local-6989586621679046973"><span class="annot"><span class="annottext">Proxy c
</span><a href="#local-6989586621679046973"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679046972"><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679046972"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; NS Proxy xs -&gt; Maybe ()
forall (choices :: [ChoiceDef Symbol]) (choiceName :: Symbol).
EnumLabel choices choiceName =&gt;
Proxy choiceName -&gt; NS Proxy choices -&gt; Maybe ()
</span><a href="Mu.Schema.Optics.html#enumPrismMatch"><span class="hs-identifier hs-var">enumPrismMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy c
</span><a href="#local-6989586621679046973"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679046972"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- | Prism to access the first choice of a union.</span><span>
</span><span id="line-191"></span><span class="annot"><a href="Mu.Schema.Optics.html#_U0"><span class="hs-identifier hs-type">_U0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047213"><span class="annot"><a href="#local-6989586621679047213"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema'</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047212"><span class="annot"><a href="#local-6989586621679047212"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679047210"><span class="annot"><a href="#local-6989586621679047210"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679047211"><span class="annot"><a href="#local-6989586621679047211"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047213"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047212"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047211"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047213"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047212"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047210"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047211"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-193"></span><span id="_U0"><span class="annot"><span class="annottext">_U0 :: Prism' (NS (FieldValue sch) (x : xs)) r
</span><a href="Mu.Schema.Optics.html#_U0"><span class="hs-identifier hs-var hs-var">_U0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; NS (FieldValue sch) (x : xs))
-&gt; (NS (FieldValue sch) (x : xs) -&gt; Maybe r)
-&gt; Prism' (NS (FieldValue sch) (x : xs)) r
forall b s a. (b -&gt; s) -&gt; (s -&gt; Maybe a) -&gt; Prism s s a b
</span><span class="hs-identifier hs-var">prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; NS (FieldValue sch) (x : xs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch x -&gt; NS (FieldValue sch) (x : xs))
-&gt; (r -&gt; FieldValue sch x) -&gt; r -&gt; NS (FieldValue sch) (x : xs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; FieldValue sch x
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
r -&gt; FieldValue sch t
</span><a href="Mu.Schema.Optics.html#typeLensSet"><span class="hs-identifier hs-var">typeLensSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>             </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679046969"><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679046969"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; Maybe r
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Maybe r) -&gt; r -&gt; Maybe r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x -&gt; r
forall (sch :: Schema Symbol Symbol) (t :: FieldType Symbol) r.
TypeLabel sch t r =&gt;
FieldValue sch t -&gt; r
</span><a href="Mu.Schema.Optics.html#typeLensGet"><span class="hs-identifier hs-var">typeLensGet</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679046969"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-195"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe r
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | Prism to access all other choices of a union</span><span>
</span><span id="line-198"></span><span class="hs-comment">--   except for the first. Intended to use be used</span><span>
</span><span id="line-199"></span><span class="hs-comment">--   iteratively until you reach the desired choice</span><span>
</span><span id="line-200"></span><span class="hs-comment">--   with '_U0'.</span><span>
</span><span id="line-201"></span><span class="hs-comment">--</span><span>
</span><span id="line-202"></span><span class="hs-comment">--   &gt; _Next % _Next % _U0  -- access third choice</span><span>
</span><span id="line-203"></span><span class="annot"><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier hs-type">_Next</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047230"><span class="annot"><a href="#local-6989586621679047230"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema'</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047229"><span class="annot"><a href="#local-6989586621679047229"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679047228"><span class="annot"><a href="#local-6989586621679047228"><span class="hs-identifier hs-type">xs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-204"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">Prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047230"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047229"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047228"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047230"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047228"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span id="_Next"><span class="annot"><span class="annottext">_Next :: Prism' (NS (FieldValue sch) (x : xs)) (NS (FieldValue sch) xs)
</span><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier hs-var hs-var">_Next</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NS (FieldValue sch) xs -&gt; NS (FieldValue sch) (x : xs))
-&gt; (NS (FieldValue sch) (x : xs) -&gt; Maybe (NS (FieldValue sch) xs))
-&gt; Prism' (NS (FieldValue sch) (x : xs)) (NS (FieldValue sch) xs)
forall b s a. (b -&gt; s) -&gt; (s -&gt; Maybe a) -&gt; Prism s s a b
</span><span class="hs-identifier hs-var">prism'</span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; NS (FieldValue sch) (x : xs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span>
</span><span id="line-207"></span><span>               </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (NS (FieldValue sch) xs)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-208"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679046968"><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679046968"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; Maybe (NS (FieldValue sch) xs)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679046968"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">-- | Prism to access the second choice of a union.</span><span>
</span><span id="line-211"></span><span class="annot"><a href="Mu.Schema.Optics.html#_U1"><span class="hs-identifier hs-type">_U1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047203"><span class="annot"><a href="#local-6989586621679047203"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema'</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047200"><span class="annot"><a href="#local-6989586621679047200"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679047202"><span class="annot"><a href="#local-6989586621679047202"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679047199"><span class="annot"><a href="#local-6989586621679047199"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679047201"><span class="annot"><a href="#local-6989586621679047201"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047203"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047202"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047201"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047203"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047200"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047202"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047199"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047201"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-213"></span><span id="_U1"><span class="annot"><span class="annottext">_U1 :: Prism' (NS (FieldValue sch) (a : b : xs)) r
</span><a href="Mu.Schema.Optics.html#_U1"><span class="hs-identifier hs-var hs-var">_U1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : xs)) (NS (FieldValue sch) (b : xs))
forall (sch :: Schema Symbol Symbol) (x :: FieldType Symbol)
       (xs :: [FieldType Symbol]).
Prism' (NS (FieldValue sch) (x : xs)) (NS (FieldValue sch) xs)
</span><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier hs-var">_Next</span></a></span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : xs)) (NS (FieldValue sch) (b : xs))
-&gt; Optic
     A_Prism
     NoIx
     (NS (FieldValue sch) (b : xs))
     (NS (FieldValue sch) (b : xs))
     r
     r
-&gt; Prism' (NS (FieldValue sch) (a : b : xs)) r
forall k m l (ks :: IxList) (is :: IxList) (js :: IxList) s t u v a
       b.
(Is k m, Is l m, m ~ Join k l, ks ~ Append is js) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Prism
  NoIx
  (NS (FieldValue sch) (b : xs))
  (NS (FieldValue sch) (b : xs))
  r
  r
forall (sch :: Schema Symbol Symbol) (x :: FieldType Symbol)
       (xs :: [FieldType Symbol]) r.
TypeLabel sch x r =&gt;
Prism' (NS (FieldValue sch) (x : xs)) r
</span><a href="Mu.Schema.Optics.html#_U0"><span class="hs-identifier hs-var">_U0</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- | Prism to access the third choice of a union.</span><span>
</span><span id="line-216"></span><span class="annot"><a href="Mu.Schema.Optics.html#_U2"><span class="hs-identifier hs-type">_U2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047191"><span class="annot"><a href="#local-6989586621679047191"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema'</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047188"><span class="annot"><a href="#local-6989586621679047188"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679047187"><span class="annot"><a href="#local-6989586621679047187"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679047190"><span class="annot"><a href="#local-6989586621679047190"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679047186"><span class="annot"><a href="#local-6989586621679047186"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679047189"><span class="annot"><a href="#local-6989586621679047189"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047191"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047189"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679047191"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047188"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047187"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679047186"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047189"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-218"></span><span id="_U2"><span class="annot"><span class="annottext">_U2 :: Prism' (NS (FieldValue sch) (a : b : c : xs)) r
</span><a href="Mu.Schema.Optics.html#_U2"><span class="hs-identifier hs-var hs-var">_U2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : c : xs))
  (NS (FieldValue sch) (b : c : xs))
forall (sch :: Schema Symbol Symbol) (x :: FieldType Symbol)
       (xs :: [FieldType Symbol]).
Prism' (NS (FieldValue sch) (x : xs)) (NS (FieldValue sch) xs)
</span><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier hs-var">_Next</span></a></span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : c : xs))
  (NS (FieldValue sch) (b : c : xs))
-&gt; Optic
     A_Prism
     NoIx
     (NS (FieldValue sch) (b : c : xs))
     (NS (FieldValue sch) (b : c : xs))
     r
     r
-&gt; Prism' (NS (FieldValue sch) (a : b : c : xs)) r
forall k m l (ks :: IxList) (is :: IxList) (js :: IxList) s t u v a
       b.
(Is k m, Is l m, m ~ Join k l, ks ~ Append is js) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Prism
  NoIx
  (NS (FieldValue sch) (b : c : xs))
  (NS (FieldValue sch) (b : c : xs))
  r
  r
forall (sch :: Schema Symbol Symbol) (a :: FieldType Symbol)
       (b :: FieldType Symbol) (xs :: [FieldType Symbol]) r.
TypeLabel sch b r =&gt;
Prism' (NS (FieldValue sch) (a : b : xs)) r
</span><a href="Mu.Schema.Optics.html#_U1"><span class="hs-identifier hs-var">_U1</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | Prism to access the fourth choice of a union.</span><span>
</span><span id="line-221"></span><span class="annot"><a href="Mu.Schema.Optics.html#_U3"><span class="hs-identifier hs-type">_U3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679046966"><span class="annot"><a href="#local-6989586621679046966"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Schema'</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679046965"><span class="annot"><a href="#local-6989586621679046965"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679046964"><span class="annot"><a href="#local-6989586621679046964"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679046963"><span class="annot"><a href="#local-6989586621679046963"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679046962"><span class="annot"><a href="#local-6989586621679046962"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span id="local-6989586621679046961"><span class="annot"><a href="#local-6989586621679046961"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679046960"><span class="annot"><a href="#local-6989586621679046960"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Optics.html#TypeLabel"><span class="hs-identifier hs-type">TypeLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679046966"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679046962"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679046960"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Prism'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FieldValue</span></span><span> </span><span class="annot"><a href="#local-6989586621679046966"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679046965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046964"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046963"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046962"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679046961"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679046960"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-223"></span><span id="_U3"><span class="annot"><span class="annottext">_U3 :: Prism' (NS (FieldValue sch) (a : b : c : d : xs)) r
</span><a href="Mu.Schema.Optics.html#_U3"><span class="hs-identifier hs-var hs-var">_U3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : c : d : xs))
  (NS (FieldValue sch) (b : c : d : xs))
forall (sch :: Schema Symbol Symbol) (x :: FieldType Symbol)
       (xs :: [FieldType Symbol]).
Prism' (NS (FieldValue sch) (x : xs)) (NS (FieldValue sch) xs)
</span><a href="Mu.Schema.Optics.html#_Next"><span class="hs-identifier hs-var">_Next</span></a></span><span> </span><span class="annot"><span class="annottext">Prism'
  (NS (FieldValue sch) (a : b : c : d : xs))
  (NS (FieldValue sch) (b : c : d : xs))
-&gt; Optic
     A_Prism
     NoIx
     (NS (FieldValue sch) (b : c : d : xs))
     (NS (FieldValue sch) (b : c : d : xs))
     r
     r
-&gt; Prism' (NS (FieldValue sch) (a : b : c : d : xs)) r
forall k m l (ks :: IxList) (is :: IxList) (js :: IxList) s t u v a
       b.
(Is k m, Is l m, m ~ Join k l, ks ~ Append is js) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Prism
  NoIx
  (NS (FieldValue sch) (b : c : d : xs))
  (NS (FieldValue sch) (b : c : d : xs))
  r
  r
forall (sch :: Schema Symbol Symbol) (a :: FieldType Symbol)
       (b :: FieldType Symbol) (c :: FieldType Symbol)
       (xs :: [FieldType Symbol]) r.
TypeLabel sch c r =&gt;
Prism' (NS (FieldValue sch) (a : b : c : xs)) r
</span><a href="Mu.Schema.Optics.html#_U2"><span class="hs-identifier hs-var">_U2</span></a></span><span>
</span><span id="line-224"></span></pre></body></html>