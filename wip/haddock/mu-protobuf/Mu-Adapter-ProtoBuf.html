<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Mu.Adapter.ProtoBuf</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">mu-protobuf-0.4.1.0: Protocol Buffers serialization and gRPC schema import for Mu microservices</span><ul class="links" id="page-menu"><li><a href="src/Mu.Adapter.ProtoBuf.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Mu.Adapter.ProtoBuf</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Custom annotations</a></li><li><a href="#g:2">Conversion using schemas</a></li><li><a href="#g:3">Conversion using registry</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Just import the module and you can turn any
value with a <code>ToSchema</code> and <code>FromSchema</code> from
and to Protocol Buffers. Since Protocol Buffers
need information about field identifiers, you
need to annotate your schema using <code><a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufAnnotation" title="Mu.Adapter.ProtoBuf">ProtoBufAnnotation</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ProtoBufAnnotation">ProtoBufAnnotation</a><ul class="subs"><li>= <a href="#v:ProtoBufId">ProtoBufId</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a> [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]</li><li>| <a href="#v:ProtoBufOneOfIds">ProtoBufOneOfIds</a> [<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a>]</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ProtoBufOptionConstant">ProtoBufOptionConstant</a><ul class="subs"><li>= <a href="#v:ProtoBufOptionConstantInt">ProtoBufOptionConstantInt</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a></li><li>| <a href="#v:ProtoBufOptionConstantBool">ProtoBufOptionConstantBool</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li>| <a href="#v:ProtoBufOptionConstantObject">ProtoBufOptionConstantObject</a> [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]</li><li>| <a href="#v:ProtoBufOptionConstantOther">ProtoBufOptionConstantOther</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a></li></ul></li><li class="src short"><span class="keyword">class</span> ProtoBridgeTerm sch (sch :/: sty) =&gt; <a href="#t:IsProtoSchema">IsProtoSchema</a> sch sty</li><li class="src short"><a href="#v:toProtoViaSchema">toProtoViaSchema</a> :: <span class="keyword">forall</span> t f (sch :: Schema t f) a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, ToSchema sch sty a) =&gt; a -&gt; MessageBuilder</li><li class="src short"><a href="#v:fromProtoViaSchema">fromProtoViaSchema</a> :: <span class="keyword">forall</span> t f (sch :: Schema t f) a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, FromSchema sch sty a) =&gt; Parser RawMessage a</li><li class="src short"><a href="#v:parseProtoViaSchema">parseProtoViaSchema</a> :: <span class="keyword">forall</span> sch a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, FromSchema sch sty a) =&gt; <a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> ParseError a</li><li class="src short"><span class="keyword">class</span> <a href="#t:FromProtoBufRegistry">FromProtoBufRegistry</a> (ms :: Mappings <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a> Schema') t</li><li class="src short"><a href="#v:fromProtoBufWithRegistry">fromProtoBufWithRegistry</a> :: <span class="keyword">forall</span> (r :: Registry) t. <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> r t =&gt; Parser RawMessage t</li><li class="src short"><a href="#v:parseProtoBufWithRegistry">parseProtoBufWithRegistry</a> :: <span class="keyword">forall</span> (r :: Registry) t. <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> r t =&gt; <a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> ParseError t</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Custom annotations</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProtoBufAnnotation" class="def">ProtoBufAnnotation</a> <a href="src/Mu.Adapter.ProtoBuf.html#ProtoBufAnnotation" class="link">Source</a> <a href="#t:ProtoBufAnnotation" class="selflink">#</a></p><div class="doc"><p>Annotations for Protocol Buffers fields.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProtoBufId" class="def">ProtoBufId</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a> [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]</td><td class="doc"><p>Numeric field identifier for normal fields
   and whether it should be packed (only used for lists of number-like values)</p></td></tr><tr><td class="src"><a id="v:ProtoBufOneOfIds" class="def">ProtoBufOneOfIds</a> [<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a>]</td><td class="doc"><p>List of identifiers for fields which contain a union</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ProtoBufAnnotation">Instances</h4><details id="i:ProtoBufAnnotation" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProtoBufAnnotation:AnnotatedSchema:1"></span> <span class="keyword">type</span> AnnotatedSchema <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufAnnotation" title="Mu.Adapter.ProtoBuf">ProtoBufAnnotation</a> <a href="Mu-Quasi-ProtoBuf-Example.html#t:ExampleProtoBufSchema" title="Mu.Quasi.ProtoBuf.Example">ExampleProtoBufSchema</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProtoBufAnnotation:AnnotatedSchema:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Quasi-ProtoBuf-Example.html">Mu.Quasi.ProtoBuf.Example</a></p> <div class="src"><span class="keyword">type</span> AnnotatedSchema <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufAnnotation" title="Mu.Adapter.ProtoBuf">ProtoBufAnnotation</a> <a href="Mu-Quasi-ProtoBuf-Example.html#t:ExampleProtoBufSchema" title="Mu.Quasi.ProtoBuf.Example">ExampleProtoBufSchema</a> = '['AnnField &quot;person&quot; &quot;firstName&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 1 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;lastName&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 2 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;age&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 3 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;gender&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 4 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;address&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 5 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;lucky_numbers&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 6 '['(&quot;packed&quot;, '<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufOptionConstantBool" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstantBool</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#v:True" title="Data.Bool">True</a>)]), 'AnnField &quot;person&quot; &quot;things&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 7 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;address&quot; &quot;postcode&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 1 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;address&quot; &quot;country&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 2 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;gender&quot; &quot;nb&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 0 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;gender&quot; &quot;male&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 1 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;gender&quot; &quot;female&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 2 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]))]</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProtoBufAnnotation:AnnotatedSchema:2"></span> <span class="keyword">type</span> AnnotatedSchema <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufAnnotation" title="Mu.Adapter.ProtoBuf">ProtoBufAnnotation</a> <a href="Mu-Quasi-ProtoBuf-Example.html#t:Example2ProtoBufSchema" title="Mu.Quasi.ProtoBuf.Example">Example2ProtoBufSchema</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProtoBufAnnotation:AnnotatedSchema:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Quasi-ProtoBuf-Example.html">Mu.Quasi.ProtoBuf.Example</a></p> <div class="src"><span class="keyword">type</span> AnnotatedSchema <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufAnnotation" title="Mu.Adapter.ProtoBuf">ProtoBufAnnotation</a> <a href="Mu-Quasi-ProtoBuf-Example.html#t:Example2ProtoBufSchema" title="Mu.Quasi.ProtoBuf.Example">Example2ProtoBufSchema</a> = '['AnnField &quot;gender&quot; &quot;male&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 1 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;gender&quot; &quot;female&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 2 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;gender&quot; &quot;nonbinary&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 3 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;names&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 1 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;age&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 2 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)])), 'AnnField &quot;person&quot; &quot;gender&quot; ('<a href="Mu-Adapter-ProtoBuf.html#v:ProtoBufId" title="Mu.Adapter.ProtoBuf">ProtoBufId</a> 3 ('[] :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]))]</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProtoBufOptionConstant" class="def">ProtoBufOptionConstant</a> <a href="src/Mu.Adapter.ProtoBuf.html#ProtoBufOptionConstant" class="link">Source</a> <a href="#t:ProtoBufOptionConstant" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProtoBufOptionConstantInt" class="def">ProtoBufOptionConstantInt</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ProtoBufOptionConstantBool" class="def">ProtoBufOptionConstantBool</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ProtoBufOptionConstantObject" class="def">ProtoBufOptionConstantObject</a> [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, <a href="Mu-Adapter-ProtoBuf.html#t:ProtoBufOptionConstant" title="Mu.Adapter.ProtoBuf">ProtoBufOptionConstant</a>)]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ProtoBufOptionConstantOther" class="def">ProtoBufOptionConstantOther</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Conversion using schemas</h1></a><div class="top"><p class="src"><span class="keyword">class</span> ProtoBridgeTerm sch (sch :/: sty) =&gt; <a id="t:IsProtoSchema" class="def">IsProtoSchema</a> sch sty <a href="src/Mu.Adapter.ProtoBuf.html#IsProtoSchema" class="link">Source</a> <a href="#t:IsProtoSchema" class="selflink">#</a></p><div class="doc"><p>Represents those <code>Schema</code>s which are supported by Protocol Buffers.
   Some values which can be represented as <code>Term</code>s cannot be so in
   Protocol Buffers. For example, you cannot have a list within an option.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsProtoSchema">Instances</h4><details id="i:IsProtoSchema" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsProtoSchema:IsProtoSchema:1"></span> ProtoBridgeTerm sch (sch :/: sty) =&gt; <a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> (sch :: Schema t f) (sty :: t)</span> <a href="src/Mu.Adapter.ProtoBuf.html#line-126" class="link">Source</a> <a href="#t:IsProtoSchema" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsProtoSchema:IsProtoSchema:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Adapter-ProtoBuf.html">Mu.Adapter.ProtoBuf</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:toProtoViaSchema" class="def">toProtoViaSchema</a> :: <span class="keyword">forall</span> t f (sch :: Schema t f) a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, ToSchema sch sty a) =&gt; a -&gt; MessageBuilder <a href="src/Mu.Adapter.ProtoBuf.html#toProtoViaSchema" class="link">Source</a> <a href="#v:toProtoViaSchema" class="selflink">#</a></p><div class="doc"><p>Conversion to Protocol Buffers mediated by a schema.</p></div></div><div class="top"><p class="src"><a id="v:fromProtoViaSchema" class="def">fromProtoViaSchema</a> :: <span class="keyword">forall</span> t f (sch :: Schema t f) a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, FromSchema sch sty a) =&gt; Parser RawMessage a <a href="src/Mu.Adapter.ProtoBuf.html#fromProtoViaSchema" class="link">Source</a> <a href="#v:fromProtoViaSchema" class="selflink">#</a></p><div class="doc"><p>Conversion from Protocol Buffers mediated by a schema.
   This function requires a <code>RawMessage</code>, which means
   that we already know that the Protocol Buffers message
   is well-formed. Use <code><a href="Mu-Adapter-ProtoBuf.html#v:parseProtoViaSchema" title="Mu.Adapter.ProtoBuf">parseProtoViaSchema</a></code> to parse directly
   from a <code><a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:parseProtoViaSchema" class="def">parseProtoViaSchema</a> :: <span class="keyword">forall</span> sch a sty. (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> sch sty, FromSchema sch sty a) =&gt; <a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> ParseError a <a href="src/Mu.Adapter.ProtoBuf.html#parseProtoViaSchema" class="link">Source</a> <a href="#v:parseProtoViaSchema" class="selflink">#</a></p><div class="doc"><p>Conversion from Protocol Buffers mediated by a schema.
   This function receives the <code><a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> directly,
   and parses it as part of its duty.</p></div></div><a href="#g:3" id="g:3"><h1>Conversion using registry</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:FromProtoBufRegistry" class="def">FromProtoBufRegistry</a> (ms :: Mappings <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a> Schema') t <a href="src/Mu.Adapter.ProtoBuf.html#FromProtoBufRegistry" class="link">Source</a> <a href="#t:FromProtoBufRegistry" class="selflink">#</a></p><div class="doc"><p>Represents <code>Registry</code>s for which every <code>Schema</code>
   is supported by the Protocol Buffers format.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">fromProtoBufRegistry'</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FromProtoBufRegistry">Instances</h4><details id="i:FromProtoBufRegistry" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromProtoBufRegistry:FromProtoBufRegistry:1"></span> <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> ('[] :: [Mapping <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeNats.html#t:Nat" title="GHC.TypeNats">Nat</a> Schema']) t</span> <a href="src/Mu.Adapter.ProtoBuf.html#line-183" class="link">Source</a> <a href="#t:FromProtoBufRegistry" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromProtoBufRegistry:FromProtoBufRegistry:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Adapter-ProtoBuf.html">Mu.Adapter.ProtoBuf</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromProtoBufRegistry-39-">fromProtoBufRegistry'</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '[] -&gt; Parser RawMessage t</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromProtoBufRegistry:FromProtoBufRegistry:2"></span> (<a href="Mu-Adapter-ProtoBuf.html#t:IsProtoSchema" title="Mu.Adapter.ProtoBuf">IsProtoSchema</a> s sty, FromSchema s sty t, <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> ms t) =&gt; <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> ((n :-&gt; s) ': ms) t</span> <a href="src/Mu.Adapter.ProtoBuf.html#line-185" class="link">Source</a> <a href="#t:FromProtoBufRegistry" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromProtoBufRegistry:FromProtoBufRegistry:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Adapter-ProtoBuf.html">Mu.Adapter.ProtoBuf</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromProtoBufRegistry-39-">fromProtoBufRegistry'</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ((n :-&gt; s) ': ms) -&gt; Parser RawMessage t</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:fromProtoBufWithRegistry" class="def">fromProtoBufWithRegistry</a> :: <span class="keyword">forall</span> (r :: Registry) t. <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> r t =&gt; Parser RawMessage t <a href="src/Mu.Adapter.ProtoBuf.html#fromProtoBufWithRegistry" class="link">Source</a> <a href="#v:fromProtoBufWithRegistry" class="selflink">#</a></p><div class="doc"><p>Conversion from Protocol Buffers by checking
   all the <code>Schema</code>s in a <code>Registry</code>.</p><p>As <code><a href="Mu-Adapter-ProtoBuf.html#v:fromProtoViaSchema" title="Mu.Adapter.ProtoBuf">fromProtoViaSchema</a></code>, this version requires
   an already well-formed Protocol Buffers message.</p></div></div><div class="top"><p class="src"><a id="v:parseProtoBufWithRegistry" class="def">parseProtoBufWithRegistry</a> :: <span class="keyword">forall</span> (r :: Registry) t. <a href="Mu-Adapter-ProtoBuf.html#t:FromProtoBufRegistry" title="Mu.Adapter.ProtoBuf">FromProtoBufRegistry</a> r t =&gt; <a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> ParseError t <a href="src/Mu.Adapter.ProtoBuf.html#parseProtoBufWithRegistry" class="link">Source</a> <a href="#v:parseProtoBufWithRegistry" class="selflink">#</a></p><div class="doc"><p>Conversion from Protocol Buffers by checking
   all the <code>Schema</code>s in a <code>Registry</code>.</p><p>As <code><a href="Mu-Adapter-ProtoBuf.html#v:parseProtoViaSchema" title="Mu.Adapter.ProtoBuf">parseProtoViaSchema</a></code>, this version receives
   a <code><a href="http://hackage.haskell.org/package/bytestring-0.10.10.1/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> and parses it as part of its duty.</p></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:ProtoEnum:ProtoEnum:1"></span> ProtoEnum <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></span> <a href="src/Mu.Adapter.ProtoBuf.html#line-61" class="link">Source</a> <a href="#v:-36-fProtoEnumBool" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:ProtoEnum:ProtoEnum:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toProtoEnumMay">toProtoEnumMay</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Int.html#t:Int32" title="Data.Int">Int32</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></p><p class="src"><a href="#v:fromProtoEnum">fromProtoEnum</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Int.html#t:Int32" title="Data.Int">Int32</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Alternative:Alternative:2"></span> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (Parser i)</span> <a href="src/Mu.Adapter.ProtoBuf.html#line-194" class="link">Source</a> <a href="#v:-36-fAlternativeParser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Alternative:Alternative:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: Parser i a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: Parser i a -&gt; Parser i a -&gt; Parser i a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: Parser i a -&gt; Parser i [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: Parser i a -&gt; Parser i [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>