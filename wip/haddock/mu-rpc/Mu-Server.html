<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Mu.Server</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">mu-rpc-0.4.0.1: Protocol-independent declaration of services and servers.</span><ul class="links" id="page-menu"><li><a href="src/Mu.Server.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Mu.Server</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Servers and handlers</a><ul><li><a href="#g:2">Definitions by name</a></li><li><a href="#g:3">Definitions by position</a></li><li><a href="#g:4">Simple servers using only IO</a></li></ul></li><li><a href="#g:5">Errors which might be raised</a><ul><li><a href="#g:6">Useful when you do not want to deal with errors</a></li></ul></li><li><a href="#g:7">For internal use</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A server (represented by <code><a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a></code>) is a sequence
of handlers (represented by <code><a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a></code>), one for each
operation in the corresponding Mu service declaration.</p><p>In general, you can declare a server by naming
each of the methods with their handlers:</p><pre>server :: MonadServer m =&gt; ServerT MyService m _
server = singleService ( method @&quot;m1&quot; h1
                       , method @&quot;m2&quot; h2
                       , ... )</pre><p>or by position:</p><pre>server :: MonadServer m =&gt; ServerT MyService m _
server = Server (h1 :&lt;|&gt;: h2 :&lt;|&gt;: ... :&lt;|&gt;: H0)</pre><p>where each of <code>h1</code>, <code>h2</code>, ... handles each method in
<code>MyService</code> <em>in the order they were declared</em>.</p><p>In both cases, the <code>_</code> in the type allows GHC to fill
in the boring and long type you would need to write
there otherwise.</p><p><em>Implementation note</em>: exceptions raised in handlers
produce an error to be sent as response to the client.
We recommend you to catch exceptions and return custom
<code><a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a></code>s instead.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:MonadServer">MonadServer</a> m = (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ServiceChain">ServiceChain</a> snm = Mappings snm <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li class="src short"><a href="#v:noContext">noContext</a> :: b -&gt; a1 -&gt; a2 -&gt; b</li><li class="src short"><a href="#v:wrapServer">wrapServer</a> :: <span class="keyword">forall</span> chn info p m topHs. (<span class="keyword">forall</span> a. <a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; m a -&gt; m a) -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info p m topHs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info p m topHs</li><li class="src short"><a href="#v:singleService">singleService</a> :: (ToNamedList p nl, ToHandlers chn info () methods m hs nl, MappingRight chn sname ~ ()) =&gt; p -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname '['<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods]) m '[hs]</li><li class="src short"><a href="#v:method">method</a> :: <span class="keyword">forall</span> n a p. p -&gt; Named n (a -&gt; () -&gt; p)</li><li class="src short"><a href="#v:methodWithInfo">methodWithInfo</a> :: <span class="keyword">forall</span> n p info. (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; p) -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; () -&gt; p)</li><li class="src short"><a href="#v:resolver">resolver</a> :: (ToNamedList p nl, ToServices chn info ss m hs nl) =&gt; p -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname ss) m hs</li><li class="src short"><a href="#v:object">object</a> :: <span class="keyword">forall</span> sname p nl chn info ms m hs. (ToNamedList p nl, ToHandlers chn info (MappingRight chn sname) ms m hs nl) =&gt; p -&gt; Named sname (<a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info (MappingRight chn sname) ms m hs)</li><li class="src short"><a href="#v:field">field</a> :: <span class="keyword">forall</span> n h info. h -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h)</li><li class="src short"><a href="#v:fieldWithInfo">fieldWithInfo</a> :: <span class="keyword">forall</span> n h info. (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h) -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h)</li><li class="src short"><span class="keyword">data</span> <a href="#t:NamedList">NamedList</a> (hs :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, *)]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:N0">N0</a> :: <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> '[]</li><li><a href="#v::-124-:">(:|:)</a> :: Named n h -&gt; <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> hs -&gt; <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> ('(n, h) ': hs)</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:SingleServerT">SingleServerT</a> = <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> '[]</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Server">Server</a> :: MappingRight chn sname ~ () =&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () methods m hs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname '['<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods]) m '[hs]</li><li class="src short"><span class="keyword">data</span> <a href="#t:ServerT">ServerT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (s :: <a href="Mu-Rpc.html#t:Package" title="Mu.Rpc">Package</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [[<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:Services">Services</a> :: <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info s m hs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname s) m hs</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ServicesT">ServicesT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (s :: [<a href="Mu-Rpc.html#t:Service" title="Mu.Rpc">Service</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [[<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:S0">S0</a> :: <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info '[] m '[]</li><li><a href="#v::-60--38--62-:">(:&lt;&amp;&gt;:)</a> :: <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info (MappingRight chn sname) methods m hs -&gt; <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info rest m hss -&gt; <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info ('<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods ': rest) m (hs ': hss)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:HandlersT">HandlersT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (inh :: *) (methods :: [<a href="Mu-Rpc.html#t:Method" title="Mu.Rpc">Method</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:H0">H0</a> :: <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh '[] m '[]</li><li><a href="#v:Hmore">Hmore</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> args -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ret -&gt; (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; inh -&gt; h) -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs)</li><li><span class="keyword">pattern</span> <a href="#v::-60--124--124--62-:">(:&lt;||&gt;:)</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; inh -&gt; h) -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs)</li><li><span class="keyword">pattern</span> <a href="#v::-60--124--62-:">(:&lt;|&gt;:)</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; h -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs)</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:ServerErrorIO">ServerErrorIO</a> = <a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ServerIO">ServerIO</a> info srv = <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> '[] info srv <a href="Mu-Server.html#t:ServerErrorIO" title="Mu.Server">ServerErrorIO</a></li><li class="src short"><a href="#v:serverError">serverError</a> :: <a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m =&gt; <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:ServerError">ServerError</a> = <a href="#v:ServerError">ServerError</a> <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ServerErrorCode">ServerErrorCode</a><ul class="subs"><li>= <a href="#v:Unknown">Unknown</a></li><li>| <a href="#v:Unavailable">Unavailable</a></li><li>| <a href="#v:Unimplemented">Unimplemented</a></li><li>| <a href="#v:Unauthenticated">Unauthenticated</a></li><li>| <a href="#v:Internal">Internal</a></li><li>| <a href="#v:Invalid">Invalid</a></li><li>| <a href="#v:NotFound">NotFound</a></li></ul></li><li class="src short"><a href="#v:alwaysOk">alwaysOk</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; m a</li><li class="src short"><span class="keyword">class</span> <a href="#t:Handles">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (args :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (ret :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (h :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li class="src short"><span class="keyword">class</span> <a href="#t:FromRef">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) (t :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li class="src short"><span class="keyword">class</span> <a href="#t:ToRef">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) (t :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Servers and handlers</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadServer" class="def">MonadServer</a> m = (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) <a href="src/Mu.Server.html#MonadServer" class="link">Source</a> <a href="#t:MonadServer" class="selflink">#</a></p><div class="doc"><p>Constraint for monads that can be used as servers</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ServiceChain" class="def">ServiceChain</a> snm = Mappings snm <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Mu.Server.html#ServiceChain" class="link">Source</a> <a href="#t:ServiceChain" class="selflink">#</a></p><div class="doc"><p>Defines a mapping between outcome of
   a service, and its representation as
   Haskell type.</p></div></div><div class="top"><p class="src"><a id="v:noContext" class="def">noContext</a> :: b -&gt; a1 -&gt; a2 -&gt; b <a href="src/Mu.Server.html#noContext" class="link">Source</a> <a href="#v:noContext" class="selflink">#</a></p><div class="doc"><p>To declare that the function doesn't use
   its context.</p></div></div><div class="top"><p class="src"><a id="v:wrapServer" class="def">wrapServer</a> :: <span class="keyword">forall</span> chn info p m topHs. (<span class="keyword">forall</span> a. <a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; m a -&gt; m a) -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info p m topHs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info p m topHs <a href="src/Mu.Server.html#wrapServer" class="link">Source</a> <a href="#v:wrapServer" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>Definitions by name</h2></a><div class="top"><p class="src"><a id="v:singleService" class="def">singleService</a> :: (ToNamedList p nl, ToHandlers chn info () methods m hs nl, MappingRight chn sname ~ ()) =&gt; p -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname '['<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods]) m '[hs] <a href="src/Mu.Server.html#singleService" class="link">Source</a> <a href="#v:singleService" class="selflink">#</a></p><div class="doc"><p>Defines a server for a package with a single service.
   Intended to be used with a tuple of <code><a href="Mu-Server.html#v:method" title="Mu.Server">method</a></code>s:</p><pre>singleService (method @&quot;m1&quot; h1, method @&quot;m2&quot; h2)</pre></div></div><div class="top"><p class="src"><a id="v:method" class="def">method</a> :: <span class="keyword">forall</span> n a p. p -&gt; Named n (a -&gt; () -&gt; p) <a href="src/Mu.Server.html#method" class="link">Source</a> <a href="#v:method" class="selflink">#</a></p><div class="doc"><p>Declares the handler for a method in the service.
   Intended to be used with <code>TypeApplications</code>:</p><pre>method @&quot;myMethod&quot; myHandler</pre></div></div><div class="top"><p class="src"><a id="v:methodWithInfo" class="def">methodWithInfo</a> :: <span class="keyword">forall</span> n p info. (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; p) -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; () -&gt; p) <a href="src/Mu.Server.html#methodWithInfo" class="link">Source</a> <a href="#v:methodWithInfo" class="selflink">#</a></p><div class="doc"><p>Declares the handler for a method in the service,
   which is passed additional information about the call.
   Intended to be used with <code>TypeApplications</code>:</p><pre>methodWithInfo @&quot;myMethod&quot; myHandler</pre></div></div><div class="top"><p class="src"><a id="v:resolver" class="def">resolver</a> :: (ToNamedList p nl, ToServices chn info ss m hs nl) =&gt; p -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname ss) m hs <a href="src/Mu.Server.html#resolver" class="link">Source</a> <a href="#v:resolver" class="selflink">#</a></p><div class="doc"><p>Combines the implementation of several GraphQL objects,
   which means a whole Mu service for a GraphQL server.
   Intented to be used with a tuple of <code>objects</code>:</p><pre>resolver (object @&quot;o1&quot; ..., object @&quot;o2&quot; ...)</pre></div></div><div class="top"><p class="src"><a id="v:object" class="def">object</a> :: <span class="keyword">forall</span> sname p nl chn info ms m hs. (ToNamedList p nl, ToHandlers chn info (MappingRight chn sname) ms m hs nl) =&gt; p -&gt; Named sname (<a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info (MappingRight chn sname) ms m hs) <a href="src/Mu.Server.html#object" class="link">Source</a> <a href="#v:object" class="selflink">#</a></p><div class="doc"><p>Defines the implementation of a single GraphQL object,
   which translates as a single Mu service.
   Intended to be used with <code>TypeApplications</code>
   and a tuple of <code><a href="Mu-Server.html#v:field" title="Mu.Server">field</a></code>s:</p><pre>object @&quot;myObject&quot; (field @&quot;f1&quot; h1, fielf @&quot;f2&quot; h2)</pre><p>Note: for the root objects in GraphQL (query, mutation, subscription)
   use <code><a href="Mu-Server.html#v:method" title="Mu.Server">method</a></code> instead of <code><a href="Mu-Server.html#v:object" title="Mu.Server">object</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:field" class="def">field</a> :: <span class="keyword">forall</span> n h info. h -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h) <a href="src/Mu.Server.html#field" class="link">Source</a> <a href="#v:field" class="selflink">#</a></p><div class="doc"><p>Declares the handler for a field in an object.
   Intended to be used with <code>TypeApplications</code>:</p><pre>field @&quot;myField&quot; myHandler</pre></div></div><div class="top"><p class="src"><a id="v:fieldWithInfo" class="def">fieldWithInfo</a> :: <span class="keyword">forall</span> n h info. (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h) -&gt; Named n (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; h) <a href="src/Mu.Server.html#fieldWithInfo" class="link">Source</a> <a href="#v:fieldWithInfo" class="selflink">#</a></p><div class="doc"><p>Declares the handler for a field in an object,
   which is passed additional information about the call.
   Intended to be used with <code>TypeApplications</code>:</p><pre>fieldWithInfo @&quot;myField&quot; myHandler</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NamedList" class="def">NamedList</a> (hs :: [(<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>, *)]) <span class="keyword">where</span> <a href="src/Mu.Server.html#NamedList" class="link">Source</a> <a href="#t:NamedList" class="selflink">#</a></p><div class="doc"><p>Heterogeneous list in which each element
   is tagged with a type-level name.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:N0" class="def">N0</a> :: <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> '[]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v::-124-:" class="def">(:|:)</a> :: Named n h -&gt; <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> hs -&gt; <a href="Mu-Server.html#t:NamedList" title="Mu.Server">NamedList</a> ('(n, h) ': hs) <span class="fixity">infixr 4</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:3" id="g:3"><h2>Definitions by position</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SingleServerT" class="def">SingleServerT</a> = <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> '[] <a href="src/Mu.Server.html#SingleServerT" class="link">Source</a> <a href="#t:SingleServerT" class="selflink">#</a></p><div class="doc"><p>A server for a single service,
   like most RPC ones.</p></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Server" class="def">Server</a> :: MappingRight chn sname ~ () =&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () methods m hs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname '['<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods]) m '[hs] <a href="src/Mu.Server.html#Server" class="link">Source</a> <a href="#v:Server" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServerT" class="def">ServerT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (s :: <a href="Mu-Rpc.html#t:Package" title="Mu.Rpc">Package</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [[<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]]) <span class="keyword">where</span> <a href="src/Mu.Server.html#ServerT" class="link">Source</a> <a href="#t:ServerT" class="selflink">#</a></p><div class="doc"><p>Definition of a complete server
   for a set of services, with possible
   references between them.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Services" class="def">Services</a> :: <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info s m hs -&gt; <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> chn info ('<a href="Mu-Rpc.html#v:Package" title="Mu.Rpc">Package</a> pname s) m hs</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServicesT" class="def">ServicesT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (s :: [<a href="Mu-Rpc.html#t:Service" title="Mu.Rpc">Service</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [[<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]]) <span class="keyword">where</span> <a href="src/Mu.Server.html#ServicesT" class="link">Source</a> <a href="#t:ServicesT" class="selflink">#</a></p><div class="doc"><p>Definition of a complete server for a service.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:S0" class="def">S0</a> :: <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info '[] m '[]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v::-60--38--62-:" class="def">(:&lt;&amp;&gt;:)</a> :: <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info (MappingRight chn sname) methods m hs -&gt; <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info rest m hss -&gt; <a href="Mu-Server.html#t:ServicesT" title="Mu.Server">ServicesT</a> chn info ('<a href="Mu-Rpc.html#v:Service" title="Mu.Rpc">Service</a> sname methods ': rest) m (hs ': hss) <span class="fixity">infixr 3</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HandlersT" class="def">HandlersT</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (info :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (inh :: *) (methods :: [<a href="Mu-Rpc.html#t:Method" title="Mu.Rpc">Method</a> snm mnm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (hs :: [<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) <span class="keyword">where</span> <a href="src/Mu.Server.html#HandlersT" class="link">Source</a> <a href="#t:HandlersT" class="selflink">#</a></p><div class="doc"><p><code><a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a></code> is a sequence of handlers.
   Note that the handlers for your service
   must appear <strong>in the same order</strong> as they
   are defined.</p><p>In general you can choose any type you want
   for your handlers, due to the following restrictions:</p><ul><li>Haskell types must be convertible to the
     corresponding schema type. In other words,
     they must implement <code>FromSchema</code> if they are
     inputs, and <code>ToSchema</code> if they are outputs.</li><li>Normal returns are represented by returning
     the corresponding Haskell type.</li><li>Input streams turn into <code>Conduit () t m ()</code>,
     where <code>t</code> is the Haskell type for that schema type.</li><li>Output streams turn into an <strong>additional argument</strong>
     of type <code>Conduit t Void m ()</code>. This stream should
     be connected to a source to get the elements.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:H0" class="def">H0</a> :: <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh '[] m '[]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Hmore" class="def">Hmore</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> args -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ret -&gt; (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; inh -&gt; h) -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs bundled-patterns"><p class="caption">Bundled Patterns</p><table><tr><td class="src"><span class="keyword">pattern</span> <a id="v::-60--124--124--62-:" class="def">(:&lt;||&gt;:)</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; (<a href="Mu-Rpc.html#t:RpcInfo" title="Mu.Rpc">RpcInfo</a> info -&gt; inh -&gt; h) -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info inh ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs) <span class="fixity">infixr 4</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">pattern</span> <a id="v::-60--124--62-:" class="def">(:&lt;|&gt;:)</a> :: <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h =&gt; h -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () ms m hs -&gt; <a href="Mu-Server.html#t:HandlersT" title="Mu.Server">HandlersT</a> chn info () ('<a href="Mu-Rpc.html#v:Method" title="Mu.Rpc">Method</a> name args ret ': ms) m (h ': hs) <span class="fixity">infixr 4</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:4" id="g:4"><h2>Simple servers using only IO</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ServerErrorIO" class="def">ServerErrorIO</a> = <a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="src/Mu.Server.html#ServerErrorIO" class="link">Source</a> <a href="#t:ServerErrorIO" class="selflink">#</a></p><div class="doc"><p>Simplest monad which satisfies <code><a href="Mu-Server.html#t:MonadServer" title="Mu.Server">MonadServer</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ServerIO" class="def">ServerIO</a> info srv = <a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a> '[] info srv <a href="Mu-Server.html#t:ServerErrorIO" title="Mu.Server">ServerErrorIO</a> <a href="src/Mu.Server.html#ServerIO" class="link">Source</a> <a href="#t:ServerIO" class="selflink">#</a></p><div class="doc"><p>Simple <code><a href="Mu-Server.html#t:ServerT" title="Mu.Server">ServerT</a></code> which uses only <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code> and errors,
   and whose service has no back-references.</p></div></div><a href="#g:5" id="g:5"><h1>Errors which might be raised</h1></a><div class="top"><p class="src"><a id="v:serverError" class="def">serverError</a> :: <a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m =&gt; <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; m a <a href="src/Mu.Server.html#serverError" class="link">Source</a> <a href="#v:serverError" class="selflink">#</a></p><div class="doc"><p>Stop the current handler,
   returning an error to the client.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServerError" class="def">ServerError</a> <a href="src/Mu.Server.html#ServerError" class="link">Source</a> <a href="#t:ServerError" class="selflink">#</a></p><div class="doc"><p>Errors raised in a handler.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ServerError" class="def">ServerError</a> <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ServerError">Instances</h4><details id="i:ServerError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ServerError:Show:1"></span> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a></span> <a href="src/Mu.Server.html#line-116" class="link">Source</a> <a href="#t:ServerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ServerError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ServerError:Exception:2"></span> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a></span> <a href="src/Mu.Server.html#line-118" class="link">Source</a> <a href="#t:ServerError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ServerError:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServerErrorCode" class="def">ServerErrorCode</a> <a href="src/Mu.Server.html#ServerErrorCode" class="link">Source</a> <a href="#t:ServerErrorCode" class="selflink">#</a></p><div class="doc"><p>Possible types of errors.
   Some of these are handled in a special way
   by different transpoprt layers.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Unknown" class="def">Unknown</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Unavailable" class="def">Unavailable</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Unimplemented" class="def">Unimplemented</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Unauthenticated" class="def">Unauthenticated</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Internal" class="def">Internal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Invalid" class="def">Invalid</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NotFound" class="def">NotFound</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ServerErrorCode">Instances</h4><details id="i:ServerErrorCode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ServerErrorCode:Eq:1"></span> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a></span> <a href="src/Mu.Server.html#line-131" class="link">Source</a> <a href="#t:ServerErrorCode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ServerErrorCode:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ServerErrorCode:Show:2"></span> <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a></span> <a href="src/Mu.Server.html#line-131" class="link">Source</a> <a href="#t:ServerErrorCode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ServerErrorCode:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Mu-Server.html#t:ServerErrorCode" title="Mu.Server">ServerErrorCode</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:6" id="g:6"><h2>Useful when you do not want to deal with errors</h2></a><div class="top"><p class="src"><a id="v:alwaysOk" class="def">alwaysOk</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; m a <a href="src/Mu.Server.html#alwaysOk" class="link">Source</a> <a href="#v:alwaysOk" class="selflink">#</a></p><div class="doc"><p>Wrapper for handlers which do not use errors.
   Remember that any exception raised in <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code>
   is propagated to the client.</p></div></div><a href="#g:7" id="g:7"><h1>For internal use</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Handles" class="def">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (args :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) (ret :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) (m :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (h :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Mu.Server.html#Handles" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></p><div class="doc"><p>Defines a relation for handling.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">wrapHandler</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Handles">Instances</h4><details id="i:Handles" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:1"></span> (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, handler ~ m ()) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('[] :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) ('<a href="Mu-Rpc.html#v:RetNothing" title="Mu.Rpc">RetNothing</a> :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) m handler</span> <a href="src/Mu.Server.html#line-251" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '[] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '<a href="Mu-Rpc.html#v:RetNothing" title="Mu.Rpc">RetNothing</a> -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:2"></span> (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn ref v, handler ~ (ConduitT v <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Void.html#t:Void" title="Data.Void">Void</a> m () -&gt; m ())) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('[] :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) ('<a href="Mu-Rpc.html#v:RetStream" title="Mu.Rpc">RetStream</a> ref :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) m handler</span> <a href="src/Mu.Server.html#line-261" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '[] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ('<a href="Mu-Rpc.html#v:RetStream" title="Mu.Rpc">RetStream</a> ref) -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:3"></span> (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn ref v, handler ~ m v) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('[] :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) ('<a href="Mu-Rpc.html#v:RetSingle" title="Mu.Rpc">RetSingle</a> ref :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) m handler</span> <a href="src/Mu.Server.html#line-258" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '[] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ('<a href="Mu-Rpc.html#v:RetSingle" title="Mu.Rpc">RetSingle</a> ref) -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:4"></span> (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn eref e, <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn vref v, handler ~ m (<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> e v)) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('[] :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> snm anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)]) ('<a href="Mu-Rpc.html#v:RetThrows" title="Mu.Rpc">RetThrows</a> eref vref :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> snm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm)) m handler</span> <a href="src/Mu.Server.html#line-254" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '[] -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ('<a href="Mu-Rpc.html#v:RetThrows" title="Mu.Rpc">RetThrows</a> eref vref) -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:5"></span> (<a href="http://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Mu-Server.html#t:ServerError" title="Mu.Server">ServerError</a> m, <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> chn ref t, <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h, handler ~ (ConduitT () t m () -&gt; h)) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) (('<a href="Mu-Rpc.html#v:ArgStream" title="Mu.Rpc">ArgStream</a> aname ref :: <a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> serviceName anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)) ': args :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> serviceName anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)]) (ret :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> serviceName (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)) m handler</span> <a href="src/Mu.Server.html#line-246" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ('<a href="Mu-Rpc.html#v:ArgStream" title="Mu.Rpc">ArgStream</a> aname ref ': args) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ret -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Handles:Handles:6"></span> (<a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> chn ref t, <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> chn args ret m h, handler ~ (t -&gt; h)) =&gt; <a href="Mu-Server.html#t:Handles" title="Mu.Server">Handles</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) (('<a href="Mu-Rpc.html#v:ArgSingle" title="Mu.Rpc">ArgSingle</a> aname ref :: <a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> serviceName anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)) ': args :: [<a href="Mu-Rpc.html#t:Argument" title="Mu.Rpc">Argument</a> serviceName anm (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)]) (ret :: <a href="Mu-Rpc.html#t:Return" title="Mu.Rpc">Return</a> serviceName (<a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName)) m handler</span> <a href="src/Mu.Server.html#line-241" class="link">Source</a> <a href="#t:Handles" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Handles:Handles:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:wrapHandler">wrapHandler</a> :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> '(chn, m) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ('<a href="Mu-Rpc.html#v:ArgSingle" title="Mu.Rpc">ArgSingle</a> aname ref ': args) -&gt; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> ret -&gt; (<span class="keyword">forall</span> a. m a -&gt; m a) -&gt; handler -&gt; handler</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:FromRef" class="def">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) (t :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Mu.Server.html#FromRef" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></p><div class="doc"><p>Defines whether a given type <code>t</code>
   can be obtained from the <code><a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a></code> <code>ref</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FromRef">Instances</h4><details id="i:FromRef" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:1"></span> (<a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> chn ref t, <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> t ~ s) =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) ('<a href="Mu-Rpc.html#v:OptionalRef" title="Mu.Rpc">OptionalRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) s</span> <a href="src/Mu.Server.html#line-238" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:2"></span> (<a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> chn ref t, [t] ~ s) =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) ('<a href="Mu-Rpc.html#v:ListRef" title="Mu.Rpc">ListRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) s</span> <a href="src/Mu.Server.html#line-237" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:3"></span> MappingRight chn ref ~ t =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: Mappings serviceName <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) ('<a href="Mu-Rpc.html#v:ObjectRef" title="Mu.Rpc">ObjectRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) t</span> <a href="src/Mu.Server.html#line-235" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:4"></span> t ~ s =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:PrimitiveRef" title="Mu.Rpc">PrimitiveRef</a> t :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) s</span> <a href="src/Mu.Server.html#line-233" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:5"></span> t ~ s =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:RegistryRef" title="Mu.Rpc">RegistryRef</a> subject t last :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) s</span> <a href="src/Mu.Server.html#line-236" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FromRef:FromRef:6"></span> FromSchema sch sty t =&gt; <a href="Mu-Server.html#t:FromRef" title="Mu.Server">FromRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:SchemaRef" title="Mu.Rpc">SchemaRef</a> sch sty :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) t</span> <a href="src/Mu.Server.html#line-234" class="link">Source</a> <a href="#t:FromRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:FromRef:FromRef:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ToRef" class="def">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) (ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) (t :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Mu.Server.html#ToRef" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></p><div class="doc"><p>Defines whether a given type <code>t</code>
   can be turned into the <code><a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a></code> <code>ref</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ToRef">Instances</h4><details id="i:ToRef" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:1"></span> (<a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn ref t, <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> t ~ s) =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) ('<a href="Mu-Rpc.html#v:OptionalRef" title="Mu.Rpc">OptionalRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) s</span> <a href="src/Mu.Server.html#line-231" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:2"></span> (<a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> chn ref t, [t] ~ s) =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> serviceName) ('<a href="Mu-Rpc.html#v:ListRef" title="Mu.Rpc">ListRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) s</span> <a href="src/Mu.Server.html#line-230" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:3"></span> MappingRight chn ref ~ t =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: Mappings serviceName <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) ('<a href="Mu-Rpc.html#v:ObjectRef" title="Mu.Rpc">ObjectRef</a> ref :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> serviceName) t</span> <a href="src/Mu.Server.html#line-228" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:4"></span> t ~ s =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:PrimitiveRef" title="Mu.Rpc">PrimitiveRef</a> t :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) s</span> <a href="src/Mu.Server.html#line-226" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:5"></span> t ~ s =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:RegistryRef" title="Mu.Rpc">RegistryRef</a> subject t last :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) s</span> <a href="src/Mu.Server.html#line-229" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ToRef:ToRef:6"></span> ToSchema sch sty t =&gt; <a href="Mu-Server.html#t:ToRef" title="Mu.Server">ToRef</a> (chn :: <a href="Mu-Server.html#t:ServiceChain" title="Mu.Server">ServiceChain</a> snm) ('<a href="Mu-Rpc.html#v:SchemaRef" title="Mu.Rpc">SchemaRef</a> sch sty :: <a href="Mu-Rpc.html#t:TypeRef" title="Mu.Rpc">TypeRef</a> snm) t</span> <a href="src/Mu.Server.html#line-227" class="link">Source</a> <a href="#t:ToRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ToRef:ToRef:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Mu-Server.html">Mu.Server</a></p></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>