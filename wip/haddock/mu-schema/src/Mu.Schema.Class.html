<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds              #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language DefaultSignatures      #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language FlexibleContexts       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language FlexibleInstances      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language FunctionalDependencies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# language GADTs                  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# language PolyKinds              #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# language QuantifiedConstraints  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# language RankNTypes             #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# language ScopedTypeVariables    #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# language TypeApplications       #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# language TypeFamilies           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# language TypeOperators          #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# language UndecidableInstances   #-}</span><span>
</span><span id="line-15"></span><span class="hs-comment">{-|
Description : Conversion from types to schemas

This module defines a couple of type classes
'ToSchema' and 'FromSchema' to turn Haskell
types back and forth @mu-haskell@ 'Term's.

In most cases, the instances can be automatically
derived. If you enable the extensions
@DeriveGeneric@ and @DeriveAnyClass@, you can do:

&gt; data MyHaskellType = ...
&gt;   deriving ( ToSchema   MySchema &quot;MySchemaType&quot; MyHaskellType
&gt;            , FromSchema MySchema &quot;MySchemaType&quot; MyHaskellType)

If the default mapping which required identical
names for fields in the Haskell and schema types
does not suit you, use 'CustomFieldMapping'.
-}</span><span>
</span><span id="line-34"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Class</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier">WithSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier">unWithSchema</span></a></span><span>
</span><span id="line-36"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier">FromSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier">fromSchema'</span></a></span><span>
</span><span id="line-37"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier">ToSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier">toSchema'</span></a></span><span>
</span><span id="line-38"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier">CustomFieldMapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier">Mapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier">Mappings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier">MappingRight</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier">MappingLeft</span></a></span><span>
</span><span id="line-40"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier">Underlying</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier">UnderlyingConversion</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Internal use only</span></span><span>
</span><span id="line-42"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier">GToSchemaRecord</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span>     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">U</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Fcf</span></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Eval</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Pure</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Fcf.Data.List</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Snoc</span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Interpretation.html"><span class="hs-identifier">Mu.Schema.Interpretation</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | Tags a value with its schema.</span><span>
</span><span id="line-62"></span><span class="hs-comment">--   For usage with @deriving via@.</span><span>
</span><span id="line-63"></span><span class="hs-keyword">newtype</span><span> </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259078"><span class="annot"><a href="#local-6989586621679259078"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259077"><span class="annot"><a href="#local-6989586621679259077"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679259076"><span class="annot"><a href="#local-6989586621679259076"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259075"><span class="annot"><a href="#local-6989586621679259075"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259077"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679259074"><span class="annot"><a href="#local-6989586621679259074"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>  </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259072"><span class="annot"><a href="#local-6989586621679259072"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679259071"><span class="annot"><a href="#local-6989586621679259071"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259070"><span class="annot"><a href="#local-6989586621679259070"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259072"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259071"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259069"><span class="annot"><a href="#local-6989586621679259069"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259072"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679259068"><span class="annot"><a href="#local-6989586621679259068"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-65"></span><span>                </span><span class="annot"><a href="#local-6989586621679259068"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259070"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259069"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259068"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | Accessor for 'WithSchema'.</span><span>
</span><span id="line-68"></span><span class="hs-comment">--   Intended for usage with @TypeApplications@.</span><span>
</span><span id="line-69"></span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-type">unWithSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259067"><span class="annot"><a href="#local-6989586621679259067"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679259066"><span class="annot"><a href="#local-6989586621679259066"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259065"><span class="annot"><a href="#local-6989586621679259065"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259067"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259066"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259064"><span class="annot"><a href="#local-6989586621679259064"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259067"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679259063"><span class="annot"><a href="#local-6989586621679259063"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-70"></span><span>                </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259065"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259064"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259063"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259063"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-71"></span><span id="unWithSchema"><span class="annot"><span class="annottext">unWithSchema :: WithSchema sch sty a -&gt; a
</span><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-var hs-var">unWithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span id="local-6989586621679259062"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679259062"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259062"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- |&#160;Defines the conversion of a type @t@ into a 'Term'</span><span>
</span><span id="line-74"></span><span class="hs-comment">--   which follows the schema @sch@.</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-76"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-78"></span><span class="hs-keyword">class</span><span> </span><span id="ToSchema"><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-var">ToSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259899"><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259901"><span class="annot"><a href="#local-6989586621679259901"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679259900"><span class="annot"><a href="#local-6989586621679259900"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259898"><span class="annot"><a href="#local-6989586621679259898"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259901"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259902"><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259898"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-81"></span><span>  </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259898"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-84"></span><span>    </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259898"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259902"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259899"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259898"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span id="local-6989586621679259060"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var hs-var">toSchema</span></a></span><span> </span><span id="local-6989586621679259059"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679259059"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy '[] -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679259059"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- |&#160;Defines the conversion from a 'Term'</span><span>
</span><span id="line-89"></span><span class="hs-comment">--   which follows the schema @sch@ into a type @t@.</span><span>
</span><span id="line-90"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-91"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-92"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-93"></span><span class="hs-keyword">class</span><span> </span><span id="FromSchema"><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-var">FromSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259876"><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259878"><span class="annot"><a href="#local-6989586621679259878"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679259877"><span class="annot"><a href="#local-6989586621679259877"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259875"><span class="annot"><a href="#local-6989586621679259875"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259878"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259874"><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259875"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-96"></span><span>  </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259875"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-99"></span><span>    </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259875"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259875"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259874"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621679259054"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var hs-var">fromSchema</span></a></span><span> </span><span id="local-6989586621679259053"><span class="annot"><span class="annottext">x :: Term sch (sch :/: sty)
</span><a href="#local-6989586621679259053"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[] -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679259053"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span id="local-6989586621679259048"><span id="local-6989586621679259049"><span id="local-6989586621679259050"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259050"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259049"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259049"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259048"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259050"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259049"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259050"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259049"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259048"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621679259045"><span class="annot"><span class="annottext">toSchema :: Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679259045"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-106"></span><span id="local-6989586621679259041"><span id="local-6989586621679259042"><span id="local-6989586621679259043"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259043"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259042"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259042"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259041"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259043"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259042"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259043"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259042"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259041"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679259039"><span class="annot"><span class="annottext">toSchema :: Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679259039"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-109"></span><span id="local-6989586621679259036"><span id="local-6989586621679259037"><span id="local-6989586621679259038"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259038"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259037"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259037"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259036"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259038"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259037"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259038"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259037"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259036"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679259033"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
</span><a href="#local-6989586621679259033"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-112"></span><span id="local-6989586621679259030"><span id="local-6989586621679259031"><span id="local-6989586621679259032"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259032"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259031"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259031"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259030"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259032"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259031"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259032"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259031"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259030"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679259028"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
</span><a href="#local-6989586621679259028"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-117"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-118"></span><span class="hs-comment">--   &gt; toSchema' @MySchema myValue</span><span>
</span><span id="line-119"></span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-type">toSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259027"><span class="annot"><a href="#local-6989586621679259027"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679259026"><span class="annot"><a href="#local-6989586621679259026"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259025"><span class="annot"><a href="#local-6989586621679259025"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259026"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259027"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679259024"><span class="annot"><a href="#local-6989586621679259024"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679259023"><span class="annot"><a href="#local-6989586621679259023"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-120"></span><span>             </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259025"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259023"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259024"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259024"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259025"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259025"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259023"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span id="toSchema%27"><span class="annot"><span class="annottext">toSchema' :: t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-var hs-var">toSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Term sch (sch :/: sty)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-124"></span><span class="hs-comment">--   &gt; fromSchema' @MySchema mySchemaTerm</span><span>
</span><span id="line-125"></span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-type">fromSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259022"><span class="annot"><a href="#local-6989586621679259022"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679259021"><span class="annot"><a href="#local-6989586621679259021"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259020"><span class="annot"><a href="#local-6989586621679259020"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259021"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259022"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679259019"><span class="annot"><a href="#local-6989586621679259019"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679259018"><span class="annot"><a href="#local-6989586621679259018"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-126"></span><span>               </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259020"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259018"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259019"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259020"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259020"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259018"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259019"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-127"></span><span id="fromSchema%27"><span class="annot"><span class="annottext">fromSchema' :: Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-var hs-var">fromSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; t
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | By default, the names of the fields in the Haskell type</span><span>
</span><span id="line-130"></span><span class="hs-comment">--   and those of the schema types must coincide. By using</span><span>
</span><span id="line-131"></span><span class="hs-comment">--   this wrapper you can override this default setting.</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">--   This type should be used with @DerivingVia@, as follows:</span><span>
</span><span id="line-134"></span><span class="hs-comment">--</span><span>
</span><span id="line-135"></span><span class="hs-comment">--   &gt; type MyCustomFieldMapping = '[ &quot;A&quot; ':-&gt; &quot;a&quot;, ...]</span><span>
</span><span id="line-136"></span><span class="hs-comment">--   &gt; data MyHaskellType = ...</span><span>
</span><span id="line-137"></span><span class="hs-comment">--   &gt;   deriving ( ToSchema   f MySchema &quot;MySchemaType&quot; MyHaskellType</span><span>
</span><span id="line-138"></span><span class="hs-comment">--   &gt;            , FromSchema f MySchema &quot;MySchemaType&quot; MyHaskellType)</span><span>
</span><span id="line-139"></span><span class="hs-comment">--   &gt;     via (CustomFieldMapping &quot;MySchemaType&quot; MyCustomFieldMapping MyHaskellType)</span><span>
</span><span id="line-140"></span><span class="hs-keyword">newtype</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259811"><span class="annot"><a href="#local-6989586621679259811"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679259814"><span class="annot"><a href="#local-6989586621679259814"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259810"><span class="annot"><a href="#local-6989586621679259810"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier hs-type">Mapping</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679259813"><span class="annot"><a href="#local-6989586621679259813"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621679259812"><span class="annot"><a href="#local-6989586621679259812"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679259812"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679259013"><span id="local-6989586621679259014"><span id="local-6989586621679259015"><span id="local-6989586621679259016"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679259016"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259015"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259014"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259015"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259013"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679259016"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259015"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259013"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259013"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259014"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259016"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679259011"><span class="annot"><span class="annottext">toSchema :: CustomFieldMapping sty fmap t -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679259011"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span id="local-6989586621679259010"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679259010"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679259014"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679259010"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span id="local-6989586621679259006"><span id="local-6989586621679259007"><span id="local-6989586621679259008"><span id="local-6989586621679259009"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679259009"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259008"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259007"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259008"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259006"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679259009"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259008"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259006"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259006"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259007"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259009"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679259004"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; CustomFieldMapping sty fmap t
</span><a href="#local-6989586621679259004"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span id="local-6989586621679259003"><span class="annot"><span class="annottext">x :: Term sch (sch :/: sty)
</span><a href="#local-6989586621679259003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; CustomFieldMapping sty fmap t
forall typeName fieldName (sty :: typeName)
       (fmap :: [Mapping Symbol fieldName]) a.
a -&gt; CustomFieldMapping sty fmap a
</span><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; CustomFieldMapping sty fmap t)
-&gt; t -&gt; CustomFieldMapping sty fmap t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679259007"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679259003"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- | This 'newtype' is used to wrap types for which</span><span>
</span><span id="line-152"></span><span class="hs-comment">--   we want a &quot;logical&quot; representation as a Haskell</span><span>
</span><span id="line-153"></span><span class="hs-comment">--   type, but the underlying representation is</span><span>
</span><span id="line-154"></span><span class="hs-comment">--   lower level, like 'UUID's as 'ByteString's.</span><span>
</span><span id="line-155"></span><span class="hs-keyword">newtype</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span id="local-6989586621679259671"><span class="annot"><a href="#local-6989586621679259671"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679259670"><span class="annot"><a href="#local-6989586621679259670"><span class="hs-identifier hs-type">logical</span></a></span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unUnderlying"><span class="annot"><span class="annottext">Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259670"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258995"><span id="local-6989586621679258997"><span id="local-6989586621679258999"><span class="annot"><span class="annottext">Int -&gt; Underlying basic logical -&gt; ShowS
[Underlying basic logical] -&gt; ShowS
Underlying basic logical -&gt; String
(Int -&gt; Underlying basic logical -&gt; ShowS)
-&gt; (Underlying basic logical -&gt; String)
-&gt; ([Underlying basic logical] -&gt; ShowS)
-&gt; Show (Underlying basic logical)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showList :: [Underlying basic logical] -&gt; ShowS
$cshowList :: forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
show :: Underlying basic logical -&gt; String
$cshow :: forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showsPrec :: Int -&gt; Underlying basic logical -&gt; ShowS
$cshowsPrec :: forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679258990"><span id="local-6989586621679258992"><span class="annot"><span class="annottext">Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
(Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; (Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; Eq (Underlying basic logical)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
/= :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c/= :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
== :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c== :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | This class defines the actual conversion between</span><span>
</span><span id="line-160"></span><span class="hs-comment">--   a &quot;logical&quot; type and its low-level representation.</span><span>
</span><span id="line-161"></span><span class="hs-keyword">class</span><span> </span><span id="UnderlyingConversion"><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-var">UnderlyingConversion</span></a></span></span><span> </span><span id="local-6989586621679259789"><span class="annot"><a href="#local-6989586621679259789"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679259790"><span class="annot"><a href="#local-6989586621679259790"><span class="hs-identifier hs-type">logical</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>  </span><span id="toUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-type">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259790"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259789"><span class="hs-identifier hs-type">basic</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span id="fromUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-type">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259789"><span class="hs-identifier hs-type">basic</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259790"><span class="hs-identifier hs-type">logical</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679258983"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; String
</span><a href="#local-6989586621679258983"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; String
</span><span class="hs-identifier hs-var">U.toString</span></span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679258981"><span class="annot"><span class="annottext">fromUnderlying :: String -&gt; UUID
</span><a href="#local-6989586621679258981"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (String -&gt; Maybe UUID) -&gt; String -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromString</span></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621679258976"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; Text
</span><a href="#local-6989586621679258976"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">U.toText</span></span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679258974"><span class="annot"><span class="annottext">fromUnderlying :: Text -&gt; UUID
</span><a href="#local-6989586621679258974"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (Text -&gt; Maybe UUID) -&gt; Text -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromText</span></span><span>
</span><span id="line-171"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621679258970"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679258970"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679258968"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679258968"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span>
</span><span id="line-174"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679258964"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679258964"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (UUID -&gt; ByteString) -&gt; UUID -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621679258962"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679258962"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Maybe UUID)
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; Maybe UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.fromStrict</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- CRAZY GENERICS SECTION</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- Auxiliary type families to find elements in lists</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- They return an indication of where the thing was found</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- Note: it turns out that GHC.Generics generates some weird</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- instances for records in the form (x :*: y) :*: z</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- and we cover them with the special HereLeft and HereRight</span><span>
</span><span id="line-188"></span><span class="hs-keyword">data</span><span> </span><span id="Where"><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-var">Where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Here"><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-var">Here</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="There"><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-var">There</span></a></span></span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span>
</span><span id="line-189"></span><span class="hs-keyword">data</span><span> </span><span id="WhereStep"><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-var">WhereStep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StepNoMore"><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-var">StepNoMore</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="StepLeft"><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-var">StepLeft</span></a></span></span><span> </span><span class="hs-glyph">|</span><span>&#160;</span><span id="StepRight"><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-var">StepRight</span></a></span></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258959"><span class="annot"><a href="#local-6989586621679258959"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679258958"><span class="annot"><a href="#local-6989586621679258958"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258957"><span class="annot"><a href="#local-6989586621679258957"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679258958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span id="local-6989586621679258956"><span class="annot"><a href="#local-6989586621679258956"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679258956"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258955"><span class="annot"><a href="#local-6989586621679258955"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258954"><span class="annot"><a href="#local-6989586621679258954"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258955"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258953"><span class="annot"><a href="#local-6989586621679258953"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258952"><span class="annot"><a href="#local-6989586621679258952"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258951"><span class="annot"><a href="#local-6989586621679258951"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-type">Find</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258952"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258951"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258950"><span class="annot"><a href="#local-6989586621679258950"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258949"><span class="annot"><a href="#local-6989586621679258949"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span id="local-6989586621679258948"><span class="annot"><a href="#local-6989586621679258948"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679258947"><span class="annot"><a href="#local-6989586621679258947"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-198"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258948"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258947"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679258947"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258946"><span class="annot"><a href="#local-6989586621679258946"><span class="hs-identifier hs-type">begin</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258945"><span class="annot"><a href="#local-6989586621679258945"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258944"><span class="annot"><a href="#local-6989586621679258944"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679258943"><span class="annot"><a href="#local-6989586621679258943"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679258942"><span class="annot"><a href="#local-6989586621679258942"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679258941"><span class="annot"><a href="#local-6989586621679258941"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679258940"><span class="annot"><a href="#local-6989586621679258940"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258939"><span class="annot"><a href="#local-6989586621679258939"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258942"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258943"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679258938"><span class="annot"><a href="#local-6989586621679258938"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258937"><span class="annot"><a href="#local-6989586621679258937"><span class="hs-identifier hs-type hs-type">left</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679258936"><span class="annot"><a href="#local-6989586621679258936"><span class="hs-identifier hs-type hs-type">right</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258935"><span class="annot"><a href="#local-6989586621679258935"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-204"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258938"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258937"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258935"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258938"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258936"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258935"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679258934"><span class="annot"><a href="#local-6989586621679258934"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span id="local-6989586621679258933"><span class="annot"><a href="#local-6989586621679258933"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679258932"><span class="annot"><a href="#local-6989586621679258932"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258931"><span class="annot"><a href="#local-6989586621679258931"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679258930"><span class="annot"><a href="#local-6989586621679258930"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258929"><span class="annot"><a href="#local-6989586621679258929"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>  </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679258928"><span class="annot"><a href="#local-6989586621679258928"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="annot"><a href="#local-6989586621679258928"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span id="local-6989586621679258927"><span class="annot"><a href="#local-6989586621679258927"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679258927"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258926"><span class="annot"><a href="#local-6989586621679258926"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258925"><span class="annot"><a href="#local-6989586621679258925"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span id="local-6989586621679258924"><span class="annot"><a href="#local-6989586621679258924"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679258923"><span class="annot"><a href="#local-6989586621679258923"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-214"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258924"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258923"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find field &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679258923"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258922"><span class="annot"><a href="#local-6989586621679258922"><span class="hs-identifier hs-type">begin</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258921"><span class="annot"><a href="#local-6989586621679258921"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258920"><span class="annot"><a href="#local-6989586621679258920"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679258919"><span class="annot"><a href="#local-6989586621679258919"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679258918"><span class="annot"><a href="#local-6989586621679258918"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258917"><span class="annot"><a href="#local-6989586621679258917"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679258916"><span class="annot"><a href="#local-6989586621679258916"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679258915"><span class="annot"><a href="#local-6989586621679258915"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258914"><span class="annot"><a href="#local-6989586621679258914"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258918"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258919"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679258913"><span class="annot"><a href="#local-6989586621679258913"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258912"><span class="annot"><a href="#local-6989586621679258912"><span class="hs-identifier hs-type hs-type">left</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679258911"><span class="annot"><a href="#local-6989586621679258911"><span class="hs-identifier hs-type hs-type">right</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258910"><span class="annot"><a href="#local-6989586621679258910"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-220"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258913"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258912"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258910"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679258913"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258911"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258910"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679258909"><span class="annot"><a href="#local-6989586621679258909"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span id="local-6989586621679258908"><span class="annot"><a href="#local-6989586621679258908"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679258907"><span class="annot"><a href="#local-6989586621679258907"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258906"><span class="annot"><a href="#local-6989586621679258906"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679258905"><span class="annot"><a href="#local-6989586621679258905"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258904"><span class="annot"><a href="#local-6989586621679258904"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679258905"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679258903"><span class="annot"><a href="#local-6989586621679258903"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find enum choice &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679258903"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679258902"><span class="annot"><a href="#local-6989586621679258902"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258901"><span class="annot"><a href="#local-6989586621679258901"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258902"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-227"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258900"><span class="annot"><a href="#local-6989586621679258900"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>           </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258899"><span class="annot"><a href="#local-6989586621679258899"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258898"><span class="annot"><a href="#local-6989586621679258898"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258899"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258898"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258897"><span class="annot"><a href="#local-6989586621679258897"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679258896"><span class="annot"><a href="#local-6989586621679258896"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679258895"><span class="annot"><a href="#local-6989586621679258895"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258894"><span class="annot"><a href="#local-6989586621679258894"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679258895"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679258893"><span class="annot"><a href="#local-6989586621679258893"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find field &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679258893"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679258892"><span class="annot"><a href="#local-6989586621679258892"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span id="local-6989586621679258891"><span class="annot"><a href="#local-6989586621679258891"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258890"><span class="annot"><a href="#local-6989586621679258890"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258892"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258889"><span class="annot"><a href="#local-6989586621679258889"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>            </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679258888"><span class="annot"><a href="#local-6989586621679258888"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679258887"><span class="annot"><a href="#local-6989586621679258887"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258888"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258887"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- Generic type definitions</span><span>
</span><span id="line-235"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-var">GToSchemaTypeDef</span></a></span></span><span>
</span><span id="line-236"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259888"><span class="annot"><a href="#local-6989586621679259888"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259892"><span class="annot"><a href="#local-6989586621679259892"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259891"><span class="annot"><a href="#local-6989586621679259891"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259887"><span class="annot"><a href="#local-6989586621679259887"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679259891"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259886"><span class="annot"><a href="#local-6989586621679259886"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259892"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259891"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259885"><span class="annot"><a href="#local-6989586621679259885"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621679259883"><span id="toSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-type">toSchemaTypeDef</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259887"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259885"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259883"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259888"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259886"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-239"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-var">GFromSchemaTypeDef</span></a></span></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259870"><span class="annot"><a href="#local-6989586621679259870"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259872"><span class="annot"><a href="#local-6989586621679259872"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259871"><span class="annot"><a href="#local-6989586621679259871"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259869"><span class="annot"><a href="#local-6989586621679259869"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679259871"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259868"><span class="annot"><a href="#local-6989586621679259868"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259872"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259871"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259867"><span class="annot"><a href="#local-6989586621679259867"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679259865"><span id="fromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-type">fromSchemaTypeDef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259869"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259870"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259868"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259867"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259865"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- TYPES OF FIELDS --</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span id="local-6989586621679258883"><span id="local-6989586621679258884"><span id="local-6989586621679258885"><span id="local-6989586621679258886"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258886"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258885"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258884"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-249"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258886"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258883"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258885"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258884"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679258880"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DSimple t)
</span><a href="#local-6989586621679258880"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679258879"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258879"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Term sch ('DSimple t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
FieldValue sch t -&gt; Term sch ('DSimple t)
</span><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-var">TSimple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258879"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-251"></span><span id="local-6989586621679258873"><span id="local-6989586621679258874"><span id="local-6989586621679258875"><span id="local-6989586621679258876"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258875"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258874"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-252"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258876"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258873"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258875"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258874"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621679258870"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DSimple t) -&gt; f a
</span><a href="#local-6989586621679258870"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-type">TSimple</span></a></span><span> </span><span id="local-6989586621679258869"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679258869"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679258869"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GToSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259763"><span class="annot"><a href="#local-6989586621679259763"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259765"><span class="annot"><a href="#local-6989586621679259765"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259764"><span class="annot"><a href="#local-6989586621679259764"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259762"><span class="annot"><a href="#local-6989586621679259762"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259765"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259761"><span class="annot"><a href="#local-6989586621679259761"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621679259760"><span id="toSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-type">toSchemaFieldTypeW</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259761"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259760"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259763"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259762"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-258"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GFromSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259748"><span class="annot"><a href="#local-6989586621679259748"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259750"><span class="annot"><a href="#local-6989586621679259750"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259749"><span class="annot"><a href="#local-6989586621679259749"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259747"><span class="annot"><a href="#local-6989586621679259747"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259750"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259746"><span class="annot"><a href="#local-6989586621679259746"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679259745"><span id="fromSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-type">fromSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259748"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259747"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259746"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259745"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span id="local-6989586621679258864"><span id="local-6989586621679258865"><span id="local-6989586621679258866"><span id="local-6989586621679258867"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258867"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258866"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258865"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-263"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258867"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258866"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258864"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258865"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679258861"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: K1 i f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679258861"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679258859"><span class="annot"><span class="annottext">x :: f
</span><a href="#local-6989586621679258859"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679258859"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-265"></span><span id="local-6989586621679258854"><span id="local-6989586621679258855"><span id="local-6989586621679258856"><span id="local-6989586621679258857"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258857"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258855"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-266"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258857"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258854"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258855"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>  </span><span id="local-6989586621679258851"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; K1 i f a
</span><a href="#local-6989586621679258851"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679258850"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679258850"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; K1 i f a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679258850"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-268"></span><span id="local-6989586621679258844"><span id="local-6989586621679258845"><span id="local-6989586621679258846"><span id="local-6989586621679258847"><span id="local-6989586621679258848"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258848"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258847"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258846"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-269"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258848"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258847"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258845"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258844"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258846"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>  </span><span id="local-6989586621679258842"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: M1 s m f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679258842"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679258840"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258840"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258840"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-271"></span><span id="local-6989586621679258835"><span id="local-6989586621679258836"><span id="local-6989586621679258837"><span id="local-6989586621679258838"><span id="local-6989586621679258839"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258839"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258838"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258837"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-272"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258839"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258838"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258836"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258835"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258837"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>  </span><span id="local-6989586621679258833"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; M1 s m f a
</span><a href="#local-6989586621679258833"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679258832"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679258832"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; M1 s m f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679258832"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-var">GToSchemaFieldType</span></a></span></span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259734"><span class="annot"><a href="#local-6989586621679259734"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259736"><span class="annot"><a href="#local-6989586621679259736"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259735"><span class="annot"><a href="#local-6989586621679259735"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259733"><span class="annot"><a href="#local-6989586621679259733"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259736"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259732"><span class="annot"><a href="#local-6989586621679259732"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="toSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-type">toSchemaFieldType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259732"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259734"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259733"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-278"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-var">GFromSchemaFieldType</span></a></span></span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259717"><span class="annot"><a href="#local-6989586621679259717"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259719"><span class="annot"><a href="#local-6989586621679259719"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259718"><span class="annot"><a href="#local-6989586621679259718"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259716"><span class="annot"><a href="#local-6989586621679259716"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259719"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259715"><span class="annot"><a href="#local-6989586621679259715"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>  </span><span id="fromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-type">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259717"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259716"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259715"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GToSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259526"><span class="annot"><a href="#local-6989586621679259526"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259528"><span class="annot"><a href="#local-6989586621679259528"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259527"><span class="annot"><a href="#local-6989586621679259527"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259525"><span class="annot"><a href="#local-6989586621679259525"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259528"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259524"><span class="annot"><a href="#local-6989586621679259524"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621679259523"><span id="toSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-type">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259524"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259523"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259526"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259525"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-285"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GFromSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679259513"><span class="annot"><a href="#local-6989586621679259513"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259515"><span class="annot"><a href="#local-6989586621679259515"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259514"><span class="annot"><a href="#local-6989586621679259514"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259512"><span class="annot"><a href="#local-6989586621679259512"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259515"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259511"><span class="annot"><a href="#local-6989586621679259511"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679259510"><span id="fromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259513"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259512"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259511"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259510"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- These instances are straightforward,</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- just turn the &quot;real types&quot; into their</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- schema correspondants.</span><span>
</span><span id="line-292"></span><span id="local-6989586621679258829"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258829"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621679258826"><span class="annot"><span class="annottext">toSchemaFieldType :: () -&gt; FieldValue sch 'TNull
</span><a href="#local-6989586621679258826"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch 'TNull
forall typeName fieldName (sch :: Schema typeName fieldName).
FieldValue sch 'TNull
</span><a href="Mu.Schema.Interpretation.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span></span><span>
</span><span id="line-294"></span><span id="local-6989586621679258824"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258824"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679258821"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch 'TNull -&gt; ()
</span><a href="#local-6989586621679258821"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-296"></span><span id="local-6989586621679258818"><span id="local-6989586621679258819"><span id="local-6989586621679258820"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258820"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258819"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258818"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258820"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258820"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258819"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621679258816"><span class="annot"><span class="annottext">toSchemaFieldType :: Underlying t l -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679258816"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; FieldValue sch ('TPrimitive t))
-&gt; (Underlying t l -&gt; t)
-&gt; Underlying t l
-&gt; FieldValue sch ('TPrimitive t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">l -&gt; t
forall basic logical.
UnderlyingConversion basic logical =&gt;
logical -&gt; basic
</span><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-var">toUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">(l -&gt; t) -&gt; (Underlying t l -&gt; l) -&gt; Underlying t l -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Underlying t l -&gt; l
forall k (basic :: k) logical. Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span></span></span><span>
</span><span id="line-299"></span><span id="local-6989586621679258812"><span id="local-6989586621679258813"><span id="local-6989586621679258814"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258814"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258813"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258812"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258814"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258814"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258813"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621679258810"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; Underlying t l
</span><a href="#local-6989586621679258810"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679258809"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679258809"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">l -&gt; Underlying t l
forall k (basic :: k) logical. logical -&gt; Underlying basic logical
</span><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; l
forall basic logical.
UnderlyingConversion basic logical =&gt;
basic -&gt; logical
</span><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-var">fromUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679258809"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-302"></span><span id="local-6989586621679258807"><span id="local-6989586621679258808"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258808"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258807"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258807"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-303"></span><span>  </span><span id="local-6989586621679258805"><span class="annot"><span class="annottext">toSchemaFieldType :: t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679258805"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span></span></span><span>
</span><span id="line-304"></span><span id="local-6989586621679258803"><span id="local-6989586621679258804"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258804"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258803"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258803"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679258801"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; t
</span><a href="#local-6989586621679258801"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679258800"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679258800"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679258800"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- These instances &quot;tie the loop&quot; with the whole schema,</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- and they are the reason why we need to thread the @sch@</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- type throghout the whole implementation.</span><span>
</span><span id="line-309"></span><span id="local-6989586621679258797"><span id="local-6989586621679258798"><span id="local-6989586621679258799"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258799"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258798"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258797"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-310"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258799"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258798"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621679258795"><span class="annot"><span class="annottext">toSchemaFieldType :: v -&gt; FieldValue sch ('TSchematic t)
</span><a href="#local-6989586621679258795"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258794"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679258794"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: typeName).
Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
</span><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-var">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">(Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t))
-&gt; Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Term sch (sch :/: t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679258794"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-312"></span><span id="local-6989586621679258790"><span id="local-6989586621679258791"><span id="local-6989586621679258792"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258792"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258791"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258790"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-313"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258792"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258791"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258790"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>  </span><span id="local-6989586621679258788"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TSchematic t) -&gt; v
</span><a href="#local-6989586621679258788"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679258787"><span class="annot"><span class="annottext">x :: Term sch (sch :/: t)
</span><a href="#local-6989586621679258787"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; v
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t)
Term sch (sch :/: t)
</span><a href="#local-6989586621679258787"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-315"></span><span id="local-6989586621679258784"><span id="local-6989586621679258785"><span id="local-6989586621679258786"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258786"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258785"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258784"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-316"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258786"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258785"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679258784"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621679258782"><span class="annot"><span class="annottext">toSchemaFieldType :: Maybe v -&gt; FieldValue sch ('TOption t)
</span><a href="#local-6989586621679258782"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258781"><span class="annot"><span class="annottext">x :: Maybe v
</span><a href="#local-6989586621679258781"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
</span><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-var">FOption</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; Maybe v -&gt; Maybe (FieldValue sch t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679258781"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-318"></span><span id="local-6989586621679258776"><span id="local-6989586621679258777"><span id="local-6989586621679258778"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258778"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258777"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258776"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-319"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258778"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258777"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679258776"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>  </span><span id="local-6989586621679258774"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TOption t) -&gt; Maybe v
</span><a href="#local-6989586621679258774"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span> </span><span id="local-6989586621679258773"><span class="annot"><span class="annottext">x :: Maybe (FieldValue sch t)
</span><a href="#local-6989586621679258773"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; Maybe (FieldValue sch t) -&gt; Maybe v
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t)
</span><a href="#local-6989586621679258773"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-321"></span><span id="local-6989586621679258770"><span id="local-6989586621679258771"><span id="local-6989586621679258772"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258772"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258771"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258770"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-322"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258772"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258771"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258770"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-323"></span><span>  </span><span id="local-6989586621679258768"><span class="annot"><span class="annottext">toSchemaFieldType :: [v] -&gt; FieldValue sch ('TList t)
</span><a href="#local-6989586621679258768"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258767"><span class="annot"><span class="annottext">x :: [v]
</span><a href="#local-6989586621679258767"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t] -&gt; FieldValue sch ('TList t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
[FieldValue sch t] -&gt; FieldValue sch ('TList t)
</span><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-var">FList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; [v] -&gt; [FieldValue sch t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679258767"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-324"></span><span id="local-6989586621679258763"><span id="local-6989586621679258764"><span id="local-6989586621679258765"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258765"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258764"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258763"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-325"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258765"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258764"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258763"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-326"></span><span>  </span><span id="local-6989586621679258761"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TList t) -&gt; [v]
</span><a href="#local-6989586621679258761"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span> </span><span id="local-6989586621679258760"><span class="annot"><span class="annottext">x :: [FieldValue sch t]
</span><a href="#local-6989586621679258760"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; [FieldValue sch t] -&gt; [v]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t]
</span><a href="#local-6989586621679258760"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-327"></span><span id="local-6989586621679258755"><span id="local-6989586621679258756"><span id="local-6989586621679258757"><span id="local-6989586621679258758"><span id="local-6989586621679258759"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258759"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258758"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258757"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258759"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258756"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258755"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-328"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258759"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258758"><span class="hs-identifier hs-type">sk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Ord is required to build a map</span><span>
</span><span id="line-329"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258759"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258758"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258756"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679258757"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258755"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>  </span><span id="local-6989586621679258753"><span class="annot"><span class="annottext">toSchemaFieldType :: Map hk hv -&gt; FieldValue sch ('TMap sk sv)
</span><a href="#local-6989586621679258753"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258752"><span class="annot"><span class="annottext">x :: Map hk hv
</span><a href="#local-6989586621679258752"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch sk) (FieldValue sch sv)
-&gt; FieldValue sch ('TMap sk sv)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (k :: FieldType typeName) (v :: FieldType typeName).
Ord (FieldValue sch k) =&gt;
Map (FieldValue sch k) (FieldValue sch v)
-&gt; FieldValue sch ('TMap k v)
</span><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-var">FMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hk -&gt; FieldValue sch sk)
-&gt; Map hk (FieldValue sch sv)
-&gt; Map (FieldValue sch sk) (FieldValue sch sv)
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">hk -&gt; FieldValue sch sk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hv -&gt; FieldValue sch sv)
-&gt; Map hk hv -&gt; Map hk (FieldValue sch sv)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">hv -&gt; FieldValue sch sv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map hk hv
</span><a href="#local-6989586621679258752"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-331"></span><span id="local-6989586621679258744"><span id="local-6989586621679258745"><span id="local-6989586621679258746"><span id="local-6989586621679258747"><span id="local-6989586621679258748"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258748"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258747"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258746"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258748"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258745"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258744"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679258746"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258748"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258747"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258745"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679258746"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258744"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>  </span><span id="local-6989586621679258742"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TMap sk sv) -&gt; Map hk hv
</span><a href="#local-6989586621679258742"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span> </span><span id="local-6989586621679258741"><span class="annot"><span class="annottext">x :: Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679258741"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldValue sch k -&gt; hk) -&gt; Map (FieldValue sch k) hv -&gt; Map hk hv
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch k -&gt; hk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FieldValue sch v -&gt; hv)
-&gt; Map (FieldValue sch k) (FieldValue sch v)
-&gt; Map (FieldValue sch k) hv
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch v -&gt; hv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679258741"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-334"></span><span class="hs-comment">-- This assumes that a union is represented by</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- a value of type 'NS', where types are in</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- the same order.</span><span>
</span><span id="line-337"></span><span id="local-6989586621679258738"><span id="local-6989586621679258739"><span id="local-6989586621679258740"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-338"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258740"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258739"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258738"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-339"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258740"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258739"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679258738"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621679258736"><span class="annot"><span class="annottext">toSchemaFieldType :: NS I vs -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679258736"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258735"><span class="annot"><span class="annottext">t :: NS I vs
</span><a href="#local-6989586621679258735"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I vs -&gt; NS (FieldValue sch) ts
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679258733"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I vs
</span><a href="#local-6989586621679258735"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679259560"><span id="local-6989586621679259561"><span class="annot"><a href="#local-6989586621679258733"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258740"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259561"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259560"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-342"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679259560"><span class="hs-identifier hs-type">vss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258740"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259561"><span class="hs-identifier hs-type">tss</span></a></span></span></span><span>
</span><span id="line-343"></span><span>          </span><span id="local-6989586621679258733"><span class="annot"><span class="annottext">go :: NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679258733"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span id="local-6989586621679258730"><span class="annot"><span class="annottext">x :: x
</span><a href="#local-6989586621679258730"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch (Head tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; FieldValue sch (Head tss)
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679258730"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><a href="#local-6989586621679258733"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679258728"><span class="annot"><span class="annottext">n :: NS I xs
</span><a href="#local-6989586621679258728"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (Tail tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I xs -&gt; NS (FieldValue sch) (Tail tss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679258733"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679258728"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-345"></span><span id="local-6989586621679258725"><span id="local-6989586621679258726"><span id="local-6989586621679258727"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-346"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258727"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258726"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258725"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-347"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258727"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258726"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679258725"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621679258723"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; NS I vs
</span><a href="#local-6989586621679258723"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679258722"><span class="annot"><span class="annottext">t :: NS (FieldValue sch) choices
</span><a href="#local-6989586621679258722"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; NS I vs
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679258721"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679258722"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679259540"><span id="local-6989586621679259541"><span class="annot"><a href="#local-6989586621679258721"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258727"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259541"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259540"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-350"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258727"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259541"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679259540"><span class="hs-identifier hs-type">vss</span></a></span></span></span><span>
</span><span id="line-351"></span><span>          </span><span id="local-6989586621679258721"><span class="annot"><span class="annottext">go :: NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679258721"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679258720"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679258720"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I (Head vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Head vss -&gt; I (Head vss)
forall a. a -&gt; I a
</span><span class="hs-identifier hs-var">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; Head vss
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679258720"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>          </span><span class="annot"><a href="#local-6989586621679258721"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679258719"><span class="annot"><span class="annottext">n :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679258719"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS I (Tail vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; NS I (Tail vss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679258721"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679258719"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- But we can also use any other if it has</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- the right structure</span><span>
</span><span id="line-355"></span><span id="local-6989586621679258716"><span id="local-6989586621679258717"><span id="local-6989586621679258718"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-356"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679258718"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258717"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258716"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679258718"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258717"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258716"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258718"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-358"></span><span>  </span><span id="local-6989586621679258714"><span class="annot"><span class="annottext">toSchemaFieldType :: f -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679258714"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679258713"><span class="annot"><span class="annottext">x :: f
</span><a href="#local-6989586621679258713"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rep f Any -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; Rep f Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679258713"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-359"></span><span id="local-6989586621679258710"><span id="local-6989586621679258711"><span id="local-6989586621679258712"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-360"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679258712"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258711"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258710"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679258712"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258711"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258710"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258712"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>  </span><span id="local-6989586621679258708"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; f
</span><a href="#local-6989586621679258708"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679258707"><span class="annot"><span class="annottext">x :: NS (FieldValue sch) choices
</span><a href="#local-6989586621679258707"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep f Any -&gt; f
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; Rep f Any
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679258707"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span id="local-6989586621679258706"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258706"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-365"></span><span>  </span><span id="local-6989586621679258703"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679258703"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span><span>
</span><span id="line-366"></span><span id="local-6989586621679258700"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258700"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>  </span><span id="local-6989586621679258697"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; U1 a
</span><a href="#local-6989586621679258697"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-368"></span><span id="local-6989586621679258694"><span id="local-6989586621679258695"><span id="local-6989586621679258696"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258696"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258695"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258694"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>  </span><span id="local-6989586621679258692"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679258692"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-370"></span><span id="local-6989586621679258689"><span id="local-6989586621679258690"><span id="local-6989586621679258691"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258691"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258690"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258689"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679258687"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; M1 i t U1 a
</span><a href="#local-6989586621679258687"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; M1 i t U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-372"></span><span id="local-6989586621679258685"><span id="local-6989586621679258686"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-373"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258686"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258685"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>  </span><span id="local-6989586621679258683"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: f a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679258683"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-376"></span><span id="local-6989586621679258681"><span id="local-6989586621679258682"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-377"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258682"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258681"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621679258679"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; f a
</span><a href="#local-6989586621679258679"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[] -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span id="local-6989586621679258676"><span id="local-6989586621679258677"><span id="local-6989586621679258678"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258678"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258677"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258676"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258678"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258677"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258676"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621679258674"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: v a -&gt; NS (FieldValue sch) '[t]
</span><a href="#local-6989586621679258674"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span id="local-6989586621679258673"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679258673"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) '[t]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679258673"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-384"></span><span id="local-6989586621679258670"><span id="local-6989586621679258671"><span id="local-6989586621679258672"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258672"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258671"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258670"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258672"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679258671"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258670"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>  </span><span id="local-6989586621679258668"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[t] -&gt; v a
</span><a href="#local-6989586621679258668"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679258667"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679258667"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679258667"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- remove M1 from thing with more than one element</span><span>
</span><span id="line-390"></span><span id="local-6989586621679258660"><span id="local-6989586621679258661"><span id="local-6989586621679258662"><span id="local-6989586621679258663"><span id="local-6989586621679258664"><span id="local-6989586621679258665"><span id="local-6989586621679258666"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258666"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258664"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258663"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258662"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258666"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258664"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258663"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258661"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258660"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258662"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="local-6989586621679258658"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t v a -&gt; NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679258658"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679258657"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679258657"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; NS (FieldValue sch) (a : b : rest)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679258657"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-393"></span><span id="local-6989586621679258650"><span id="local-6989586621679258651"><span id="local-6989586621679258652"><span id="local-6989586621679258653"><span id="local-6989586621679258654"><span id="local-6989586621679258655"><span id="local-6989586621679258656"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258656"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258654"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258653"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258652"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258656"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258654"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258653"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258651"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258650"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258652"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679258648"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (a : b : rest) -&gt; M1 i t v a
</span><a href="#local-6989586621679258648"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span id="local-6989586621679258647"><span class="annot"><span class="annottext">x :: NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679258647"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; M1 i t v a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest) -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679258647"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span id="local-6989586621679258642"><span id="local-6989586621679258643"><span id="local-6989586621679258644"><span id="local-6989586621679258645"><span id="local-6989586621679258646"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258646"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258645"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258644"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258646"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258643"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258642"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258646"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258645"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258643"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258644"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258642"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-399"></span><span>  </span><span id="local-6989586621679258640"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) v vs a -&gt; NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679258640"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679258638"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679258638"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679258638"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679258636"><span class="annot"><span class="annottext">r :: vs a
</span><a href="#local-6989586621679258636"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679258636"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-401"></span><span id="local-6989586621679258631"><span id="local-6989586621679258632"><span id="local-6989586621679258633"><span id="local-6989586621679258634"><span id="local-6989586621679258635"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258633"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258632"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258631"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258632"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258633"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258631"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>  </span><span id="local-6989586621679258629"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t : ts) -&gt; (:+:) v vs a
</span><a href="#local-6989586621679258629"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679258628"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679258628"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679258628"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679258627"><span class="annot"><span class="annottext">r :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679258627"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; vs a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679258627"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- Weird nested instance produced by GHC</span><span>
</span><span id="line-406"></span><span id="local-6989586621679258620"><span id="local-6989586621679258621"><span id="local-6989586621679258622"><span id="local-6989586621679258623"><span id="local-6989586621679258624"><span id="local-6989586621679258625"><span id="local-6989586621679258626"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258626"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258625"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258624"><span class="hs-identifier hs-type">v1</span></a></span><span>
</span><span id="line-407"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258626"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258623"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258622"><span class="hs-identifier hs-type">v2</span></a></span><span>
</span><span id="line-408"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258626"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258621"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258620"><span class="hs-identifier hs-type">vs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258626"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258625"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258623"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258621"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258624"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258622"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258620"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621679258618"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) (v1 :+: v2) vs a -&gt; NS (FieldValue sch) (t1 : t2 : ts)
</span><a href="#local-6989586621679258618"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679258617"><span class="annot"><span class="annottext">x :: v1 a
</span><a href="#local-6989586621679258617"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; FieldValue sch t1
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679258617"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679258616"><span class="annot"><span class="annottext">x :: v2 a
</span><a href="#local-6989586621679258616"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t2 : ts) -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t2 -&gt; NS (FieldValue sch) (t2 : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; FieldValue sch t2
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679258616"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679258615"><span class="annot"><span class="annottext">r :: vs a
</span><a href="#local-6989586621679258615"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t2 : ts) -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; NS (FieldValue sch) (t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679258615"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-413"></span><span id="local-6989586621679258608"><span id="local-6989586621679258609"><span id="local-6989586621679258610"><span id="local-6989586621679258611"><span id="local-6989586621679258612"><span id="local-6989586621679258613"><span id="local-6989586621679258614"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258614"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258613"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258612"><span class="hs-identifier hs-type">v1</span></a></span><span>
</span><span id="line-414"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258614"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258611"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258610"><span class="hs-identifier hs-type">v2</span></a></span><span>
</span><span id="line-415"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258614"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258609"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258608"><span class="hs-identifier hs-type">vs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258614"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258613"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258611"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258609"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258612"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258610"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258608"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>  </span><span id="local-6989586621679258606"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t1 : t2 : ts) -&gt; (:+:) (v1 :+: v2) vs a
</span><a href="#local-6989586621679258606"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679258605"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679258605"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v1 a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679258605"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679258604"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679258604"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v2 a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679258604"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679258603"><span class="annot"><span class="annottext">r :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679258603"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; vs a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679258603"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- ---------------</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- ENUMERATIONS --</span><span>
</span><span id="line-424"></span><span class="hs-comment">------------------</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span id="local-6989586621679258598"><span id="local-6989586621679258599"><span id="local-6989586621679258600"><span id="local-6989586621679258601"><span id="local-6989586621679258602"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-427"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258602"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258601"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258600"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258599"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258602"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258598"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258601"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258600"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-429"></span><span>  </span><span id="local-6989586621679258596"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679258596"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258595"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258595"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258594"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258594"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall fieldName typeName (name :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy name -&gt; Term sch ('DEnum name name)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">TEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258595"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258594"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-430"></span><span id="local-6989586621679258587"><span id="local-6989586621679258588"><span id="local-6989586621679258589"><span id="local-6989586621679258590"><span id="local-6989586621679258591"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-431"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258591"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258590"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258589"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258588"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258591"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258587"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258590"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258589"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679258585"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
</span><a href="#local-6989586621679258585"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258584"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258584"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-type">TEnum</span></a></span><span> </span><span id="local-6989586621679258583"><span class="annot"><span class="annottext">x :: NS Proxy choices
</span><a href="#local-6989586621679258583"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy choices -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258584"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679258583"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-434"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-436"></span><span id="local-6989586621679258576"><span id="local-6989586621679258577"><span id="local-6989586621679258578"><span id="local-6989586621679258579"><span id="local-6989586621679258580"><span id="local-6989586621679258581"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-437"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258581"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258580"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258579"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258578"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258577"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-438"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258581"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258580"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258579"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258578"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258576"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258577"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-439"></span><span>  </span><span id="local-6989586621679258574"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679258574"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258573"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258573"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679258572"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258572"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258573"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258572"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-440"></span><span id="local-6989586621679258566"><span id="local-6989586621679258567"><span id="local-6989586621679258568"><span id="local-6989586621679258569"><span id="local-6989586621679258570"><span id="local-6989586621679258571"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-441"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258571"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258570"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258569"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258568"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258567"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-442"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258571"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258570"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258569"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258568"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258566"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258567"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679258564"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; D1 meta f a
</span><a href="#local-6989586621679258564"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258563"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258563"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258562"><span class="annot"><span class="annottext">x :: Term sch ('DEnum name choices)
</span><a href="#local-6989586621679258562"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258563"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum name choices)
</span><a href="#local-6989586621679258562"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- 'toSchema' for enumerations:</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- 1. recursively decompose the (:+:)s into their atomic components</span><span>
</span><span id="line-447"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumSymbol'</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- 2. for each atomic component, figure out which is the element</span><span>
</span><span id="line-449"></span><span class="hs-comment">--    in the schema's enumeration that it corresponds to</span><span>
</span><span id="line-450"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'Find'</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- 3. from that location, build a 'Proxy' value</span><span>
</span><span id="line-452"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumProxy'</span><span>
</span><span id="line-453"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-var">GToSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259380"><span class="annot"><a href="#local-6989586621679259380"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679259381"><span class="annot"><a href="#local-6989586621679259381"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>                             </span><span class="hs-special">(</span><span id="local-6989586621679259379"><span class="annot"><a href="#local-6989586621679259379"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259381"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259378"><span class="annot"><a href="#local-6989586621679259378"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>  </span><span id="local-6989586621679259377"><span id="toSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-type">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259380"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259378"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259377"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259379"><span class="hs-identifier hs-type">choices</span></a></span></span><span>
</span><span id="line-456"></span><span id="local-6989586621679258558"><span id="local-6989586621679258559"><span id="local-6989586621679258560"><span id="local-6989586621679258561"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258561"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258560"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258559"><span class="hs-identifier hs-type">oneway</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258561"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258560"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258558"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258561"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258560"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258559"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258558"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-458"></span><span>  </span><span id="local-6989586621679258555"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; (:+:) oneway oranother a -&gt; NS Proxy choices
</span><a href="#local-6989586621679258555"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span id="local-6989586621679258554"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258554"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679258553"><span class="annot"><span class="annottext">x :: oneway a
</span><a href="#local-6989586621679258553"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oneway a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258554"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a
</span><a href="#local-6989586621679258553"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-459"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679258552"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258552"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679258551"><span class="annot"><span class="annottext">x :: oranother a
</span><a href="#local-6989586621679258551"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oranother a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258552"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oranother a
</span><a href="#local-6989586621679258551"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-460"></span><span id="local-6989586621679258545"><span id="local-6989586621679258546"><span id="local-6989586621679258547"><span id="local-6989586621679258548"><span id="local-6989586621679258549"><span id="local-6989586621679258550"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258550"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258550"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258549"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258548"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258549"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258550"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679258548"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258547"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258546"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258545"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>  </span><span id="local-6989586621679258543"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; C1 ('MetaCons c p s) f a -&gt; NS Proxy choices
</span><a href="#local-6989586621679258543"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy choices
-&gt; Proxy (FindEnumChoice choices (MappingRight fmap c))
-&gt; NS Proxy choices
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choices
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258550"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindEnumChoice choices (MappingRight fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258550"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258549"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258548"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- Types which have no constructor information cannot be used here</span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-var">GToSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259323"><span class="annot"><a href="#local-6989586621679259323"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679259324"><span class="annot"><a href="#local-6989586621679259324"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259322"><span class="annot"><a href="#local-6989586621679259322"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-467"></span><span>  </span><span id="toSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-type">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259323"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259322"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259323"><span class="hs-identifier hs-type">choices</span></a></span><span>
</span><span id="line-468"></span><span id="local-6989586621679258540"><span id="local-6989586621679258541"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258541"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258540"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-469"></span><span>  </span><span id="local-6989586621679258537"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy 'Here -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679258537"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span></span></span><span>
</span><span id="line-470"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679258535"><span class="annot"><a href="#local-6989586621679258535"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679258534"><span class="annot"><a href="#local-6989586621679258534"><span class="hs-identifier hs-type">cs</span></a></span></span><span> </span><span id="local-6989586621679258533"><span class="annot"><a href="#local-6989586621679258533"><span class="hs-identifier hs-type">w</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258534"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258533"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-471"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258535"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258534"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258533"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>  </span><span id="local-6989586621679258532"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy ('There w) -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679258532"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy cs -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs -&gt; Proxy w -&gt; NS Proxy cs
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258534"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy w
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258533"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-comment">-- 'fromSchema' for enumerations:</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- 1. for each element in the list of choices</span><span>
</span><span id="line-476"></span><span class="hs-comment">--    (this iteration is done by 'GFromSchemaEnumDecomp')</span><span>
</span><span id="line-477"></span><span class="hs-comment">--    figure out the constructor it corresponds to</span><span>
</span><span id="line-478"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindCon'</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- 2. from that location, build a 'U1' value wrapped</span><span>
</span><span id="line-480"></span><span class="hs-comment">--    in as many 'L1' and 'R1' required.</span><span>
</span><span id="line-481"></span><span class="hs-comment">--    this is done by 'GFromSchemaEnumU1'</span><span>
</span><span id="line-482"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-var">GFromSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259365"><span class="annot"><a href="#local-6989586621679259365"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679259366"><span class="annot"><a href="#local-6989586621679259366"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259364"><span class="annot"><a href="#local-6989586621679259364"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259366"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259363"><span class="annot"><a href="#local-6989586621679259363"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-483"></span><span>  </span><span id="local-6989586621679259362"><span id="fromSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-type">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259365"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259364"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259363"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259362"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-484"></span><span id="local-6989586621679258530"><span id="local-6989586621679258531"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258531"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258530"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>  </span><span id="local-6989586621679258527"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy '[] -&gt; f a
</span><a href="#local-6989586621679258527"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;This should never happen&quot;</span></span></span></span><span>
</span><span id="line-486"></span><span id="local-6989586621679258523"><span id="local-6989586621679258524"><span id="local-6989586621679258525"><span id="local-6989586621679258526"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258525"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258524"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258525"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258523"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258525"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258524"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258523"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-488"></span><span>  </span><span id="local-6989586621679258521"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy ('ChoiceDef c : cs) -&gt; f a
</span><a href="#local-6989586621679258521"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy f
-&gt; Proxy
     (WhenEmpty (FindCon' '[] f (MappingLeft fmap c)) (TypeError ...))
-&gt; f a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindCon f (MappingLeft fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258526"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258525"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258524"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679258519"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258519"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679258518"><span class="annot"><span class="annottext">x :: NS Proxy xs
</span><a href="#local-6989586621679258518"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy xs -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258519"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679258518"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-var">GFromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259294"><span class="annot"><a href="#local-6989586621679259294"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259293"><span class="annot"><a href="#local-6989586621679259293"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-492"></span><span>  </span><span id="local-6989586621679259292"><span id="fromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-type">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259294"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259293"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259294"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259292"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-493"></span><span id="local-6989586621679258517"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258517"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>  </span><span id="local-6989586621679258514"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (C1 m U1) -&gt; Proxy '[ 'StepNoMore] -&gt; C1 m U1 a
</span><a href="#local-6989586621679258514"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; C1 m U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-495"></span><span id="local-6989586621679258511"><span id="local-6989586621679258512"><span id="local-6989586621679258513"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258513"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258512"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258513"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258511"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258512"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-496"></span><span>  </span><span id="local-6989586621679258509"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (left :+: right)
-&gt; Proxy ('StepLeft : rest) -&gt; (:+:) left right a
</span><a href="#local-6989586621679258509"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">left a -&gt; (:+:) left right a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy left -&gt; Proxy rest -&gt; left a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy left
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258513"><span class="hs-identifier hs-type">left</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258512"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-497"></span><span id="local-6989586621679258506"><span id="local-6989586621679258507"><span id="local-6989586621679258508"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258508"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258507"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258506"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258508"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258507"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-498"></span><span>  </span><span id="local-6989586621679258504"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (left :+: right)
-&gt; Proxy ('StepRight : rest) -&gt; (:+:) left right a
</span><a href="#local-6989586621679258504"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">right a -&gt; (:+:) left right a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy right -&gt; Proxy rest -&gt; right a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy right
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258508"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258507"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="hs-comment">-- ----------</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- RECORDS --</span><span>
</span><span id="line-502"></span><span class="hs-comment">-------------</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span id="local-6989586621679258499"><span id="local-6989586621679258500"><span id="local-6989586621679258501"><span id="local-6989586621679258502"><span id="local-6989586621679258503"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-505"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258503"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258502"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258501"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258500"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258503"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258502"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258499"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258501"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258500"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>  </span><span id="local-6989586621679258497"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679258497"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258496"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258496"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258495"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258495"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-var">TRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) args
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258496"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258495"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-508"></span><span id="local-6989586621679258488"><span id="local-6989586621679258489"><span id="local-6989586621679258490"><span id="local-6989586621679258491"><span id="local-6989586621679258492"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-509"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258492"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258491"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258490"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258489"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258492"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258491"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258488"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258490"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258489"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>  </span><span id="local-6989586621679258486"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
</span><a href="#local-6989586621679258486"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258485"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258485"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-type">TRecord</span></a></span><span> </span><span id="local-6989586621679258484"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679258484"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258485"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679258484"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-512"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-513"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-514"></span><span id="local-6989586621679258477"><span id="local-6989586621679258478"><span id="local-6989586621679258479"><span id="local-6989586621679258480"><span id="local-6989586621679258481"><span id="local-6989586621679258482"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-515"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258482"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258481"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258480"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258479"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258478"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-516"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258482"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258481"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258480"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258479"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258477"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258478"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-517"></span><span>  </span><span id="local-6989586621679258475"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679258475"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258474"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258474"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679258473"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258473"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258474"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258473"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-518"></span><span id="local-6989586621679258467"><span id="local-6989586621679258468"><span id="local-6989586621679258469"><span id="local-6989586621679258470"><span id="local-6989586621679258471"><span id="local-6989586621679258472"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-519"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258472"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258471"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258470"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258469"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258468"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-520"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258472"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258471"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258470"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258469"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258467"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258468"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621679258465"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; D1 meta f a
</span><a href="#local-6989586621679258465"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258464"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258464"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258463"><span class="annot"><span class="annottext">x :: Term sch ('DRecord name args)
</span><a href="#local-6989586621679258463"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258464"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679258463"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-522"></span><span id="local-6989586621679258457"><span id="local-6989586621679258458"><span id="local-6989586621679258459"><span id="local-6989586621679258460"><span id="local-6989586621679258461"><span id="local-6989586621679258462"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-523"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258462"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258461"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258460"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258459"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258458"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-524"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258462"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258461"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258460"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258459"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258457"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258458"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>  </span><span id="local-6989586621679258455"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; C1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679258455"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258454"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258454"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679258453"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258453"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258454"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258453"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-526"></span><span id="local-6989586621679258447"><span id="local-6989586621679258448"><span id="local-6989586621679258449"><span id="local-6989586621679258450"><span id="local-6989586621679258451"><span id="local-6989586621679258452"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-527"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258452"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258451"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258450"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258449"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258448"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-528"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258452"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258451"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258450"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258449"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258447"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258448"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-529"></span><span>  </span><span id="local-6989586621679258445"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; C1 meta f a
</span><a href="#local-6989586621679258445"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679258444"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258444"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258443"><span class="annot"><span class="annottext">x :: Term sch ('DRecord name args)
</span><a href="#local-6989586621679258443"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; C1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258444"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679258443"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="hs-comment">-- 'toSchema' for records:</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- 1. iterate over each field in the schema of the record</span><span>
</span><span id="line-533"></span><span class="hs-comment">--    this is done by 'GToSchemaRecord'</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- 2. figure out the selector (field) in the Haskell type</span><span>
</span><span id="line-535"></span><span class="hs-comment">--    to which that record corresponds to</span><span>
</span><span id="line-536"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindSel'</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-538"></span><span class="hs-comment">--    this is done by 'GToSchemaRecordSearch'</span><span>
</span><span id="line-539"></span><span class="hs-comment">--</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- Due to some glitch in 'GHC.Generics', sometimes products</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- are not represented by a linear sequence of ':*:',</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- so we need to handle some cases in a special way</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- (see 'HereLeft' and 'HereRight' instances)</span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-comment">-- | For internal use only: generic conversion of a list of fields.</span><span>
</span><span id="line-546"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-var">GToSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259259"><span class="annot"><a href="#local-6989586621679259259"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259261"><span class="annot"><a href="#local-6989586621679259261"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259260"><span class="annot"><a href="#local-6989586621679259260"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259258"><span class="annot"><a href="#local-6989586621679259258"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679259260"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>                      </span><span class="hs-special">(</span><span id="local-6989586621679259257"><span class="annot"><a href="#local-6989586621679259257"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259261"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259260"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259256"><span class="annot"><a href="#local-6989586621679259256"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-548"></span><span>  </span><span id="local-6989586621679259255"><span id="toSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-type">toSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259258"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259256"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259255"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259259"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259257"><span class="hs-identifier hs-type">args</span></a></span></span><span>
</span><span id="line-549"></span><span id="local-6989586621679258440"><span id="local-6989586621679258441"><span id="local-6989586621679258442"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258442"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258441"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679258440"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>  </span><span id="local-6989586621679258437"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) '[]
</span><a href="#local-6989586621679258437"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span></span></span><span>
</span><span id="line-551"></span><span id="local-6989586621679258430"><span id="local-6989586621679258431"><span id="local-6989586621679258432"><span id="local-6989586621679258433"><span id="local-6989586621679258434"><span id="local-6989586621679258435"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258435"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258434"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258433"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258432"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-552"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258435"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258431"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258434"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258430"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258435"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258434"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258430"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258431"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258433"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-554"></span><span>  </span><span id="local-6989586621679258428"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) ('FieldDef name t : cs)
</span><a href="#local-6989586621679258428"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679258427"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258427"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258426"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679258426"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
</span><a href="#local-6989586621679258425"><span class="hs-identifier hs-var">this</span></a></span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
-&gt; NP (Field sch) cs -&gt; NP (Field sch) ('FieldDef name t : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) cs
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258427"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258426"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-555"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679258425"><span class="annot"><span class="annottext">this :: Field sch ('FieldDef name t)
</span><a href="#local-6989586621679258425"><span class="hs-identifier hs-var hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Field sch ('FieldDef name t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy
  (WhenEmpty
     (FindSel' '[] f (MappingLeft fmap name)) (TypeError ...))
-&gt; f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindSel f (MappingLeft fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258434"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258430"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679258426"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-var">GToSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259171"><span class="annot"><a href="#local-6989586621679259171"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259173"><span class="annot"><a href="#local-6989586621679259173"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259172"><span class="annot"><a href="#local-6989586621679259172"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>                            </span><span class="hs-special">(</span><span id="local-6989586621679259170"><span class="annot"><a href="#local-6989586621679259170"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259173"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259169"><span class="annot"><a href="#local-6989586621679259169"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259168"><span class="annot"><a href="#local-6989586621679259168"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-559"></span><span>  </span><span id="local-6989586621679259167"><span id="toSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-type">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259168"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259169"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259167"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259171"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259170"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-560"></span><span id="local-6989586621679258417"><span id="local-6989586621679258418"><span id="local-6989586621679258419"><span id="local-6989586621679258420"><span id="local-6989586621679258421"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258421"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258420"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258419"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-561"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258421"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258420"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258418"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258417"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258419"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-562"></span><span>  </span><span id="local-6989586621679258414"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy '[ 'StepNoMore] -&gt; S1 m (K1 i v) a -&gt; FieldValue sch t
</span><a href="#local-6989586621679258414"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679258413"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679258413"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679258413"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-563"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679258411"><span class="annot"><a href="#local-6989586621679258411"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679258410"><span class="annot"><a href="#local-6989586621679258410"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679258409"><span class="annot"><a href="#local-6989586621679258409"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679258408"><span class="annot"><a href="#local-6989586621679258408"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span id="local-6989586621679258407"><span class="annot"><a href="#local-6989586621679258407"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-564"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258411"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258410"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258409"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258407"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-565"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258411"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258410"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258409"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258408"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258407"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-566"></span><span>  </span><span id="local-6989586621679258406"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy ('StepLeft : n) -&gt; (:*:) left right a -&gt; FieldValue sch t
</span><a href="#local-6989586621679258406"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679258405"><span class="annot"><span class="annottext">xs :: left a
</span><a href="#local-6989586621679258405"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; left a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258407"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">left a
</span><a href="#local-6989586621679258405"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-567"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679258402"><span class="annot"><a href="#local-6989586621679258402"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679258401"><span class="annot"><a href="#local-6989586621679258401"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679258400"><span class="annot"><a href="#local-6989586621679258400"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679258399"><span class="annot"><a href="#local-6989586621679258399"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span id="local-6989586621679258398"><span class="annot"><a href="#local-6989586621679258398"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-568"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258402"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258401"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258399"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258398"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-569"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258402"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258401"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258400"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258399"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258398"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-570"></span><span>  </span><span id="local-6989586621679258397"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy ('StepRight : n) -&gt; (:*:) left right a -&gt; FieldValue sch t
</span><a href="#local-6989586621679258397"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679258396"><span class="annot"><span class="annottext">xs :: right a
</span><a href="#local-6989586621679258396"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; right a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258398"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">right a
</span><a href="#local-6989586621679258396"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span class="hs-comment">-- 'fromSchema' for records</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- 1. decompose the sequence of products into atomic components</span><span>
</span><span id="line-574"></span><span class="hs-comment">--    until we arrive to the selector metadata 'S1'</span><span>
</span><span id="line-575"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecord'</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- 2. figure out the field in the schema it corresponds to</span><span>
</span><span id="line-577"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'FindField'</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-579"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecordSearch'</span><span>
</span><span id="line-580"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-var">GFromSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259242"><span class="annot"><a href="#local-6989586621679259242"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259244"><span class="annot"><a href="#local-6989586621679259244"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259243"><span class="annot"><a href="#local-6989586621679259243"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259241"><span class="annot"><a href="#local-6989586621679259241"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679259243"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>                        </span><span class="hs-special">(</span><span id="local-6989586621679259240"><span class="annot"><a href="#local-6989586621679259240"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259244"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259243"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259239"><span class="annot"><a href="#local-6989586621679259239"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-582"></span><span>  </span><span id="local-6989586621679259238"><span id="fromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-type">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259241"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259242"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259240"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259239"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259238"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-583"></span><span id="local-6989586621679258387"><span id="local-6989586621679258388"><span id="local-6989586621679258389"><span id="local-6989586621679258390"><span id="local-6989586621679258391"><span id="local-6989586621679258392"><span id="local-6989586621679258393"><span id="local-6989586621679258394"><span id="local-6989586621679258395"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258395"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258394"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258393"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258393"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258392"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258391"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258395"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258392"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258393"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679258391"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679258390"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258389"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258388"><span class="hs-identifier hs-type">ds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679258387"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258394"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-585"></span><span>  </span><span id="local-6989586621679258384"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap
-&gt; NP (Field sch) args
-&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
</span><a href="#local-6989586621679258384"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679258383"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679258383"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-586"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a)
-&gt; K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; K1 i v a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; K1 i v a) -&gt; v -&gt; K1 i v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
-&gt; NP (Field sch) args -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258393"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258392"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258391"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679258383"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-587"></span><span id="local-6989586621679258377"><span id="local-6989586621679258378"><span id="local-6989586621679258379"><span id="local-6989586621679258380"><span id="local-6989586621679258381"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258381"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258380"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258379"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258378"><span class="hs-identifier hs-type">oneway</span></a></span><span>
</span><span id="line-588"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258381"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258380"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258379"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258377"><span class="hs-identifier hs-type">oranother</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258381"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258380"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258379"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258378"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679258377"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-590"></span><span>  </span><span id="local-6989586621679258375"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; (:*:) oneway oranother a
</span><a href="#local-6989586621679258375"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679258374"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679258374"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679258373"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679258373"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oneway a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258374"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679258373"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a -&gt; oranother a -&gt; (:*:) oneway oranother a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oranother a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679258374"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679258373"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-591"></span><span id="local-6989586621679258370"><span id="local-6989586621679258371"><span id="local-6989586621679258372"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258372"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258371"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258370"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-592"></span><span>  </span><span id="local-6989586621679258368"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; U1 a
</span><a href="#local-6989586621679258368"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-var">GFromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259123"><span class="annot"><a href="#local-6989586621679259123"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679259125"><span class="annot"><a href="#local-6989586621679259125"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679259124"><span class="annot"><a href="#local-6989586621679259124"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>                              </span><span class="hs-special">(</span><span id="local-6989586621679259122"><span class="annot"><a href="#local-6989586621679259122"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259121"><span class="annot"><a href="#local-6989586621679259121"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259125"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259124"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259120"><span class="annot"><a href="#local-6989586621679259120"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-596"></span><span>  </span><span id="fromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-type">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679259120"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259123"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259121"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259122"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-597"></span><span id="local-6989586621679258363"><span id="local-6989586621679258364"><span id="local-6989586621679258365"><span id="local-6989586621679258366"><span id="local-6989586621679258367"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258367"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258366"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258365"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258367"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258365"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258364"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258366"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258363"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-599"></span><span>  </span><span id="local-6989586621679258360"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy 'Here -&gt; NP (Field sch) ('FieldDef name t : rest) -&gt; v
</span><a href="#local-6989586621679258360"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679258359"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679258359"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679258359"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-600"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679258357"><span class="annot"><a href="#local-6989586621679258357"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679258356"><span class="annot"><a href="#local-6989586621679258356"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679258355"><span class="annot"><a href="#local-6989586621679258355"><span class="hs-identifier hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679258354"><span class="annot"><a href="#local-6989586621679258354"><span class="hs-identifier hs-type">rest</span></a></span></span><span> </span><span id="local-6989586621679258353"><span class="annot"><a href="#local-6989586621679258353"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-601"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258357"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258356"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258354"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258353"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-602"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258357"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258356"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679258355"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679258354"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679258353"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-603"></span><span>  </span><span id="local-6989586621679258352"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy ('There n) -&gt; NP (Field sch) (other : rest) -&gt; v
</span><a href="#local-6989586621679258352"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679258351"><span class="annot"><span class="annottext">xs :: NP (Field sch) xs
</span><a href="#local-6989586621679258351"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; NP (Field sch) xs -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679258353"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679258351"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-604"></span></pre></body></html>