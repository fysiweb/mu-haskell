<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds              #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language DefaultSignatures      #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language FlexibleContexts       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language FlexibleInstances      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language FunctionalDependencies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# language GADTs                  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# language PolyKinds              #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# language QuantifiedConstraints  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# language RankNTypes             #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# language ScopedTypeVariables    #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# language TypeApplications       #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# language TypeFamilies           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# language TypeOperators          #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# language UndecidableInstances   #-}</span><span>
</span><span id="line-15"></span><span class="hs-comment">{-|
Description : Conversion from types to schemas

This module defines a couple of type classes
'ToSchema' and 'FromSchema' to turn Haskell
types back and forth @mu-haskell@ 'Term's.

In most cases, the instances can be automatically
derived. If you enable the extensions
@DeriveGeneric@ and @DeriveAnyClass@, you can do:

&gt; data MyHaskellType = ...
&gt;   deriving ( ToSchema   MySchema &quot;MySchemaType&quot; MyHaskellType
&gt;            , FromSchema MySchema &quot;MySchemaType&quot; MyHaskellType)

If the default mapping which required identical
names for fields in the Haskell and schema types
does not suit you, use 'CustomFieldMapping'.
-}</span><span>
</span><span id="line-34"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Class</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier">WithSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier">unWithSchema</span></a></span><span>
</span><span id="line-36"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier">FromSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier">fromSchema'</span></a></span><span>
</span><span id="line-37"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier">ToSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier">toSchema'</span></a></span><span>
</span><span id="line-38"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier">CustomFieldMapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier">Mapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier">Mappings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier">MappingRight</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier">MappingLeft</span></a></span><span>
</span><span id="line-40"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier">Underlying</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier">UnderlyingConversion</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Internal use only</span></span><span>
</span><span id="line-42"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier">GToSchemaRecord</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span>     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">U</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Fcf</span></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Eval</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exp</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Pure</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Fcf.Data.List</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Snoc</span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Interpretation.html"><span class="hs-identifier">Mu.Schema.Interpretation</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | Tags a value with its schema.</span><span>
</span><span id="line-62"></span><span class="hs-comment">--   For usage with @deriving via@.</span><span>
</span><span id="line-63"></span><span class="hs-keyword">newtype</span><span> </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212705"><span class="annot"><a href="#local-6989586621679212705"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679212704"><span class="annot"><a href="#local-6989586621679212704"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212703"><span class="annot"><a href="#local-6989586621679212703"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212702"><span class="annot"><a href="#local-6989586621679212702"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212704"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212701"><span class="annot"><a href="#local-6989586621679212701"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>  </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212699"><span class="annot"><a href="#local-6989586621679212699"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212698"><span class="annot"><a href="#local-6989586621679212698"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212697"><span class="annot"><a href="#local-6989586621679212697"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212699"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212698"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212696"><span class="annot"><a href="#local-6989586621679212696"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212699"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212695"><span class="annot"><a href="#local-6989586621679212695"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-65"></span><span>                </span><span class="annot"><a href="#local-6989586621679212695"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212697"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212696"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212695"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | Accessor for 'WithSchema'.</span><span>
</span><span id="line-68"></span><span class="hs-comment">--   Intended for usage with @TypeApplications@.</span><span>
</span><span id="line-69"></span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-type">unWithSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212694"><span class="annot"><a href="#local-6989586621679212694"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212693"><span class="annot"><a href="#local-6989586621679212693"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212692"><span class="annot"><a href="#local-6989586621679212692"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212694"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212693"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212691"><span class="annot"><a href="#local-6989586621679212691"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212694"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212690"><span class="annot"><a href="#local-6989586621679212690"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-70"></span><span>                </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212692"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212691"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212690"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212690"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-71"></span><span id="unWithSchema"><span class="annot"><span class="annottext">unWithSchema :: WithSchema sch sty a -&gt; a
</span><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-var hs-var">unWithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span id="local-6989586621679212689"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679212689"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679212689"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- |&#160;Defines the conversion of a type @t@ into a 'Term'</span><span>
</span><span id="line-74"></span><span class="hs-comment">--   which follows the schema @sch@.</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-76"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-78"></span><span class="hs-keyword">class</span><span> </span><span id="ToSchema"><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-var">ToSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213524"><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213526"><span class="annot"><a href="#local-6989586621679213526"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679213525"><span class="annot"><a href="#local-6989586621679213525"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213523"><span class="annot"><a href="#local-6989586621679213523"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213526"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213527"><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213523"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-81"></span><span>  </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213523"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-84"></span><span>    </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213523"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213527"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213524"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213523"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span id="local-6989586621679212687"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var hs-var">toSchema</span></a></span><span> </span><span id="local-6989586621679212686"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212686"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy '[] -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212686"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- |&#160;Defines the conversion from a 'Term'</span><span>
</span><span id="line-89"></span><span class="hs-comment">--   which follows the schema @sch@ into a type @t@.</span><span>
</span><span id="line-90"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-91"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-92"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-93"></span><span class="hs-keyword">class</span><span> </span><span id="FromSchema"><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-var">FromSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213501"><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213503"><span class="annot"><a href="#local-6989586621679213503"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679213502"><span class="annot"><a href="#local-6989586621679213502"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213500"><span class="annot"><a href="#local-6989586621679213500"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213503"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213499"><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213500"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-96"></span><span>  </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213500"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-99"></span><span>    </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213500"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679213501"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213500"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213499"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621679212681"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var hs-var">fromSchema</span></a></span><span> </span><span id="local-6989586621679212680"><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679212680"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[] -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679212680"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span id="local-6989586621679212675"><span id="local-6989586621679212676"><span id="local-6989586621679212677"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212677"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212676"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212676"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212675"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212677"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212676"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212677"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212676"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212675"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621679212672"><span class="annot"><span class="annottext">toSchema :: Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679212672"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-106"></span><span id="local-6989586621679212668"><span id="local-6989586621679212669"><span id="local-6989586621679212670"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212670"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212669"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212669"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212668"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212670"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212669"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212670"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212669"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212668"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679212666"><span class="annot"><span class="annottext">toSchema :: Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679212666"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-109"></span><span id="local-6989586621679212663"><span id="local-6989586621679212664"><span id="local-6989586621679212665"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212665"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212664"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212664"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212663"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212665"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212664"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212665"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212664"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212663"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679212660"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
</span><a href="#local-6989586621679212660"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-112"></span><span id="local-6989586621679212657"><span id="local-6989586621679212658"><span id="local-6989586621679212659"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212658"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212658"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212657"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212658"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212658"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212657"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679212655"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
</span><a href="#local-6989586621679212655"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-117"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-118"></span><span class="hs-comment">--   &gt; toSchema' @MySchema myValue</span><span>
</span><span id="line-119"></span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-type">toSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212654"><span class="annot"><a href="#local-6989586621679212654"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679212653"><span class="annot"><a href="#local-6989586621679212653"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212652"><span class="annot"><a href="#local-6989586621679212652"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212653"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212654"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212651"><span class="annot"><a href="#local-6989586621679212651"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212650"><span class="annot"><a href="#local-6989586621679212650"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-120"></span><span>             </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212652"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212650"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212651"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212651"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212652"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212652"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212650"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span id="toSchema%27"><span class="annot"><span class="annottext">toSchema' :: t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-var hs-var">toSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Term sch (sch :/: sty)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-124"></span><span class="hs-comment">--   &gt; fromSchema' @MySchema mySchemaTerm</span><span>
</span><span id="line-125"></span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-type">fromSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212649"><span class="annot"><a href="#local-6989586621679212649"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679212648"><span class="annot"><a href="#local-6989586621679212648"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212647"><span class="annot"><a href="#local-6989586621679212647"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212648"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212649"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212646"><span class="annot"><a href="#local-6989586621679212646"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212645"><span class="annot"><a href="#local-6989586621679212645"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-126"></span><span>               </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212647"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212645"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212646"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212647"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212647"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212645"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212646"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-127"></span><span id="fromSchema%27"><span class="annot"><span class="annottext">fromSchema' :: Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-var hs-var">fromSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; t
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | By default, the names of the fields in the Haskell type</span><span>
</span><span id="line-130"></span><span class="hs-comment">--   and those of the schema types must coincide. By using</span><span>
</span><span id="line-131"></span><span class="hs-comment">--   this wrapper you can override this default setting.</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">--   This type should be used with @DerivingVia@, as follows:</span><span>
</span><span id="line-134"></span><span class="hs-comment">--</span><span>
</span><span id="line-135"></span><span class="hs-comment">--   &gt; type MyCustomFieldMapping = '[ &quot;A&quot; ':-&gt; &quot;a&quot;, ...]</span><span>
</span><span id="line-136"></span><span class="hs-comment">--   &gt; data MyHaskellType = ...</span><span>
</span><span id="line-137"></span><span class="hs-comment">--   &gt;   deriving ( ToSchema   f MySchema &quot;MySchemaType&quot; MyHaskellType</span><span>
</span><span id="line-138"></span><span class="hs-comment">--   &gt;            , FromSchema f MySchema &quot;MySchemaType&quot; MyHaskellType)</span><span>
</span><span id="line-139"></span><span class="hs-comment">--   &gt;     via (CustomFieldMapping &quot;MySchemaType&quot; MyCustomFieldMapping MyHaskellType)</span><span>
</span><span id="line-140"></span><span class="hs-keyword">newtype</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213436"><span class="annot"><a href="#local-6989586621679213436"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679213439"><span class="annot"><a href="#local-6989586621679213439"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213435"><span class="annot"><a href="#local-6989586621679213435"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier hs-type">Mapping</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679213438"><span class="annot"><a href="#local-6989586621679213438"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621679213437"><span class="annot"><a href="#local-6989586621679213437"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679213437"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621679212640"><span id="local-6989586621679212641"><span id="local-6989586621679212642"><span id="local-6989586621679212643"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679212643"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212642"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212641"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212642"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212640"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212643"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212642"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212640"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212640"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212641"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212643"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679212638"><span class="annot"><span class="annottext">toSchema :: CustomFieldMapping sty fmap t -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679212638"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span id="local-6989586621679212637"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212637"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212641"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212637"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span id="local-6989586621679212633"><span id="local-6989586621679212634"><span id="local-6989586621679212635"><span id="local-6989586621679212636"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679212636"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212634"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212633"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212636"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212633"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212633"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212634"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212636"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679212631"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; CustomFieldMapping sty fmap t
</span><a href="#local-6989586621679212631"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span id="local-6989586621679212630"><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679212630"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; CustomFieldMapping sty fmap t
forall typeName fieldName (sty :: typeName)
       (fmap :: [Mapping Symbol fieldName]) a.
a -&gt; CustomFieldMapping sty fmap a
</span><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; CustomFieldMapping sty fmap t)
-&gt; t -&gt; CustomFieldMapping sty fmap t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212634"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679212630"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- | This 'newtype' is used to wrap types for which</span><span>
</span><span id="line-152"></span><span class="hs-comment">--   we want a &quot;logical&quot; representation as a Haskell</span><span>
</span><span id="line-153"></span><span class="hs-comment">--   type, but the underlying representation is</span><span>
</span><span id="line-154"></span><span class="hs-comment">--   lower level, like 'UUID's as 'ByteString's.</span><span>
</span><span id="line-155"></span><span class="hs-keyword">newtype</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span id="local-6989586621679213296"><span class="annot"><a href="#local-6989586621679213296"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679213295"><span class="annot"><a href="#local-6989586621679213295"><span class="hs-identifier hs-type">logical</span></a></span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unUnderlying"><span class="annot"><span class="annottext">Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213295"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212622"><span id="local-6989586621679212624"><span id="local-6989586621679212626"><span class="annot"><span class="annottext">Int -&gt; Underlying basic logical -&gt; ShowS
[Underlying basic logical] -&gt; ShowS
Underlying basic logical -&gt; String
(Int -&gt; Underlying basic logical -&gt; ShowS)
-&gt; (Underlying basic logical -&gt; String)
-&gt; ([Underlying basic logical] -&gt; ShowS)
-&gt; Show (Underlying basic logical)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showList :: [Underlying basic logical] -&gt; ShowS
$cshowList :: forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
show :: Underlying basic logical -&gt; String
$cshow :: forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showsPrec :: Int -&gt; Underlying basic logical -&gt; ShowS
$cshowsPrec :: forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679212617"><span id="local-6989586621679212619"><span class="annot"><span class="annottext">Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
(Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; (Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; Eq (Underlying basic logical)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
/= :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c/= :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
== :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c== :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | This class defines the actual conversion between</span><span>
</span><span id="line-160"></span><span class="hs-comment">--   a &quot;logical&quot; type and its low-level representation.</span><span>
</span><span id="line-161"></span><span class="hs-keyword">class</span><span> </span><span id="UnderlyingConversion"><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-var">UnderlyingConversion</span></a></span></span><span> </span><span id="local-6989586621679213414"><span class="annot"><a href="#local-6989586621679213414"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679213415"><span class="annot"><a href="#local-6989586621679213415"><span class="hs-identifier hs-type">logical</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>  </span><span id="toUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-type">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213415"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213414"><span class="hs-identifier hs-type">basic</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span id="fromUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-type">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213414"><span class="hs-identifier hs-type">basic</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213415"><span class="hs-identifier hs-type">logical</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679212610"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; String
</span><a href="#local-6989586621679212610"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; String
</span><span class="hs-identifier hs-var">U.toString</span></span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679212608"><span class="annot"><span class="annottext">fromUnderlying :: String -&gt; UUID
</span><a href="#local-6989586621679212608"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (String -&gt; Maybe UUID) -&gt; String -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromString</span></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621679212603"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; Text
</span><a href="#local-6989586621679212603"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">U.toText</span></span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679212601"><span class="annot"><span class="annottext">fromUnderlying :: Text -&gt; UUID
</span><a href="#local-6989586621679212601"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (Text -&gt; Maybe UUID) -&gt; Text -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromText</span></span><span>
</span><span id="line-171"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621679212597"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679212597"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679212595"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679212595"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span>
</span><span id="line-174"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679212591"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679212591"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (UUID -&gt; ByteString) -&gt; UUID -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621679212589"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679212589"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Maybe UUID)
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; Maybe UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.fromStrict</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- CRAZY GENERICS SECTION</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- Auxiliary type families to find elements in lists</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- They return an indication of where the thing was found</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- Note: it turns out that GHC.Generics generates some weird</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- instances for records in the form (x :*: y) :*: z</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- and we cover them with the special HereLeft and HereRight</span><span>
</span><span id="line-188"></span><span class="hs-keyword">data</span><span> </span><span id="Where"><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-var">Where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Here"><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-var">Here</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="There"><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-var">There</span></a></span></span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span>
</span><span id="line-189"></span><span class="hs-keyword">data</span><span> </span><span id="WhereStep"><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-var">WhereStep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StepNoMore"><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-var">StepNoMore</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="StepLeft"><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-var">StepLeft</span></a></span></span><span> </span><span class="hs-glyph">|</span><span>&#160;</span><span id="StepRight"><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-var">StepRight</span></a></span></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212586"><span class="annot"><a href="#local-6989586621679212586"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679212585"><span class="annot"><a href="#local-6989586621679212585"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212584"><span class="annot"><a href="#local-6989586621679212584"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212585"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span id="local-6989586621679212583"><span class="annot"><a href="#local-6989586621679212583"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212583"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212582"><span class="annot"><a href="#local-6989586621679212582"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212581"><span class="annot"><a href="#local-6989586621679212581"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212582"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212580"><span class="annot"><a href="#local-6989586621679212580"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212579"><span class="annot"><a href="#local-6989586621679212579"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212578"><span class="annot"><a href="#local-6989586621679212578"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-type">Find</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212579"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212578"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212577"><span class="annot"><a href="#local-6989586621679212577"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212576"><span class="annot"><a href="#local-6989586621679212576"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span id="local-6989586621679212575"><span class="annot"><a href="#local-6989586621679212575"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679212574"><span class="annot"><a href="#local-6989586621679212574"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-198"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212575"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212574"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212574"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212573"><span class="annot"><a href="#local-6989586621679212573"><span class="hs-identifier hs-type">begin</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212572"><span class="annot"><a href="#local-6989586621679212572"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212571"><span class="annot"><a href="#local-6989586621679212571"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679212570"><span class="annot"><a href="#local-6989586621679212570"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679212569"><span class="annot"><a href="#local-6989586621679212569"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679212568"><span class="annot"><a href="#local-6989586621679212568"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679212567"><span class="annot"><a href="#local-6989586621679212567"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212566"><span class="annot"><a href="#local-6989586621679212566"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212569"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212570"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679212565"><span class="annot"><a href="#local-6989586621679212565"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212564"><span class="annot"><a href="#local-6989586621679212564"><span class="hs-identifier hs-type hs-type">left</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679212563"><span class="annot"><a href="#local-6989586621679212563"><span class="hs-identifier hs-type hs-type">right</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212562"><span class="annot"><a href="#local-6989586621679212562"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-204"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212565"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212564"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212562"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-type">FindCon'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212565"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212563"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212562"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>  </span><span id="FindCon%27"><span class="annot"><a href="Mu.Schema.Class.html#FindCon%27"><span class="hs-identifier hs-var">FindCon'</span></a></span></span><span> </span><span id="local-6989586621679212561"><span class="annot"><a href="#local-6989586621679212561"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span id="local-6989586621679212560"><span class="annot"><a href="#local-6989586621679212560"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679212559"><span class="annot"><a href="#local-6989586621679212559"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212558"><span class="annot"><a href="#local-6989586621679212558"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679212557"><span class="annot"><a href="#local-6989586621679212557"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212556"><span class="annot"><a href="#local-6989586621679212556"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>  </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679212555"><span class="annot"><a href="#local-6989586621679212555"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="annot"><a href="#local-6989586621679212555"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span id="WhenEmpty"><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-var">WhenEmpty</span></a></span></span><span> </span><span id="local-6989586621679212554"><span class="annot"><a href="#local-6989586621679212554"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679212554"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212553"><span class="annot"><a href="#local-6989586621679212553"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212552"><span class="annot"><a href="#local-6989586621679212552"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span id="local-6989586621679212551"><span class="annot"><a href="#local-6989586621679212551"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span> </span><span id="local-6989586621679212550"><span class="annot"><a href="#local-6989586621679212550"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-214"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212551"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212550"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find field &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212550"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212549"><span class="annot"><a href="#local-6989586621679212549"><span class="hs-identifier hs-type">begin</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212548"><span class="annot"><a href="#local-6989586621679212548"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212547"><span class="annot"><a href="#local-6989586621679212547"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679212546"><span class="annot"><a href="#local-6989586621679212546"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679212545"><span class="annot"><a href="#local-6989586621679212545"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212544"><span class="annot"><a href="#local-6989586621679212544"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679212543"><span class="annot"><a href="#local-6989586621679212543"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679212542"><span class="annot"><a href="#local-6989586621679212542"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212541"><span class="annot"><a href="#local-6989586621679212541"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212545"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212546"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679212540"><span class="annot"><a href="#local-6989586621679212540"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212539"><span class="annot"><a href="#local-6989586621679212539"><span class="hs-identifier hs-type hs-type">left</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679212538"><span class="annot"><a href="#local-6989586621679212538"><span class="hs-identifier hs-type hs-type">right</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212537"><span class="annot"><a href="#local-6989586621679212537"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WhenEmpty"><span class="hs-identifier hs-type">WhenEmpty</span></a></span><span>
</span><span id="line-220"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212540"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212539"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212537"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-type">FindSel'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eval</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Snoc</span></span><span> </span><span class="annot"><a href="#local-6989586621679212540"><span class="hs-identifier hs-type">acc</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212538"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212537"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span id="FindSel%27"><span class="annot"><a href="Mu.Schema.Class.html#FindSel%27"><span class="hs-identifier hs-var">FindSel'</span></a></span></span><span> </span><span id="local-6989586621679212536"><span class="annot"><a href="#local-6989586621679212536"><span class="hs-identifier hs-type hs-type">acc</span></a></span></span><span> </span><span id="local-6989586621679212535"><span class="annot"><a href="#local-6989586621679212535"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679212534"><span class="annot"><a href="#local-6989586621679212534"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212533"><span class="annot"><a href="#local-6989586621679212533"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679212532"><span class="annot"><a href="#local-6989586621679212532"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212531"><span class="annot"><a href="#local-6989586621679212531"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212532"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679212530"><span class="annot"><a href="#local-6989586621679212530"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find enum choice &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212530"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679212529"><span class="annot"><a href="#local-6989586621679212529"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212528"><span class="annot"><a href="#local-6989586621679212528"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212529"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-227"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212527"><span class="annot"><a href="#local-6989586621679212527"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>           </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212526"><span class="annot"><a href="#local-6989586621679212526"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212525"><span class="annot"><a href="#local-6989586621679212525"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212526"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212525"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212524"><span class="annot"><a href="#local-6989586621679212524"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679212523"><span class="annot"><a href="#local-6989586621679212523"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679212522"><span class="annot"><a href="#local-6989586621679212522"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212521"><span class="annot"><a href="#local-6989586621679212521"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679212522"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679212520"><span class="annot"><a href="#local-6989586621679212520"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find field &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212520"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679212519"><span class="annot"><a href="#local-6989586621679212519"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span id="local-6989586621679212518"><span class="annot"><a href="#local-6989586621679212518"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212517"><span class="annot"><a href="#local-6989586621679212517"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212519"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212516"><span class="annot"><a href="#local-6989586621679212516"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>            </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212515"><span class="annot"><a href="#local-6989586621679212515"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212514"><span class="annot"><a href="#local-6989586621679212514"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212515"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212514"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- Generic type definitions</span><span>
</span><span id="line-235"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-var">GToSchemaTypeDef</span></a></span></span><span>
</span><span id="line-236"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213513"><span class="annot"><a href="#local-6989586621679213513"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213517"><span class="annot"><a href="#local-6989586621679213517"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213516"><span class="annot"><a href="#local-6989586621679213516"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213512"><span class="annot"><a href="#local-6989586621679213512"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679213516"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213511"><span class="annot"><a href="#local-6989586621679213511"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213517"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213516"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213510"><span class="annot"><a href="#local-6989586621679213510"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621679213508"><span id="toSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-type">toSchemaTypeDef</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679213512"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213510"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213508"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213513"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213511"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-239"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-var">GFromSchemaTypeDef</span></a></span></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213495"><span class="annot"><a href="#local-6989586621679213495"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213497"><span class="annot"><a href="#local-6989586621679213497"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213496"><span class="annot"><a href="#local-6989586621679213496"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213494"><span class="annot"><a href="#local-6989586621679213494"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679213496"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213493"><span class="annot"><a href="#local-6989586621679213493"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213497"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213496"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213492"><span class="annot"><a href="#local-6989586621679213492"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679213490"><span id="fromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-type">fromSchemaTypeDef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679213494"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213495"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213493"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213492"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213490"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- TYPES OF FIELDS --</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span id="local-6989586621679212510"><span id="local-6989586621679212511"><span id="local-6989586621679212512"><span id="local-6989586621679212513"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212513"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212512"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212511"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-249"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212513"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212510"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212512"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212511"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679212507"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DSimple t)
</span><a href="#local-6989586621679212507"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679212506"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212506"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Term sch ('DSimple t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
FieldValue sch t -&gt; Term sch ('DSimple t)
</span><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-var">TSimple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212506"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-251"></span><span id="local-6989586621679212500"><span id="local-6989586621679212501"><span id="local-6989586621679212502"><span id="local-6989586621679212503"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212503"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212502"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212501"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-252"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212503"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212500"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212502"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212501"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621679212497"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DSimple t) -&gt; f a
</span><a href="#local-6989586621679212497"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-type">TSimple</span></a></span><span> </span><span id="local-6989586621679212496"><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212496"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212496"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GToSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213388"><span class="annot"><a href="#local-6989586621679213388"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213390"><span class="annot"><a href="#local-6989586621679213390"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213389"><span class="annot"><a href="#local-6989586621679213389"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213387"><span class="annot"><a href="#local-6989586621679213387"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213390"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213386"><span class="annot"><a href="#local-6989586621679213386"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621679213385"><span id="toSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-type">toSchemaFieldTypeW</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213386"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213385"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213388"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213387"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-258"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GFromSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213373"><span class="annot"><a href="#local-6989586621679213373"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213375"><span class="annot"><a href="#local-6989586621679213375"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213374"><span class="annot"><a href="#local-6989586621679213374"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213372"><span class="annot"><a href="#local-6989586621679213372"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213375"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213371"><span class="annot"><a href="#local-6989586621679213371"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679213370"><span id="fromSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-type">fromSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213373"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213372"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213371"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213370"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span id="local-6989586621679212491"><span id="local-6989586621679212492"><span id="local-6989586621679212493"><span id="local-6989586621679212494"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212494"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212493"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212492"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-263"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212494"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212493"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212491"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212492"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679212488"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: K1 i f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679212488"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679212486"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679212486"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679212486"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-265"></span><span id="local-6989586621679212481"><span id="local-6989586621679212482"><span id="local-6989586621679212483"><span id="local-6989586621679212484"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212484"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212483"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212482"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-266"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212484"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212483"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212481"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212482"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>  </span><span id="local-6989586621679212478"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; K1 i f a
</span><a href="#local-6989586621679212478"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679212477"><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212477"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; K1 i f a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212477"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-268"></span><span id="local-6989586621679212471"><span id="local-6989586621679212472"><span id="local-6989586621679212473"><span id="local-6989586621679212474"><span id="local-6989586621679212475"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212475"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212474"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212473"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-269"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212475"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212474"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212472"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212471"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212473"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>  </span><span id="local-6989586621679212469"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: M1 s m f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679212469"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679212467"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212467"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212467"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-271"></span><span id="local-6989586621679212462"><span id="local-6989586621679212463"><span id="local-6989586621679212464"><span id="local-6989586621679212465"><span id="local-6989586621679212466"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212466"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212465"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212464"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-272"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212466"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212465"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212463"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212462"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212464"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>  </span><span id="local-6989586621679212460"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; M1 s m f a
</span><a href="#local-6989586621679212460"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679212459"><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212459"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; M1 s m f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679212459"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-var">GToSchemaFieldType</span></a></span></span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213359"><span class="annot"><a href="#local-6989586621679213359"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213361"><span class="annot"><a href="#local-6989586621679213361"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213360"><span class="annot"><a href="#local-6989586621679213360"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213358"><span class="annot"><a href="#local-6989586621679213358"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213361"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213357"><span class="annot"><a href="#local-6989586621679213357"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="toSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-type">toSchemaFieldType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213357"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213359"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213358"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-278"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-var">GFromSchemaFieldType</span></a></span></span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213342"><span class="annot"><a href="#local-6989586621679213342"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213344"><span class="annot"><a href="#local-6989586621679213344"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213343"><span class="annot"><a href="#local-6989586621679213343"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213341"><span class="annot"><a href="#local-6989586621679213341"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213344"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213340"><span class="annot"><a href="#local-6989586621679213340"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>  </span><span id="fromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-type">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213342"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213341"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213340"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GToSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213151"><span class="annot"><a href="#local-6989586621679213151"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213153"><span class="annot"><a href="#local-6989586621679213153"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213152"><span class="annot"><a href="#local-6989586621679213152"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213150"><span class="annot"><a href="#local-6989586621679213150"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213153"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213149"><span class="annot"><a href="#local-6989586621679213149"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621679213148"><span id="toSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-type">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679213149"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213148"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213151"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213150"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-285"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GFromSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679213138"><span class="annot"><a href="#local-6989586621679213138"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679213140"><span class="annot"><a href="#local-6989586621679213140"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679213139"><span class="annot"><a href="#local-6989586621679213139"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213137"><span class="annot"><a href="#local-6989586621679213137"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213140"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213136"><span class="annot"><a href="#local-6989586621679213136"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679213135"><span id="fromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213138"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213137"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213136"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213135"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- These instances are straightforward,</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- just turn the &quot;real types&quot; into their</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- schema correspondants.</span><span>
</span><span id="line-292"></span><span id="local-6989586621679212456"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212456"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621679212453"><span class="annot"><span class="annottext">toSchemaFieldType :: () -&gt; FieldValue sch 'TNull
</span><a href="#local-6989586621679212453"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch 'TNull
forall typeName fieldName (sch :: Schema typeName fieldName).
FieldValue sch 'TNull
</span><a href="Mu.Schema.Interpretation.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span></span><span>
</span><span id="line-294"></span><span id="local-6989586621679212451"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212451"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679212448"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch 'TNull -&gt; ()
</span><a href="#local-6989586621679212448"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch 'TNull
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-296"></span><span id="local-6989586621679212445"><span id="local-6989586621679212446"><span id="local-6989586621679212447"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212447"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212446"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212445"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212447"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212447"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212446"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621679212443"><span class="annot"><span class="annottext">toSchemaFieldType :: Underlying t l -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679212443"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; FieldValue sch ('TPrimitive t))
-&gt; (Underlying t l -&gt; t)
-&gt; Underlying t l
-&gt; FieldValue sch ('TPrimitive t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">l -&gt; t
forall basic logical.
UnderlyingConversion basic logical =&gt;
logical -&gt; basic
</span><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-var">toUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">(l -&gt; t) -&gt; (Underlying t l -&gt; l) -&gt; Underlying t l -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Underlying t l -&gt; l
forall k (basic :: k) logical. Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span></span></span><span>
</span><span id="line-299"></span><span id="local-6989586621679212439"><span id="local-6989586621679212440"><span id="local-6989586621679212441"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212441"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212440"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212439"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212441"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212441"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212440"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621679212437"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; Underlying t l
</span><a href="#local-6989586621679212437"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679212436"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212436"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">l -&gt; Underlying t l
forall k (basic :: k) logical. logical -&gt; Underlying basic logical
</span><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; l
forall basic logical.
UnderlyingConversion basic logical =&gt;
basic -&gt; logical
</span><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-var">fromUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212436"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-302"></span><span id="local-6989586621679212434"><span id="local-6989586621679212435"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212435"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212434"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212434"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-303"></span><span>  </span><span id="local-6989586621679212432"><span class="annot"><span class="annottext">toSchemaFieldType :: t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679212432"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span></span></span><span>
</span><span id="line-304"></span><span id="local-6989586621679212430"><span id="local-6989586621679212431"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212431"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212430"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212430"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679212428"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; t
</span><a href="#local-6989586621679212428"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679212427"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679212427"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679212427"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- These instances &quot;tie the loop&quot; with the whole schema,</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- and they are the reason why we need to thread the @sch@</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- type throghout the whole implementation.</span><span>
</span><span id="line-309"></span><span id="local-6989586621679212424"><span id="local-6989586621679212425"><span id="local-6989586621679212426"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212426"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212425"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212424"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-310"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212426"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212425"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212424"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621679212422"><span class="annot"><span class="annottext">toSchemaFieldType :: v -&gt; FieldValue sch ('TSchematic t)
</span><a href="#local-6989586621679212422"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212421"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679212421"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: typeName).
Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
</span><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-var">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">(Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t))
-&gt; Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Term sch (sch :/: t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679212421"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-312"></span><span id="local-6989586621679212417"><span id="local-6989586621679212418"><span id="local-6989586621679212419"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212419"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212418"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212417"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-313"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212419"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212418"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212417"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>  </span><span id="local-6989586621679212415"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TSchematic t) -&gt; v
</span><a href="#local-6989586621679212415"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679212414"><span class="annot"><span class="annottext">Term sch (sch :/: t)
</span><a href="#local-6989586621679212414"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; v
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t)
Term sch (sch :/: t)
</span><a href="#local-6989586621679212414"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-315"></span><span id="local-6989586621679212411"><span id="local-6989586621679212412"><span id="local-6989586621679212413"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212413"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212412"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212411"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-316"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212413"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212412"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679212411"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621679212409"><span class="annot"><span class="annottext">toSchemaFieldType :: Maybe v -&gt; FieldValue sch ('TOption t)
</span><a href="#local-6989586621679212409"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212408"><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679212408"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
</span><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-var">FOption</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; Maybe v -&gt; Maybe (FieldValue sch t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679212408"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-318"></span><span id="local-6989586621679212403"><span id="local-6989586621679212404"><span id="local-6989586621679212405"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212405"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212404"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212403"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-319"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212405"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212404"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679212403"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>  </span><span id="local-6989586621679212401"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TOption t) -&gt; Maybe v
</span><a href="#local-6989586621679212401"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span> </span><span id="local-6989586621679212400"><span class="annot"><span class="annottext">Maybe (FieldValue sch t)
</span><a href="#local-6989586621679212400"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; Maybe (FieldValue sch t) -&gt; Maybe v
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t)
</span><a href="#local-6989586621679212400"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-321"></span><span id="local-6989586621679212397"><span id="local-6989586621679212398"><span id="local-6989586621679212399"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212399"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212398"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212397"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-322"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212399"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212398"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212397"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-323"></span><span>  </span><span id="local-6989586621679212395"><span class="annot"><span class="annottext">toSchemaFieldType :: [v] -&gt; FieldValue sch ('TList t)
</span><a href="#local-6989586621679212395"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212394"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679212394"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t] -&gt; FieldValue sch ('TList t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
[FieldValue sch t] -&gt; FieldValue sch ('TList t)
</span><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-var">FList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; [v] -&gt; [FieldValue sch t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679212394"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-324"></span><span id="local-6989586621679212390"><span id="local-6989586621679212391"><span id="local-6989586621679212392"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212392"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212391"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212390"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-325"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212392"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212391"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212390"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-326"></span><span>  </span><span id="local-6989586621679212388"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TList t) -&gt; [v]
</span><a href="#local-6989586621679212388"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span> </span><span id="local-6989586621679212387"><span class="annot"><span class="annottext">[FieldValue sch t]
</span><a href="#local-6989586621679212387"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; [FieldValue sch t] -&gt; [v]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t]
</span><a href="#local-6989586621679212387"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-327"></span><span id="local-6989586621679212382"><span id="local-6989586621679212383"><span id="local-6989586621679212384"><span id="local-6989586621679212385"><span id="local-6989586621679212386"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212386"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212385"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212384"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212386"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212383"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212382"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-328"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212386"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212385"><span class="hs-identifier hs-type">sk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Ord is required to build a map</span><span>
</span><span id="line-329"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212386"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212385"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212383"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679212384"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212382"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>  </span><span id="local-6989586621679212380"><span class="annot"><span class="annottext">toSchemaFieldType :: Map hk hv -&gt; FieldValue sch ('TMap sk sv)
</span><a href="#local-6989586621679212380"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212379"><span class="annot"><span class="annottext">Map hk hv
</span><a href="#local-6989586621679212379"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch sk) (FieldValue sch sv)
-&gt; FieldValue sch ('TMap sk sv)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (k :: FieldType typeName) (v :: FieldType typeName).
Ord (FieldValue sch k) =&gt;
Map (FieldValue sch k) (FieldValue sch v)
-&gt; FieldValue sch ('TMap k v)
</span><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-var">FMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hk -&gt; FieldValue sch sk)
-&gt; Map hk (FieldValue sch sv)
-&gt; Map (FieldValue sch sk) (FieldValue sch sv)
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">hk -&gt; FieldValue sch sk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hv -&gt; FieldValue sch sv)
-&gt; Map hk hv -&gt; Map hk (FieldValue sch sv)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">hv -&gt; FieldValue sch sv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map hk hv
</span><a href="#local-6989586621679212379"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-331"></span><span id="local-6989586621679212371"><span id="local-6989586621679212372"><span id="local-6989586621679212373"><span id="local-6989586621679212374"><span id="local-6989586621679212375"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212375"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212374"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212373"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212375"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212372"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212371"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679212373"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212375"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212374"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212372"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679212373"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212371"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>  </span><span id="local-6989586621679212369"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TMap sk sv) -&gt; Map hk hv
</span><a href="#local-6989586621679212369"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span> </span><span id="local-6989586621679212368"><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679212368"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldValue sch k -&gt; hk) -&gt; Map (FieldValue sch k) hv -&gt; Map hk hv
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch k -&gt; hk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FieldValue sch v -&gt; hv)
-&gt; Map (FieldValue sch k) (FieldValue sch v)
-&gt; Map (FieldValue sch k) hv
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch v -&gt; hv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679212368"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-334"></span><span class="hs-comment">-- This assumes that a union is represented by</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- a value of type 'NS', where types are in</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- the same order.</span><span>
</span><span id="line-337"></span><span id="local-6989586621679212365"><span id="local-6989586621679212366"><span id="local-6989586621679212367"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-338"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212367"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212366"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212365"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-339"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212367"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212366"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679212365"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621679212363"><span class="annot"><span class="annottext">toSchemaFieldType :: NS I vs -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679212363"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212362"><span class="annot"><span class="annottext">NS I vs
</span><a href="#local-6989586621679212362"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I vs -&gt; NS (FieldValue sch) ts
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679212360"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I vs
</span><a href="#local-6989586621679212362"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679213185"><span id="local-6989586621679213186"><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212367"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213186"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213185"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-342"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679213185"><span class="hs-identifier hs-type">vss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212367"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213186"><span class="hs-identifier hs-type">tss</span></a></span></span></span><span>
</span><span id="line-343"></span><span>          </span><span id="local-6989586621679212360"><span class="annot"><span class="annottext">go :: NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679212360"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span id="local-6989586621679212357"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679212357"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch (Head tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; FieldValue sch (Head tss)
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679212357"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679212355"><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679212355"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (Tail tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I xs -&gt; NS (FieldValue sch) (Tail tss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679212360"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679212355"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-345"></span><span id="local-6989586621679212352"><span id="local-6989586621679212353"><span id="local-6989586621679212354"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-346"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212353"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212352"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-347"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212353"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679212352"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621679212350"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; NS I vs
</span><a href="#local-6989586621679212350"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679212349"><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679212349"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; NS I vs
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679212348"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679212349"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679213165"><span id="local-6989586621679213166"><span class="annot"><a href="#local-6989586621679212348"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213166"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213165"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-350"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679213166"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679213165"><span class="hs-identifier hs-type">vss</span></a></span></span></span><span>
</span><span id="line-351"></span><span>          </span><span id="local-6989586621679212348"><span class="annot"><span class="annottext">go :: NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679212348"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679212347"><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212347"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I (Head vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Head vss -&gt; I (Head vss)
forall a. a -&gt; I a
</span><span class="hs-identifier hs-var">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; Head vss
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212347"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>          </span><span class="annot"><a href="#local-6989586621679212348"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679212346"><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679212346"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS I (Tail vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; NS I (Tail vss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679212348"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679212346"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- But we can also use any other if it has</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- the right structure</span><span>
</span><span id="line-355"></span><span id="local-6989586621679212343"><span id="local-6989586621679212344"><span id="local-6989586621679212345"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-356"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212344"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212343"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212344"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212343"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-358"></span><span>  </span><span id="local-6989586621679212341"><span class="annot"><span class="annottext">toSchemaFieldType :: f -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679212341"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679212340"><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679212340"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rep f Any -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; Rep f Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679212340"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-359"></span><span id="local-6989586621679212337"><span id="local-6989586621679212338"><span id="local-6989586621679212339"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-360"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679212339"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212338"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212337"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212339"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212338"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212337"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212339"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>  </span><span id="local-6989586621679212335"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; f
</span><a href="#local-6989586621679212335"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679212334"><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679212334"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep f Any -&gt; f
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; Rep f Any
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679212334"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span id="local-6989586621679212333"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212333"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-365"></span><span>  </span><span id="local-6989586621679212330"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679212330"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="annot"><span class="annottext">U1 a
</span><span class="hs-identifier hs-var">U1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;this should never happen&quot;</span></span></span><span>
</span><span id="line-366"></span><span id="local-6989586621679212327"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212327"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>  </span><span id="local-6989586621679212324"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; U1 a
</span><a href="#local-6989586621679212324"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-368"></span><span id="local-6989586621679212321"><span id="local-6989586621679212322"><span id="local-6989586621679212323"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212323"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212322"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212321"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>  </span><span id="local-6989586621679212319"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679212319"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
</span><span class="hs-identifier hs-var">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-370"></span><span id="local-6989586621679212316"><span id="local-6989586621679212317"><span id="local-6989586621679212318"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212318"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212317"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212316"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679212314"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; M1 i t U1 a
</span><a href="#local-6989586621679212314"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; M1 i t U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-372"></span><span id="local-6989586621679212312"><span id="local-6989586621679212313"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-373"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212313"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212312"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>  </span><span id="local-6989586621679212310"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: f a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679212310"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-376"></span><span id="local-6989586621679212308"><span id="local-6989586621679212309"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-377"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212309"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212308"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621679212306"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; f a
</span><a href="#local-6989586621679212306"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[] -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span id="local-6989586621679212303"><span id="local-6989586621679212304"><span id="local-6989586621679212305"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212305"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212304"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212303"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212305"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212304"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212303"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621679212301"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: v a -&gt; NS (FieldValue sch) '[t]
</span><a href="#local-6989586621679212301"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span id="local-6989586621679212300"><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212300"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) '[t]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212300"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-384"></span><span id="local-6989586621679212297"><span id="local-6989586621679212298"><span id="local-6989586621679212299"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212298"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212298"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212297"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>  </span><span id="local-6989586621679212295"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[t] -&gt; v a
</span><a href="#local-6989586621679212295"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679212294"><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212294"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212294"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- remove M1 from thing with more than one element</span><span>
</span><span id="line-390"></span><span id="local-6989586621679212287"><span id="local-6989586621679212288"><span id="local-6989586621679212289"><span id="local-6989586621679212290"><span id="local-6989586621679212291"><span id="local-6989586621679212292"><span id="local-6989586621679212293"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212293"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212292"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212290"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212289"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212293"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212292"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212290"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212288"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212287"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212289"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="local-6989586621679212285"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t v a -&gt; NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679212285"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679212284"><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212284"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; NS (FieldValue sch) (a : b : rest)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212284"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-393"></span><span id="local-6989586621679212277"><span id="local-6989586621679212278"><span id="local-6989586621679212279"><span id="local-6989586621679212280"><span id="local-6989586621679212281"><span id="local-6989586621679212282"><span id="local-6989586621679212283"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212283"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212282"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212281"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212280"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212279"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212283"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212282"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212281"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212280"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212278"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212279"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679212275"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (a : b : rest) -&gt; M1 i t v a
</span><a href="#local-6989586621679212275"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span id="local-6989586621679212274"><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679212274"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; M1 i t v a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest) -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679212274"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span id="local-6989586621679212269"><span id="local-6989586621679212270"><span id="local-6989586621679212271"><span id="local-6989586621679212272"><span id="local-6989586621679212273"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212273"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212271"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212273"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212269"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212273"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212271"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212269"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-399"></span><span>  </span><span id="local-6989586621679212267"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) v vs a -&gt; NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679212267"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679212265"><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212265"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679212265"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679212263"><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212263"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212263"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-401"></span><span id="local-6989586621679212258"><span id="local-6989586621679212259"><span id="local-6989586621679212260"><span id="local-6989586621679212261"><span id="local-6989586621679212262"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212259"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212258"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212262"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212259"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212258"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>  </span><span id="local-6989586621679212256"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t : ts) -&gt; (:+:) v vs a
</span><a href="#local-6989586621679212256"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679212255"><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212255"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679212255"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679212254"><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679212254"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; vs a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679212254"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- Weird nested instance produced by GHC</span><span>
</span><span id="line-406"></span><span id="local-6989586621679212248"><span id="local-6989586621679212249"><span id="local-6989586621679212250"><span id="local-6989586621679212251"><span id="local-6989586621679212252"><span id="local-6989586621679212253"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621679212246"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) (v1 :+: v2) vs a -&gt; NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679212246"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679212245"><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679212245"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 (v2 :+: vs) a -&gt; NS (FieldValue sch) (t : ts)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; (:+:) v1 (v2 :+: vs) a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679212245"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679212244"><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679212244"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 (v2 :+: vs) a -&gt; NS (FieldValue sch) (t : ts)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(:+:) v2 vs a -&gt; (:+:) v1 (v2 :+: vs) a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; (:+:) v2 vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679212244"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679212243"><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212243"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 (v2 :+: vs) a -&gt; NS (FieldValue sch) (t : ts)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(:+:) v2 vs a -&gt; (:+:) v1 (v2 :+: vs) a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; (:+:) v2 vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212243"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-414"></span><span id="local-6989586621679212237"><span id="local-6989586621679212238"><span id="local-6989586621679212239"><span id="local-6989586621679212240"><span id="local-6989586621679212241"><span id="local-6989586621679212242"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212242"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212241"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212240"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212239"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212238"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212237"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212242"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212241"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212240"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212239"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212238"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212237"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679212235"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t : ts) -&gt; (:+:) (v1 :+: v2) vs a
</span><a href="#local-6989586621679212235"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span id="local-6989586621679212234"><span class="annot"><span class="annottext">NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679212234"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t : ts) -&gt; (:+:) v1 (v2 :+: vs) a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212242"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212241"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212240"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212239"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212238"><span class="hs-identifier hs-type">v2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212237"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679212234"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-418"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679212233"><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679212233"><span class="hs-identifier hs-var">x</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679212233"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679212232"><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679212232"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679212232"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679212231"><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212231"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679212231"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- ---------------</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- ENUMERATIONS --</span><span>
</span><span id="line-424"></span><span class="hs-comment">------------------</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span id="local-6989586621679212226"><span id="local-6989586621679212227"><span id="local-6989586621679212228"><span id="local-6989586621679212229"><span id="local-6989586621679212230"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-427"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212230"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212229"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212228"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212227"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212230"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212226"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212229"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212228"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-429"></span><span>  </span><span id="local-6989586621679212224"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679212224"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212223"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212223"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212222"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212222"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall fieldName typeName (name :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy name -&gt; Term sch ('DEnum name name)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">TEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212223"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212222"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-430"></span><span id="local-6989586621679212215"><span id="local-6989586621679212216"><span id="local-6989586621679212217"><span id="local-6989586621679212218"><span id="local-6989586621679212219"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-431"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212217"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212215"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212217"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679212213"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
</span><a href="#local-6989586621679212213"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212212"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212212"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-type">TEnum</span></a></span><span> </span><span id="local-6989586621679212211"><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679212211"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy choices -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212212"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679212211"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-434"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-436"></span><span id="local-6989586621679212204"><span id="local-6989586621679212205"><span id="local-6989586621679212206"><span id="local-6989586621679212207"><span id="local-6989586621679212208"><span id="local-6989586621679212209"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-437"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212209"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212208"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212206"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-438"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212209"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212208"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212206"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-439"></span><span>  </span><span id="local-6989586621679212202"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679212202"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212201"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212201"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679212200"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212200"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212201"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212200"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-440"></span><span id="local-6989586621679212194"><span id="local-6989586621679212195"><span id="local-6989586621679212196"><span id="local-6989586621679212197"><span id="local-6989586621679212198"><span id="local-6989586621679212199"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-441"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212199"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-442"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212199"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212196"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212194"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212195"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679212192"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; D1 meta f a
</span><a href="#local-6989586621679212192"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212191"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212191"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212190"><span class="annot"><span class="annottext">Term sch ('DEnum name choices)
</span><a href="#local-6989586621679212190"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212191"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum name choices)
</span><a href="#local-6989586621679212190"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- 'toSchema' for enumerations:</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- 1. recursively decompose the (:+:)s into their atomic components</span><span>
</span><span id="line-447"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumSymbol'</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- 2. for each atomic component, figure out which is the element</span><span>
</span><span id="line-449"></span><span class="hs-comment">--    in the schema's enumeration that it corresponds to</span><span>
</span><span id="line-450"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'Find'</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- 3. from that location, build a 'Proxy' value</span><span>
</span><span id="line-452"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumProxy'</span><span>
</span><span id="line-453"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-var">GToSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213011"><span class="annot"><a href="#local-6989586621679213011"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679213012"><span class="annot"><a href="#local-6989586621679213012"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>                             </span><span class="hs-special">(</span><span id="local-6989586621679213010"><span class="annot"><a href="#local-6989586621679213010"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213012"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679213009"><span class="annot"><a href="#local-6989586621679213009"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>  </span><span id="local-6989586621679213008"><span id="toSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-type">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679213011"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679213009"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679213008"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679213010"><span class="hs-identifier hs-type">choices</span></a></span></span><span>
</span><span id="line-456"></span><span id="local-6989586621679212186"><span id="local-6989586621679212187"><span id="local-6989586621679212188"><span id="local-6989586621679212189"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212189"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212188"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212187"><span class="hs-identifier hs-type">oneway</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212189"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212188"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212186"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212189"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212188"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212187"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212186"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-458"></span><span>  </span><span id="local-6989586621679212183"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; (:+:) oneway oranother a -&gt; NS Proxy choices
</span><a href="#local-6989586621679212183"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span id="local-6989586621679212182"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212182"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679212181"><span class="annot"><span class="annottext">oneway a
</span><a href="#local-6989586621679212181"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oneway a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212182"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a
</span><a href="#local-6989586621679212181"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-459"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679212180"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212180"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679212179"><span class="annot"><span class="annottext">oranother a
</span><a href="#local-6989586621679212179"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oranother a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212180"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oranother a
</span><a href="#local-6989586621679212179"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-460"></span><span id="local-6989586621679212173"><span id="local-6989586621679212174"><span id="local-6989586621679212175"><span id="local-6989586621679212176"><span id="local-6989586621679212177"><span id="local-6989586621679212178"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212178"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212178"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212177"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212176"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212177"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212178"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679212176"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212175"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212174"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212173"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>  </span><span id="local-6989586621679212171"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; C1 ('MetaCons c p s) f a -&gt; NS Proxy choices
</span><a href="#local-6989586621679212171"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">C1 ('MetaCons c p s) f a
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy choices
-&gt; Proxy (FindEnumChoice choices (MappingRight fmap c))
-&gt; NS Proxy choices
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choices
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212178"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindEnumChoice choices (MappingRight fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212178"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212177"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212176"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- Types which have no constructor information cannot be used here</span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-var">GToSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212954"><span class="annot"><a href="#local-6989586621679212954"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679212955"><span class="annot"><a href="#local-6989586621679212955"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212953"><span class="annot"><a href="#local-6989586621679212953"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-467"></span><span>  </span><span id="toSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-type">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212954"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212953"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212954"><span class="hs-identifier hs-type">choices</span></a></span><span>
</span><span id="line-468"></span><span id="local-6989586621679212168"><span id="local-6989586621679212169"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212169"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212168"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-469"></span><span>  </span><span id="local-6989586621679212165"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy 'Here -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679212165"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (c : cs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy 'Here
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span></span></span><span>
</span><span id="line-470"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212163"><span class="annot"><a href="#local-6989586621679212163"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679212162"><span class="annot"><a href="#local-6989586621679212162"><span class="hs-identifier hs-type">cs</span></a></span></span><span> </span><span id="local-6989586621679212161"><span class="annot"><a href="#local-6989586621679212161"><span class="hs-identifier hs-type">w</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212162"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212161"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-471"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212163"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212162"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212161"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>  </span><span id="local-6989586621679212160"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy ('There w) -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679212160"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (c : cs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('There w)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy cs -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs -&gt; Proxy w -&gt; NS Proxy cs
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212162"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy w
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212161"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-comment">-- 'fromSchema' for enumerations:</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- 1. for each element in the list of choices</span><span>
</span><span id="line-476"></span><span class="hs-comment">--    (this iteration is done by 'GFromSchemaEnumDecomp')</span><span>
</span><span id="line-477"></span><span class="hs-comment">--    figure out the constructor it corresponds to</span><span>
</span><span id="line-478"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindCon'</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- 2. from that location, build a 'U1' value wrapped</span><span>
</span><span id="line-480"></span><span class="hs-comment">--    in as many 'L1' and 'R1' required.</span><span>
</span><span id="line-481"></span><span class="hs-comment">--    this is done by 'GFromSchemaEnumU1'</span><span>
</span><span id="line-482"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-var">GFromSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212996"><span class="annot"><a href="#local-6989586621679212996"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679212997"><span class="annot"><a href="#local-6989586621679212997"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212995"><span class="annot"><a href="#local-6989586621679212995"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212997"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212994"><span class="annot"><a href="#local-6989586621679212994"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-483"></span><span>  </span><span id="local-6989586621679212993"><span id="fromSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-type">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212996"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212995"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212994"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212993"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-484"></span><span id="local-6989586621679212158"><span id="local-6989586621679212159"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212159"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212158"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>  </span><span id="local-6989586621679212155"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy '[] -&gt; f a
</span><a href="#local-6989586621679212155"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NS Proxy '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;This should never happen&quot;</span></span></span></span><span>
</span><span id="line-486"></span><span id="local-6989586621679212151"><span id="local-6989586621679212152"><span id="local-6989586621679212153"><span id="local-6989586621679212154"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212153"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212152"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212153"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212151"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212153"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212152"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212151"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-488"></span><span>  </span><span id="local-6989586621679212149"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy ('ChoiceDef c : cs) -&gt; f a
</span><a href="#local-6989586621679212149"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy f
-&gt; Proxy
     (WhenEmpty (FindCon' '[] f (MappingLeft fmap c)) (TypeError ...))
-&gt; f a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindCon f (MappingLeft fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212154"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212153"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212152"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679212147"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212147"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679212146"><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679212146"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy xs -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212147"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679212146"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-var">GFromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212924"><span class="annot"><a href="#local-6989586621679212924"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212923"><span class="annot"><a href="#local-6989586621679212923"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-492"></span><span>  </span><span id="local-6989586621679212922"><span id="fromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-type">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212924"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212923"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212924"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212922"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-493"></span><span id="local-6989586621679212145"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212145"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>  </span><span id="local-6989586621679212142"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (C1 m U1) -&gt; Proxy '[ 'StepNoMore] -&gt; C1 m U1 a
</span><a href="#local-6989586621679212142"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (C1 m U1)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy '[ 'StepNoMore]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; C1 m U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-495"></span><span id="local-6989586621679212139"><span id="local-6989586621679212140"><span id="local-6989586621679212141"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212139"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-496"></span><span>  </span><span id="local-6989586621679212137"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (left :+: right)
-&gt; Proxy ('StepLeft : rest) -&gt; (:+:) left right a
</span><a href="#local-6989586621679212137"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (left :+: right)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('StepLeft : rest)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">left a -&gt; (:+:) left right a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy left -&gt; Proxy rest -&gt; left a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy left
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212141"><span class="hs-identifier hs-type">left</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212140"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-497"></span><span id="local-6989586621679212134"><span id="local-6989586621679212135"><span id="local-6989586621679212136"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212136"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212135"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212134"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212136"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212135"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-498"></span><span>  </span><span id="local-6989586621679212132"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (left :+: right)
-&gt; Proxy ('StepRight : rest) -&gt; (:+:) left right a
</span><a href="#local-6989586621679212132"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (left :+: right)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('StepRight : rest)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">right a -&gt; (:+:) left right a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy right -&gt; Proxy rest -&gt; right a
forall (f :: * -&gt; *) (w :: [WhereStep]) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy right
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212136"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212135"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="hs-comment">-- ----------</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- RECORDS --</span><span>
</span><span id="line-502"></span><span class="hs-comment">-------------</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span id="local-6989586621679212127"><span id="local-6989586621679212128"><span id="local-6989586621679212129"><span id="local-6989586621679212130"><span id="local-6989586621679212131"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-505"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212131"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212130"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212129"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212128"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212131"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212130"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212127"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212129"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>  </span><span id="local-6989586621679212125"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679212125"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212124"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212124"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212123"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212123"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-var">TRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) args
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212124"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212123"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-508"></span><span id="local-6989586621679212116"><span id="local-6989586621679212117"><span id="local-6989586621679212118"><span id="local-6989586621679212119"><span id="local-6989586621679212120"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-509"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212120"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212119"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212118"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212117"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212120"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212119"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212116"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212118"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212117"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>  </span><span id="local-6989586621679212114"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
</span><a href="#local-6989586621679212114"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212113"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212113"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-type">TRecord</span></a></span><span> </span><span id="local-6989586621679212112"><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212112"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212113"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212112"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-512"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-513"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-514"></span><span id="local-6989586621679212105"><span id="local-6989586621679212106"><span id="local-6989586621679212107"><span id="local-6989586621679212108"><span id="local-6989586621679212109"><span id="local-6989586621679212110"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-515"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212110"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212109"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212108"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212107"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212106"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-516"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212110"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212109"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212108"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212107"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212105"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212106"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-517"></span><span>  </span><span id="local-6989586621679212103"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679212103"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212102"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212102"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679212101"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212101"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212102"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212101"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-518"></span><span id="local-6989586621679212095"><span id="local-6989586621679212096"><span id="local-6989586621679212097"><span id="local-6989586621679212098"><span id="local-6989586621679212099"><span id="local-6989586621679212100"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-519"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212100"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212099"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212098"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212097"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212096"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-520"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212100"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212099"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212098"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212097"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212095"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212096"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621679212093"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; D1 meta f a
</span><a href="#local-6989586621679212093"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212092"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212092"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212091"><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679212091"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212092"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679212091"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-522"></span><span id="local-6989586621679212085"><span id="local-6989586621679212086"><span id="local-6989586621679212087"><span id="local-6989586621679212088"><span id="local-6989586621679212089"><span id="local-6989586621679212090"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-523"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212089"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212088"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212087"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212086"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-524"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212090"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212089"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212088"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212087"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212085"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212086"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>  </span><span id="local-6989586621679212083"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; C1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679212083"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212082"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212082"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679212081"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212081"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212082"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212081"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-526"></span><span id="local-6989586621679212075"><span id="local-6989586621679212076"><span id="local-6989586621679212077"><span id="local-6989586621679212078"><span id="local-6989586621679212079"><span id="local-6989586621679212080"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-527"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212080"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212079"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212078"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212077"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212076"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-528"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212080"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212079"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212078"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212077"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212075"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212076"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-529"></span><span>  </span><span id="local-6989586621679212073"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; C1 meta f a
</span><a href="#local-6989586621679212073"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679212072"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212072"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212071"><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679212071"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; C1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212072"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679212071"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="hs-comment">-- 'toSchema' for records:</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- 1. iterate over each field in the schema of the record</span><span>
</span><span id="line-533"></span><span class="hs-comment">--    this is done by 'GToSchemaRecord'</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- 2. figure out the selector (field) in the Haskell type</span><span>
</span><span id="line-535"></span><span class="hs-comment">--    to which that record corresponds to</span><span>
</span><span id="line-536"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindSel'</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-538"></span><span class="hs-comment">--    this is done by 'GToSchemaRecordSearch'</span><span>
</span><span id="line-539"></span><span class="hs-comment">--</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- Due to some glitch in 'GHC.Generics', sometimes products</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- are not represented by a linear sequence of ':*:',</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- so we need to handle some cases in a special way</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- (see 'HereLeft' and 'HereRight' instances)</span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-comment">-- | For internal use only: generic conversion of a list of fields.</span><span>
</span><span id="line-546"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-var">GToSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212889"><span class="annot"><a href="#local-6989586621679212889"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679212891"><span class="annot"><a href="#local-6989586621679212891"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679212890"><span class="annot"><a href="#local-6989586621679212890"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212888"><span class="annot"><a href="#local-6989586621679212888"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212890"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>                      </span><span class="hs-special">(</span><span id="local-6989586621679212887"><span class="annot"><a href="#local-6989586621679212887"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212891"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212890"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212886"><span class="annot"><a href="#local-6989586621679212886"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-548"></span><span>  </span><span id="local-6989586621679212885"><span id="toSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-type">toSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212888"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212886"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212889"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212887"><span class="hs-identifier hs-type">args</span></a></span></span><span>
</span><span id="line-549"></span><span id="local-6989586621679212068"><span id="local-6989586621679212069"><span id="local-6989586621679212070"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212070"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212069"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679212068"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>  </span><span id="local-6989586621679212065"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) '[]
</span><a href="#local-6989586621679212065"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span></span></span><span>
</span><span id="line-551"></span><span id="local-6989586621679212058"><span id="local-6989586621679212059"><span id="local-6989586621679212060"><span id="local-6989586621679212061"><span id="local-6989586621679212062"><span id="local-6989586621679212063"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212063"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212062"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212061"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212060"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-552"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212063"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212059"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212062"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212058"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212063"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212062"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212058"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212059"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212061"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-554"></span><span>  </span><span id="local-6989586621679212056"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) ('FieldDef name t : cs)
</span><a href="#local-6989586621679212056"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679212055"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212055"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212054"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212054"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
</span><a href="#local-6989586621679212053"><span class="hs-identifier hs-var">this</span></a></span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
-&gt; NP (Field sch) cs -&gt; NP (Field sch) ('FieldDef name t : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) cs
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212055"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212054"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-555"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679212053"><span class="annot"><span class="annottext">this :: Field sch ('FieldDef name t)
</span><a href="#local-6989586621679212053"><span class="hs-identifier hs-var hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Field sch ('FieldDef name t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy
  (WhenEmpty
     (FindSel' '[] f (MappingLeft fmap name)) (TypeError ...))
-&gt; f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindSel f (MappingLeft fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212062"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212058"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679212054"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-var">GToSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212801"><span class="annot"><a href="#local-6989586621679212801"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679212803"><span class="annot"><a href="#local-6989586621679212803"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679212802"><span class="annot"><a href="#local-6989586621679212802"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>                            </span><span class="hs-special">(</span><span id="local-6989586621679212800"><span class="annot"><a href="#local-6989586621679212800"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212803"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212799"><span class="annot"><a href="#local-6989586621679212799"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212798"><span class="annot"><a href="#local-6989586621679212798"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Class.html#WhereStep"><span class="hs-identifier hs-type">WhereStep</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-559"></span><span>  </span><span id="local-6989586621679212797"><span id="toSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-type">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212798"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212799"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212797"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212801"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212800"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-560"></span><span id="local-6989586621679212045"><span id="local-6989586621679212046"><span id="local-6989586621679212047"><span id="local-6989586621679212048"><span id="local-6989586621679212049"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212049"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212048"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212047"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-561"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212049"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212048"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212046"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212045"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212047"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepNoMore"><span class="hs-identifier hs-type">StepNoMore</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-562"></span><span>  </span><span id="local-6989586621679212042"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy '[ 'StepNoMore] -&gt; S1 m (K1 i v) a -&gt; FieldValue sch t
</span><a href="#local-6989586621679212042"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[ 'StepNoMore]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679212041"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679212041"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679212041"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-563"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212039"><span class="annot"><a href="#local-6989586621679212039"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679212038"><span class="annot"><a href="#local-6989586621679212038"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212037"><span class="annot"><a href="#local-6989586621679212037"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679212036"><span class="annot"><a href="#local-6989586621679212036"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span id="local-6989586621679212035"><span class="annot"><a href="#local-6989586621679212035"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-564"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212039"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212038"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212037"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212035"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-565"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212039"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212038"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212037"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212036"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepLeft"><span class="hs-identifier hs-type">StepLeft</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212035"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-566"></span><span>  </span><span id="local-6989586621679212034"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy ('StepLeft : n) -&gt; (:*:) left right a -&gt; FieldValue sch t
</span><a href="#local-6989586621679212034"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy ('StepLeft : n)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212033"><span class="annot"><span class="annottext">left a
</span><a href="#local-6989586621679212033"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="annottext">right a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; left a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212035"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">left a
</span><a href="#local-6989586621679212033"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-567"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679212030"><span class="annot"><a href="#local-6989586621679212030"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679212029"><span class="annot"><a href="#local-6989586621679212029"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212028"><span class="annot"><a href="#local-6989586621679212028"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679212027"><span class="annot"><a href="#local-6989586621679212027"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span id="local-6989586621679212026"><span class="annot"><a href="#local-6989586621679212026"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-568"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212030"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212029"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212027"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212026"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-569"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212030"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212029"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212028"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212027"><span class="hs-identifier hs-type">right</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#StepRight"><span class="hs-identifier hs-type">StepRight</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679212026"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-570"></span><span>  </span><span id="local-6989586621679212025"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy ('StepRight : n) -&gt; (:*:) left right a -&gt; FieldValue sch t
</span><a href="#local-6989586621679212025"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy ('StepRight : n)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">left a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679212024"><span class="annot"><span class="annottext">right a
</span><a href="#local-6989586621679212024"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; right a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: [WhereStep]) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679212026"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">right a
</span><a href="#local-6989586621679212024"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span class="hs-comment">-- 'fromSchema' for records</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- 1. decompose the sequence of products into atomic components</span><span>
</span><span id="line-574"></span><span class="hs-comment">--    until we arrive to the selector metadata 'S1'</span><span>
</span><span id="line-575"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecord'</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- 2. figure out the field in the schema it corresponds to</span><span>
</span><span id="line-577"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'FindField'</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-579"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecordSearch'</span><span>
</span><span id="line-580"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-var">GFromSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212872"><span class="annot"><a href="#local-6989586621679212872"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679212874"><span class="annot"><a href="#local-6989586621679212874"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679212873"><span class="annot"><a href="#local-6989586621679212873"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212871"><span class="annot"><a href="#local-6989586621679212871"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212873"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>                        </span><span class="hs-special">(</span><span id="local-6989586621679212870"><span class="annot"><a href="#local-6989586621679212870"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212874"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212873"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212869"><span class="annot"><a href="#local-6989586621679212869"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-582"></span><span>  </span><span id="local-6989586621679212868"><span id="fromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-type">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212871"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212872"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212870"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212869"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212868"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-583"></span><span id="local-6989586621679212015"><span id="local-6989586621679212016"><span id="local-6989586621679212017"><span id="local-6989586621679212018"><span id="local-6989586621679212019"><span id="local-6989586621679212020"><span id="local-6989586621679212021"><span id="local-6989586621679212022"><span id="local-6989586621679212023"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212023"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212022"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212021"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212021"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212020"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212019"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212023"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212020"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212021"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679212019"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212018"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212017"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212016"><span class="hs-identifier hs-type">ds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679212015"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212022"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-585"></span><span>  </span><span id="local-6989586621679212012"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap
-&gt; NP (Field sch) args
-&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
</span><a href="#local-6989586621679212012"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679212011"><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212011"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-586"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a)
-&gt; K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; K1 i v a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; K1 i v a) -&gt; v -&gt; K1 i v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
-&gt; NP (Field sch) args -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212021"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212020"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212019"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212011"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-587"></span><span id="local-6989586621679212005"><span id="local-6989586621679212006"><span id="local-6989586621679212007"><span id="local-6989586621679212008"><span id="local-6989586621679212009"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212009"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212008"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212007"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212006"><span class="hs-identifier hs-type">oneway</span></a></span><span>
</span><span id="line-588"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212009"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212008"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212007"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212005"><span class="hs-identifier hs-type">oranother</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212009"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212008"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212007"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679212006"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679212005"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-590"></span><span>  </span><span id="local-6989586621679212003"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; (:*:) oneway oranother a
</span><a href="#local-6989586621679212003"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679212002"><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212002"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679212001"><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212001"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oneway a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212002"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212001"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a -&gt; oranother a -&gt; (:*:) oneway oranother a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oranother a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679212002"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679212001"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-591"></span><span id="local-6989586621679211998"><span id="local-6989586621679211999"><span id="local-6989586621679212000"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212000"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211999"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211998"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-592"></span><span>  </span><span id="local-6989586621679211996"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; U1 a
</span><a href="#local-6989586621679211996"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-var">GFromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212753"><span class="annot"><a href="#local-6989586621679212753"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679212755"><span class="annot"><a href="#local-6989586621679212755"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679212754"><span class="annot"><a href="#local-6989586621679212754"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>                              </span><span class="hs-special">(</span><span id="local-6989586621679212752"><span class="annot"><a href="#local-6989586621679212752"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212751"><span class="annot"><a href="#local-6989586621679212751"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212755"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212754"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212750"><span class="annot"><a href="#local-6989586621679212750"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-596"></span><span>  </span><span id="fromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-type">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679212750"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212753"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212751"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679212752"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-597"></span><span id="local-6989586621679211991"><span id="local-6989586621679211992"><span id="local-6989586621679211993"><span id="local-6989586621679211994"><span id="local-6989586621679211995"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211995"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211994"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211993"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211995"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211993"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211992"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211994"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679211991"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-599"></span><span>  </span><span id="local-6989586621679211988"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy 'Here -&gt; NP (Field sch) ('FieldDef name t : rest) -&gt; v
</span><a href="#local-6989586621679211988"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy 'Here
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679211987"><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679211987"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679211987"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-600"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679211985"><span class="annot"><a href="#local-6989586621679211985"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679211984"><span class="annot"><a href="#local-6989586621679211984"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679211983"><span class="annot"><a href="#local-6989586621679211983"><span class="hs-identifier hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679211982"><span class="annot"><a href="#local-6989586621679211982"><span class="hs-identifier hs-type">rest</span></a></span></span><span> </span><span id="local-6989586621679211981"><span class="annot"><a href="#local-6989586621679211981"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-601"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211985"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211982"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211981"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-602"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211985"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211984"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679211983"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679211982"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679211981"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-603"></span><span>  </span><span id="local-6989586621679211980"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy ('There n) -&gt; NP (Field sch) (other : rest) -&gt; v
</span><a href="#local-6989586621679211980"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy ('There n)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field sch x
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679211979"><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679211979"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; NP (Field sch) xs -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679211981"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679211979"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-604"></span></pre></body></html>