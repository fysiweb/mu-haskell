<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language PolyKinds            #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language TypeFamilies         #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language TypeOperators        #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language UndecidableInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-comment">{-|
Description: From 'Schema' to Haskell types.

Obtains a 'Schema' from a set of Haskell types.

Unfortunately, GHC does not allow type families
to appear in instances, so you cannot use the
resulting type directly. Instead, evaluate it
in an interpreter session using @:kind!@ and
copy the result to the file.
-}</span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Conversion.TypesToSchema</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes"><span class="hs-identifier">SchemaFromTypes</span></a></span><span>
</span><span id="line-19"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier">FromType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord"><span class="hs-identifier">AsRecord</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum"><span class="hs-identifier">AsEnum</span></a></span><span>
</span><span id="line-21"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>             </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- | Defines whether to turn each Haskell type</span><span>
</span><span id="line-32"></span><span class="hs-comment">--   into a record or an enumeration.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--   Any type not declared in the given list</span><span>
</span><span id="line-34"></span><span class="hs-comment">--   of 'FromType's is considered primitive.</span><span>
</span><span id="line-35"></span><span class="hs-keyword">data</span><span> </span><span id="FromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-var">FromType</span></a></span></span><span> </span><span id="local-6989586621679212370"><span class="annot"><a href="#local-6989586621679212370"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212369"><span class="annot"><a href="#local-6989586621679212369"><span class="hs-identifier hs-type">fn</span></a></span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | Declares that the type should become a record.</span><span>
</span><span id="line-37"></span><span>    </span><span id="AsRecord%27"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord%27"><span class="hs-identifier hs-var">AsRecord'</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="annot"><a href="#local-6989586621679212370"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212369"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-comment">-- | Declares that the type should become an enumeration.</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AsEnum%27"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum%27"><span class="hs-identifier hs-var">AsEnum'</span></a></span></span><span>   </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="annot"><a href="#local-6989586621679212370"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212369"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | Declares that the type should become a record.</span><span>
</span><span id="line-42"></span><span class="hs-keyword">type</span><span> </span><span id="AsRecord"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord"><span class="hs-identifier hs-var">AsRecord</span></a></span></span><span> </span><span id="local-6989586621679212365"><span class="annot"><a href="#local-6989586621679212365"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212364"><span class="annot"><a href="#local-6989586621679212364"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord%27"><span class="hs-identifier hs-type">AsRecord'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212365"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212364"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- | Declares that the type should become an enumeration.</span><span>
</span><span id="line-44"></span><span class="hs-keyword">type</span><span> </span><span id="AsEnum"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum"><span class="hs-identifier hs-var">AsEnum</span></a></span></span><span>   </span><span id="local-6989586621679212363"><span class="annot"><a href="#local-6989586621679212363"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212362"><span class="annot"><a href="#local-6989586621679212362"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum%27"><span class="hs-identifier hs-type">AsEnum'</span></a></span><span>   </span><span class="annot"><a href="#local-6989586621679212363"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212362"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-- |&#160;Convert a set of types into a 'Schema'.</span><span>
</span><span id="line-47"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="SchemaFromTypes"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes"><span class="hs-identifier hs-var">SchemaFromTypes</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212361"><span class="annot"><a href="#local-6989586621679212361"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212360"><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212359"><span class="annot"><a href="#local-6989586621679212359"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212360"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212359"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-48"></span><span>  </span><span id="SchemaFromTypes"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes"><span class="hs-identifier hs-var">SchemaFromTypes</span></a></span></span><span> </span><span id="local-6989586621679212357"><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes%27"><span class="hs-identifier hs-type">SchemaFromTypes'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212357"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="SchemaFromTypes%27"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes%27"><span class="hs-identifier hs-var">SchemaFromTypes'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212355"><span class="annot"><a href="#local-6989586621679212355"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212354"><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212353"><span class="annot"><a href="#local-6989586621679212353"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212352"><span class="annot"><a href="#local-6989586621679212352"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212353"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212354"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212353"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="SchemaFromTypes%27"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes%27"><span class="hs-identifier hs-var">SchemaFromTypes'</span></a></span></span><span> </span><span id="local-6989586621679212351"><span class="annot"><a href="#local-6989586621679212351"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>&#160;</span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-52"></span><span>  </span><span id="SchemaFromTypes%27"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes%27"><span class="hs-identifier hs-var">SchemaFromTypes'</span></a></span></span><span> </span><span id="local-6989586621679212350"><span class="annot"><a href="#local-6989586621679212350"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212349"><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212348"><span class="annot"><a href="#local-6989586621679212348"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#TypeDefFromType"><span class="hs-identifier hs-type">TypeDefFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212350"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212349"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#SchemaFromTypes%27"><span class="hs-identifier hs-type">SchemaFromTypes'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212350"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212348"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="TypeDefFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#TypeDefFromType"><span class="hs-identifier hs-var">TypeDefFromType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212346"><span class="annot"><a href="#local-6989586621679212346"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212345"><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212344"><span class="annot"><a href="#local-6989586621679212344"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212343"><span class="annot"><a href="#local-6989586621679212343"><span class="hs-identifier hs-type">info</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212344"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212345"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212344"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>  </span><span id="TypeDefFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#TypeDefFromType"><span class="hs-identifier hs-var">TypeDefFromType</span></a></span></span><span> </span><span id="local-6989586621679212341"><span class="annot"><a href="#local-6989586621679212341"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord%27"><span class="hs-identifier hs-type">AsRecord'</span></a></span><span> </span><span id="local-6989586621679212340"><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212339"><span class="annot"><a href="#local-6989586621679212339"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span id="local-6989586621679212338"><span class="annot"><a href="#local-6989586621679212338"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212339"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-type">FieldsFromType</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621679212341"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212338"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212340"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>  </span><span id="TypeDefFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#TypeDefFromType"><span class="hs-identifier hs-var">TypeDefFromType</span></a></span></span><span> </span><span id="local-6989586621679212335"><span class="annot"><a href="#local-6989586621679212335"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum%27"><span class="hs-identifier hs-type">AsEnum'</span></a></span><span>   </span><span id="local-6989586621679212334"><span class="annot"><a href="#local-6989586621679212334"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212333"><span class="annot"><a href="#local-6989586621679212333"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span id="local-6989586621679212332"><span class="annot"><a href="#local-6989586621679212332"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span>   </span><span class="annot"><a href="#local-6989586621679212333"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-type">ChoicesFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212335"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212332"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679212334"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212329"><span class="annot"><a href="#local-6989586621679212329"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212328"><span class="annot"><a href="#local-6989586621679212328"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212327"><span class="annot"><a href="#local-6989586621679212327"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212326"><span class="annot"><a href="#local-6989586621679212326"><span class="hs-identifier hs-type">mp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212327"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212325"><span class="annot"><a href="#local-6989586621679212325"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212328"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212327"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212323"><span class="annot"><a href="#local-6989586621679212323"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212322"><span class="annot"><a href="#local-6989586621679212322"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212321"><span class="annot"><a href="#local-6989586621679212321"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679212320"><span class="annot"><a href="#local-6989586621679212320"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;sum types cannot be converted to record schemas&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212319"><span class="annot"><a href="#local-6989586621679212319"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212318"><span class="annot"><a href="#local-6989586621679212318"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span id="local-6989586621679212317"><span class="annot"><a href="#local-6989586621679212317"><span class="hs-identifier hs-type hs-type">meta</span></a></span></span><span> </span><span id="local-6989586621679212316"><span class="annot"><a href="#local-6989586621679212316"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-type">FieldsFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212319"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212318"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212316"><span class="hs-identifier hs-type">f</span></a></span><span>  </span><span class="hs-comment">-- go through data info</span><span>
</span><span id="line-65"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212315"><span class="annot"><a href="#local-6989586621679212315"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212314"><span class="annot"><a href="#local-6989586621679212314"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span id="local-6989586621679212313"><span class="annot"><a href="#local-6989586621679212313"><span class="hs-identifier hs-type hs-type">meta</span></a></span></span><span> </span><span id="local-6989586621679212312"><span class="annot"><a href="#local-6989586621679212312"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-type">FieldsFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212315"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212314"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212312"><span class="hs-identifier hs-type">f</span></a></span><span>  </span><span class="hs-comment">-- go through constructor info</span><span>
</span><span id="line-67"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212311"><span class="annot"><a href="#local-6989586621679212311"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212310"><span class="annot"><a href="#local-6989586621679212310"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212309"><span class="annot"><a href="#local-6989586621679212309"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679212308"><span class="annot"><a href="#local-6989586621679212308"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-type">ConcatList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-type">FieldsFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212311"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212310"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212309"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-type">FieldsFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212311"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212310"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212308"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212306"><span class="annot"><a href="#local-6989586621679212306"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212305"><span class="annot"><a href="#local-6989586621679212305"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679212304"><span class="annot"><a href="#local-6989586621679212304"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212303"><span class="annot"><a href="#local-6989586621679212303"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679212302"><span class="annot"><a href="#local-6989586621679212302"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679212301"><span class="annot"><a href="#local-6989586621679212301"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679212300"><span class="annot"><a href="#local-6989586621679212300"><span class="hs-identifier hs-type hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679212299"><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212305"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212304"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212306"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212299"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-71"></span><span>  </span><span id="FieldsFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FieldsFromType"><span class="hs-identifier hs-var">FieldsFromType</span></a></span></span><span> </span><span id="local-6989586621679212295"><span class="annot"><a href="#local-6989586621679212295"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212294"><span class="annot"><a href="#local-6989586621679212294"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span id="local-6989586621679212293"><span class="annot"><a href="#local-6989586621679212293"><span class="hs-identifier hs-type hs-type">v</span></a></span></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;unsupported conversion from &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212293"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; to record schema&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ConcatList"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-var">ConcatList</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212292"><span class="annot"><a href="#local-6989586621679212292"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679212291"><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212290"><span class="annot"><a href="#local-6989586621679212290"><span class="hs-identifier hs-type">ys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679212291"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-75"></span><span>  </span><span id="ConcatList"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-var">ConcatList</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span id="local-6989586621679212289"><span class="annot"><a href="#local-6989586621679212289"><span class="hs-identifier hs-type hs-type">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679212289"><span class="hs-identifier hs-type">ys</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span id="ConcatList"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-var">ConcatList</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212288"><span class="annot"><a href="#local-6989586621679212288"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212287"><span class="annot"><a href="#local-6989586621679212287"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212286"><span class="annot"><a href="#local-6989586621679212286"><span class="hs-identifier hs-type hs-type">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679212288"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-type">ConcatList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212287"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212286"><span class="hs-identifier hs-type">ys</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212285"><span class="annot"><a href="#local-6989586621679212285"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212284"><span class="annot"><a href="#local-6989586621679212284"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212283"><span class="annot"><a href="#local-6989586621679212283"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212282"><span class="annot"><a href="#local-6989586621679212282"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212284"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212280"><span class="annot"><a href="#local-6989586621679212280"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212278"><span class="annot"><a href="#local-6989586621679212278"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span id="local-6989586621679212277"><span class="annot"><a href="#local-6989586621679212277"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212278"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212277"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212275"><span class="annot"><a href="#local-6989586621679212275"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679212274"><span class="annot"><a href="#local-6989586621679212274"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212275"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212274"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212272"><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span id="local-6989586621679212270"><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679212269"><span class="annot"><a href="#local-6989586621679212269"><span class="hs-identifier hs-type hs-type">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212270"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212272"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212269"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212267"><span class="annot"><a href="#local-6989586621679212267"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span id="local-6989586621679212264"><span class="annot"><a href="#local-6989586621679212264"><span class="hs-identifier hs-type hs-type">choices</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldUnion"><span class="hs-identifier hs-type">ChooseFieldUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212267"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212264"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>  </span><span id="ChooseFieldType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-var">ChooseFieldType</span></a></span></span><span> </span><span id="local-6989586621679212261"><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212260"><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldPrimitiveOrSchematic"><span class="hs-identifier hs-type">ChooseFieldPrimitiveOrSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-type">FindTypeName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212261"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212260"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ChooseFieldUnion"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldUnion"><span class="hs-identifier hs-var">ChooseFieldUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212257"><span class="annot"><a href="#local-6989586621679212257"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212256"><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212255"><span class="annot"><a href="#local-6989586621679212255"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212254"><span class="annot"><a href="#local-6989586621679212254"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212256"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-89"></span><span>  </span><span id="ChooseFieldUnion"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldUnion"><span class="hs-identifier hs-var">ChooseFieldUnion</span></a></span></span><span> </span><span id="local-6989586621679212253"><span class="annot"><a href="#local-6989586621679212253"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>&#160;</span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-90"></span><span>  </span><span id="ChooseFieldUnion"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldUnion"><span class="hs-identifier hs-var">ChooseFieldUnion</span></a></span></span><span> </span><span id="local-6989586621679212252"><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212251"><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212250"><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldType"><span class="hs-identifier hs-type">ChooseFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212251"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldUnion"><span class="hs-identifier hs-type">ChooseFieldUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212252"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212250"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindTypeName"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-var">FindTypeName</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212249"><span class="annot"><a href="#local-6989586621679212249"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212248"><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212247"><span class="annot"><a href="#local-6989586621679212247"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212246"><span class="annot"><a href="#local-6989586621679212246"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679212248"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-94"></span><span>  </span><span id="FindTypeName"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-var">FindTypeName</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679212245"><span class="annot"><a href="#local-6989586621679212245"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-95"></span><span>  </span><span id="FindTypeName"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-var">FindTypeName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsRecord%27"><span class="hs-identifier hs-type">AsRecord'</span></a></span><span> </span><span id="local-6989586621679212244"><span class="annot"><a href="#local-6989586621679212244"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212243"><span class="annot"><a href="#local-6989586621679212243"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212242"><span class="annot"><a href="#local-6989586621679212242"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212241"><span class="annot"><a href="#local-6989586621679212241"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212244"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679212243"><span class="hs-identifier hs-type">tn</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span id="FindTypeName"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-var">FindTypeName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#AsEnum%27"><span class="hs-identifier hs-type">AsEnum'</span></a></span><span>   </span><span id="local-6989586621679212240"><span class="annot"><a href="#local-6989586621679212240"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679212239"><span class="annot"><a href="#local-6989586621679212239"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212238"><span class="annot"><a href="#local-6989586621679212238"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212237"><span class="annot"><a href="#local-6989586621679212237"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679212240"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679212239"><span class="hs-identifier hs-type">tn</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span id="FindTypeName"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-var">FindTypeName</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212236"><span class="annot"><a href="#local-6989586621679212236"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679212235"><span class="annot"><a href="#local-6989586621679212235"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212234"><span class="annot"><a href="#local-6989586621679212234"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FindTypeName"><span class="hs-identifier hs-type">FindTypeName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212235"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212234"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ChooseFieldPrimitiveOrSchematic"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldPrimitiveOrSchematic"><span class="hs-identifier hs-var">ChooseFieldPrimitiveOrSchematic</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212233"><span class="annot"><a href="#local-6989586621679212233"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212232"><span class="annot"><a href="#local-6989586621679212232"><span class="hs-identifier hs-type">ref</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span id="local-6989586621679212231"><span class="annot"><a href="#local-6989586621679212231"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212231"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>  </span><span id="ChooseFieldPrimitiveOrSchematic"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldPrimitiveOrSchematic"><span class="hs-identifier hs-var">ChooseFieldPrimitiveOrSchematic</span></a></span></span><span> </span><span id="local-6989586621679212230"><span class="annot"><a href="#local-6989586621679212230"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679212229"><span class="annot"><a href="#local-6989586621679212229"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212229"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span id="ChooseFieldPrimitiveOrSchematic"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChooseFieldPrimitiveOrSchematic"><span class="hs-identifier hs-var">ChooseFieldPrimitiveOrSchematic</span></a></span></span><span> </span><span id="local-6989586621679212227"><span class="annot"><a href="#local-6989586621679212227"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212227"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212225"><span class="annot"><a href="#local-6989586621679212225"><span class="hs-identifier hs-type">all</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#FromType"><span class="hs-identifier hs-type">FromType</span></a></span><span> </span><span id="local-6989586621679212224"><span class="annot"><a href="#local-6989586621679212224"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679212223"><span class="annot"><a href="#local-6989586621679212223"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212222"><span class="annot"><a href="#local-6989586621679212222"><span class="hs-identifier hs-type">mp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679212223"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212221"><span class="annot"><a href="#local-6989586621679212221"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212223"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span id="local-6989586621679212219"><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212218"><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span id="local-6989586621679212217"><span class="annot"><a href="#local-6989586621679212217"><span class="hs-identifier hs-type hs-type">meta</span></a></span></span><span> </span><span id="local-6989586621679212216"><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-type">ChoicesFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212219"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212218"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212216"><span class="hs-identifier hs-type">f</span></a></span><span>  </span><span class="hs-comment">-- go through data info</span><span>
</span><span id="line-108"></span><span>  </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span id="local-6989586621679212215"><span class="annot"><a href="#local-6989586621679212215"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212214"><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679212213"><span class="annot"><a href="#local-6989586621679212213"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679212212"><span class="annot"><a href="#local-6989586621679212212"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ConcatList"><span class="hs-identifier hs-type">ConcatList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-type">ChoicesFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212215"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212213"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-type">ChoicesFromType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212215"><span class="hs-identifier hs-type">all</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212214"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212212"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span id="local-6989586621679212211"><span class="annot"><a href="#local-6989586621679212211"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212210"><span class="annot"><a href="#local-6989586621679212210"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679212209"><span class="annot"><a href="#local-6989586621679212209"><span class="hs-identifier hs-type hs-type">cname</span></a></span></span><span> </span><span id="local-6989586621679212208"><span class="annot"><a href="#local-6989586621679212208"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679212207"><span class="annot"><a href="#local-6989586621679212207"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212210"><span class="hs-identifier hs-type">mp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679212209"><span class="hs-identifier hs-type">cname</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- go through constructor info</span><span>
</span><span id="line-112"></span><span>  </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span id="local-6989586621679212205"><span class="annot"><a href="#local-6989586621679212205"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212204"><span class="annot"><a href="#local-6989586621679212204"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679212203"><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type hs-type">cname</span></a></span></span><span> </span><span id="local-6989586621679212202"><span class="annot"><a href="#local-6989586621679212202"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679212201"><span class="annot"><a href="#local-6989586621679212201"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679212200"><span class="annot"><a href="#local-6989586621679212200"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212203"><span class="hs-identifier hs-type">cname</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;has fields and cannot be turned into an enumeration schema&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>  </span><span id="ChoicesFromType"><span class="annot"><a href="Mu.Schema.Conversion.TypesToSchema.html#ChoicesFromType"><span class="hs-identifier hs-var">ChoicesFromType</span></a></span></span><span> </span><span id="local-6989586621679212199"><span class="annot"><a href="#local-6989586621679212199"><span class="hs-identifier hs-type hs-type">all</span></a></span></span><span> </span><span id="local-6989586621679212198"><span class="annot"><a href="#local-6989586621679212198"><span class="hs-identifier hs-type hs-type">mp</span></a></span></span><span> </span><span id="local-6989586621679212197"><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type hs-type">v</span></a></span></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;unsupported conversion from &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679212197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; to enumeration schema&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span></pre></body></html>