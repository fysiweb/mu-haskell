<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_857exIShtjU8IdnMgx9mPf"></span><span class="hs-pragma">{-# language AllowAmbiguousTypes   #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language DataKinds             #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language FlexibleContexts      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language FlexibleInstances     #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language GADTs                 #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# language MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# language PolyKinds             #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# language ScopedTypeVariables   #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# language StandaloneDeriving    #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# language TypeApplications      #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# language TypeOperators         #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# language UndecidableInstances  #-}</span><span>
</span><span id="line-13"></span><span class="hs-comment">{-|
Description : Terms without an associated schema

In the edges of your application it's useful to
consider terms for which a type-level schema has
not yet been applied. Think of receiving a JSON
document: you can parse it but checking the schema
is an additional step.
-}</span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Interpretation.Schemaless</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Terms without an associated schema</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier">Term</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier">Field</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier">FieldValue</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Checking and conversion against a schema</span></span><span>
</span><span id="line-26"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema"><span class="hs-identifier">checkSchema</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#fromSchemalessTerm"><span class="hs-identifier">fromSchemalessTerm</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><span class="hs-comment">-- * For deserialization to schemaless terms</span></span><span>
</span><span id="line-28"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#ToSchemalessTerm"><span class="hs-identifier">ToSchemalessTerm</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#ToSchemalessValue"><span class="hs-identifier">ToSchemalessValue</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- * For implementors</span></span><span>
</span><span id="line-30"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier">CheckSchema</span></a></span><span>
</span><span id="line-31"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">find</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Class.html"><span class="hs-identifier">Mu.Schema.Class</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html"><span class="hs-identifier">Mu.Schema.Interpretation</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">-- | Interpretation of a type in a schema.</span><span>
</span><span id="line-46"></span><span class="hs-keyword">data</span><span> </span><span id="Term"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-comment">-- |&#160;A record given by the value of its fields.</span><span>
</span><span id="line-48"></span><span>  </span><span id="TRecord"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TRecord"><span class="hs-identifier hs-var">TRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-comment">-- |&#160;An enumeration given by one choice.</span><span>
</span><span id="line-50"></span><span>  </span><span id="TEnum"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TEnum"><span class="hs-identifier hs-var">TEnum</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-comment">-- |&#160;A primitive value.</span><span>
</span><span id="line-52"></span><span>  </span><span id="TSimple"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TSimple"><span class="hs-identifier hs-var">TSimple</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span id="local-6989586621679215547"><span id="local-6989586621679215549"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span>   </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span></span><span>
</span><span id="line-55"></span><span id="local-6989586621679215531"><span id="local-6989586621679215533"><span id="local-6989586621679215535"><span id="local-6989586621679215537"><span id="local-6989586621679215539"><span id="local-6989586621679215541"><span id="local-6989586621679215543"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-56"></span><span id="local-6989586621679215524"><span id="local-6989586621679215526"><span id="local-6989586621679215528"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span></span></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- |&#160;Interpretation of a field.</span><span>
</span><span id="line-59"></span><span class="hs-keyword">data</span><span> </span><span id="Field"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-var">Field</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-comment">-- | A single field given by its name and its value.</span><span>
</span><span id="line-61"></span><span>  </span><span id="Field"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-var">Field</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span id="local-6989586621679215518"><span id="local-6989586621679215520"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span>   </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span></span></span><span>
</span><span id="line-64"></span><span id="local-6989586621679215503"><span id="local-6989586621679215505"><span id="local-6989586621679215507"><span id="local-6989586621679215509"><span id="local-6989586621679215511"><span id="local-6989586621679215513"><span id="local-6989586621679215515"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-65"></span><span id="local-6989586621679215497"><span id="local-6989586621679215499"><span id="local-6989586621679215501"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span></span></span></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | Interpretation of a field type, by giving a value of that type.</span><span>
</span><span id="line-68"></span><span class="hs-keyword">data</span><span> </span><span id="FieldValue"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-var">FieldValue</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>  </span><span id="FNull"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span id="local-6989586621679215495"><span id="FPrimitive"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621679215495"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679215495"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679215495"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679215495"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215495"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span></span><span>
</span><span id="line-71"></span><span>  </span><span id="FSchematic"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-var">FSchematic</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span id="FOption"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-var">FOption</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span id="FList"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-var">FList</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span id="FMap"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-var">FMap</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | Checks that a schemaless 'Term' obbeys the</span><span>
</span><span id="line-77"></span><span class="hs-comment">--   restrictions for tyoe @t@ of schema @s@.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   If successful, returns a 'S.Term' indexed</span><span>
</span><span id="line-79"></span><span class="hs-comment">--   by the corresponding schema and type.</span><span>
</span><span id="line-80"></span><span class="hs-comment">--</span><span>
</span><span id="line-81"></span><span class="hs-comment">--   Use this function to check a schemaless terms</span><span>
</span><span id="line-82"></span><span class="hs-comment">--   at the &quot;borders&quot; of your application.</span><span>
</span><span id="line-83"></span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema"><span class="hs-identifier hs-type">checkSchema</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679215749"><span class="annot"><a href="#local-6989586621679215749"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679215748"><span class="annot"><a href="#local-6989586621679215748"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215747"><span class="annot"><a href="#local-6989586621679215747"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215749"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215748"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215746"><span class="annot"><a href="#local-6989586621679215746"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215749"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-85"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679215747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215746"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679215746"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">S.Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679215747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215746"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span id="checkSchema"><span class="annot"><span class="annottext">checkSchema :: Proxy t -&gt; Term -&gt; Maybe (Term s (s :/: t))
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema"><span class="hs-identifier hs-var hs-var">checkSchema</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe (Term s (s :/: t))
forall tn fn (s :: Schema tn fn) (t :: TypeDef tn fn).
CheckSchema s t =&gt;
Term -&gt; Maybe (Term s t)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- | Converts a schemaless term to a Haskell type</span><span>
</span><span id="line-90"></span><span class="hs-comment">--   by going through the corresponding schema type.</span><span>
</span><span id="line-91"></span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#fromSchemalessTerm"><span class="hs-identifier hs-type">fromSchemalessTerm</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679215488"><span class="annot"><a href="#local-6989586621679215488"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679215487"><span class="annot"><a href="#local-6989586621679215487"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679215486"><span class="annot"><a href="#local-6989586621679215486"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-93"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215488"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215486"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215487"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215488"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679215488"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215486"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679215487"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-95"></span><span id="fromSchemalessTerm"><span class="annot"><span class="annottext">fromSchemalessTerm :: Term -&gt; Maybe t
</span><a href="Mu.Schema.Interpretation.Schemaless.html#fromSchemalessTerm"><span class="hs-identifier hs-var hs-var">fromSchemalessTerm</span></a></span></span><span> </span><span id="local-6989586621679215485"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215485"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (sty :: t) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215488"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><span class="annottext">(Term sch (sch :/: sty) -&gt; t)
-&gt; Maybe (Term sch (sch :/: sty)) -&gt; Maybe t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Proxy sty -&gt; Term -&gt; Maybe (Term sch (sch :/: sty))
forall tn fn (s :: Schema tn fn) (t :: tn).
CheckSchema s (s :/: t) =&gt;
Proxy t -&gt; Term -&gt; Maybe (Term s (s :/: t))
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema"><span class="hs-identifier hs-var">checkSchema</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy sty
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215486"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215485"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Deserialization to schemaless terms.</span><span>
</span><span id="line-98"></span><span class="hs-keyword">class</span><span> </span><span id="ToSchemalessTerm"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#ToSchemalessTerm"><span class="hs-identifier hs-var">ToSchemalessTerm</span></a></span></span><span> </span><span id="local-6989586621679215481"><span class="annot"><a href="#local-6989586621679215481"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-comment">-- | Turns a document (such as JSON) into a schemaless term.</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-comment">--   This function should handle the &quot;compound&quot; types in that format,</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-comment">--   such as records and enumerations.</span><span>
</span><span id="line-102"></span><span>  </span><span id="toSchemalessTerm"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#toSchemalessTerm"><span class="hs-identifier hs-type">toSchemalessTerm</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215481"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- | Deserialization to schemaless values.</span><span>
</span><span id="line-104"></span><span class="hs-keyword">class</span><span> </span><span id="ToSchemalessValue"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#ToSchemalessValue"><span class="hs-identifier hs-var">ToSchemalessValue</span></a></span></span><span> </span><span id="local-6989586621679215479"><span class="annot"><a href="#local-6989586621679215479"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-comment">-- | Turns a document (such as JSON) into a schemaless term.</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-comment">--   This function should handle the &quot;primitive&quot; types in that format.</span><span>
</span><span id="line-107"></span><span>  </span><span id="toSchemalessValue"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#toSchemalessValue"><span class="hs-identifier hs-type">toSchemalessValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215479"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Type class used to define the generic 'checkSchema'.</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">--   Exposed for usage in other modules,</span><span>
</span><span id="line-112"></span><span class="hs-comment">--   in particular 'Mu.Schema.Registry'.</span><span>
</span><span id="line-113"></span><span class="hs-keyword">class</span><span> </span><span id="CheckSchema"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-var">CheckSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215766"><span class="annot"><a href="#local-6989586621679215766"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679215770"><span class="annot"><a href="#local-6989586621679215770"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679215769"><span class="annot"><a href="#local-6989586621679215769"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215765"><span class="annot"><a href="#local-6989586621679215765"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215770"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215769"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="checkSchema%27"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-type">checkSchema'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">S.Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215766"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215765"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span class="hs-keyword">class</span><span> </span><span id="CheckSchemaFields"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaFields"><span class="hs-identifier hs-var">CheckSchemaFields</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215726"><span class="annot"><a href="#local-6989586621679215726"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679215728"><span class="annot"><a href="#local-6989586621679215728"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679215727"><span class="annot"><a href="#local-6989586621679215727"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215725"><span class="annot"><a href="#local-6989586621679215725"><span class="hs-identifier hs-type">fields</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215728"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215727"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="checkSchemaFields"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaFields"><span class="hs-identifier hs-type">checkSchemaFields</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">S.Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215726"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679215725"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">class</span><span> </span><span id="CheckSchemaEnum"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaEnum"><span class="hs-identifier hs-var">CheckSchemaEnum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215673"><span class="annot"><a href="#local-6989586621679215673"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679215674"><span class="annot"><a href="#local-6989586621679215674"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>  </span><span id="checkSchemaEnumInt"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumInt"><span class="hs-identifier hs-type">checkSchemaEnumInt</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679215673"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>  </span><span id="checkSchemaEnumText"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumText"><span class="hs-identifier hs-type">checkSchemaEnumText</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679215673"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">class</span><span> </span><span id="CheckSchemaValue"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-var">CheckSchemaValue</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215696"><span class="annot"><a href="#local-6989586621679215696"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679215698"><span class="annot"><a href="#local-6989586621679215698"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679215697"><span class="annot"><a href="#local-6989586621679215697"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215695"><span class="annot"><a href="#local-6989586621679215695"><span class="hs-identifier hs-type">field</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215698"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>  </span><span id="checkSchemaValue"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-type">checkSchemaValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">S.FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215696"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215695"><span class="hs-identifier hs-type">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">class</span><span> </span><span id="CheckSchemaUnion"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaUnion"><span class="hs-identifier hs-var">CheckSchemaUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215586"><span class="annot"><a href="#local-6989586621679215586"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679215588"><span class="annot"><a href="#local-6989586621679215588"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679215587"><span class="annot"><a href="#local-6989586621679215587"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215585"><span class="annot"><a href="#local-6989586621679215585"><span class="hs-identifier hs-type">ts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215588"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="checkSchemaUnion"><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaUnion"><span class="hs-identifier hs-type">checkSchemaUnion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">S.FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215586"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679215585"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="local-6989586621679215470"><span id="local-6989586621679215471"><span id="local-6989586621679215472"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaFields"><span class="hs-identifier hs-type">CheckSchemaFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215472"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215471"><span class="hs-identifier hs-type">fields</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215472"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215470"><span class="hs-identifier hs-type">nm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215471"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679215467"><span class="annot"><span class="annottext">checkSchema' :: Term -&gt; Maybe (Term s ('DRecord nm fields))
</span><a href="#local-6989586621679215467"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchema'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TRecord"><span class="hs-identifier hs-type">TRecord</span></a></span><span> </span><span id="local-6989586621679215466"><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679215466"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field s) fields -&gt; Term s ('DRecord nm fields)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (choices :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord choices args)
</span><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-var">S.TRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(NP (Field s) fields -&gt; Term s ('DRecord nm fields))
-&gt; Maybe (NP (Field s) fields)
-&gt; Maybe (Term s ('DRecord nm fields))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Field] -&gt; Maybe (NP (Field s) fields)
forall tn fn (s :: Schema tn fn) (fields :: [FieldDef tn fn]).
CheckSchemaFields s fields =&gt;
[Field] -&gt; Maybe (NP (Field s) fields)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaFields"><span class="hs-identifier hs-var">checkSchemaFields</span></a></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679215466"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Term s ('DRecord nm fields))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span><span>
</span><span id="line-128"></span><span id="local-6989586621679215464"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaFields"><span class="hs-identifier hs-type">CheckSchemaFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215464"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>&#160;</span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621679215461"><span class="annot"><span class="annottext">checkSchemaFields :: [Field] -&gt; Maybe (NP (Field s) '[])
</span><a href="#local-6989586621679215461"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaFields</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field s) '[] -&gt; Maybe (NP (Field s) '[])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">NP (Field s) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span><span>
</span><span id="line-130"></span><span id="local-6989586621679215456"><span id="local-6989586621679215457"><span id="local-6989586621679215458"><span id="local-6989586621679215459"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#KnownName"><span class="hs-identifier hs-type">KnownName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215459"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215457"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaFields"><span class="hs-identifier hs-type">CheckSchemaFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215456"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaFields"><span class="hs-identifier hs-type">CheckSchemaFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215459"><span class="hs-identifier hs-type">nm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215457"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679215456"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621679215454"><span class="annot"><span class="annottext">checkSchemaFields :: [Field] -&gt; Maybe (NP (Field s) ('FieldDef nm ty : rest))
</span><a href="#local-6989586621679215454"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaFields</span></a></span></span><span> </span><span id="local-6989586621679215453"><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679215453"><span class="hs-identifier hs-var">fs</span></a></span></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679215452"><span class="annot"><span class="annottext">name :: Text
</span><a href="#local-6989586621679215452"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy nm -&gt; String
forall k (a :: k) (proxy :: k -&gt; *).
KnownName a =&gt;
proxy a -&gt; String
</span><a href="Mu.Schema.Definition.html#nameVal"><span class="hs-identifier hs-var">nameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy nm
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215459"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>         </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679215449"><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215449"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Field -&gt; Bool) -&gt; [Field] -&gt; Maybe Field
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679215448"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215448"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215448"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215452"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679215453"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-135"></span><span>         </span><span id="local-6989586621679215447"><span class="annot"><span class="annottext">FieldValue s ty
</span><a href="#local-6989586621679215447"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (FieldValue s ty)
forall tn fn (s :: Schema tn fn) (field :: FieldType tn).
CheckSchemaValue s field =&gt;
FieldValue -&gt; Maybe (FieldValue s field)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215449"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-136"></span><span>         </span><span id="local-6989586621679215446"><span class="annot"><span class="annottext">NP (Field s) rest
</span><a href="#local-6989586621679215446"><span class="hs-identifier hs-var">r'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Field] -&gt; Maybe (NP (Field s) rest)
forall tn fn (s :: Schema tn fn) (fields :: [FieldDef tn fn]).
CheckSchemaFields s fields =&gt;
[Field] -&gt; Maybe (NP (Field s) fields)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaFields"><span class="hs-identifier hs-var">checkSchemaFields</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215456"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><span class="annottext">[Field]
</span><a href="#local-6989586621679215453"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-137"></span><span>         </span><span class="annot"><span class="annottext">NP (Field s) ('FieldDef nm ty : rest)
-&gt; Maybe (NP (Field s) ('FieldDef nm ty : rest))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue s ty -&gt; Field s ('FieldDef nm ty)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-var">S.Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue s ty
</span><a href="#local-6989586621679215447"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Field s ('FieldDef nm ty)
-&gt; NP (Field s) rest -&gt; NP (Field s) ('FieldDef nm ty : rest)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">NP (Field s) rest
</span><a href="#local-6989586621679215446"><span class="hs-identifier hs-var">r'</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span id="local-6989586621679215441"><span id="local-6989586621679215442"><span id="local-6989586621679215443"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaEnum"><span class="hs-identifier hs-type">CheckSchemaEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215443"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215442"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215441"><span class="hs-identifier hs-type">nm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215443"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621679215439"><span class="annot"><span class="annottext">checkSchema' :: Term -&gt; Maybe (Term s ('DEnum nm choices))
</span><a href="#local-6989586621679215439"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchema'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TEnum"><span class="hs-identifier hs-type">TEnum</span></a></span><span> </span><span id="local-6989586621679215438"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215438"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term s ('DEnum nm choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">S.TEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term s ('DEnum nm choices))
-&gt; Maybe (NS Proxy choices) -&gt; Maybe (Term s ('DEnum nm choices))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe (NS Proxy choices)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Int -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumInt"><span class="hs-identifier hs-var">checkSchemaEnumInt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215438"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TSimple"><span class="hs-identifier hs-type">TSimple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215436"><span id="local-6989586621679215435"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215435"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215436"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Typeable t, Typeable Int) =&gt; Maybe (t :~: Int)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215436"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Typeable t, Typeable Text) =&gt; Maybe (t :~: Text)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215436"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Typeable t, Typeable String) =&gt; Maybe (t :~: String)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215436"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: Int
</span><span class="hs-identifier hs-var">Refl</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (t :~: Text)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (t :~: String)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term s ('DEnum nm choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">S.TEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term s ('DEnum nm choices))
-&gt; Maybe (NS Proxy choices) -&gt; Maybe (Term s ('DEnum nm choices))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe (NS Proxy choices)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Int -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumInt"><span class="hs-identifier hs-var">checkSchemaEnumInt</span></a></span><span> </span><span class="annot"><span class="annottext">t
Int
</span><a href="#local-6989586621679215435"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (t :~: Int)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: Text
</span><span class="hs-identifier hs-var">Refl</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (t :~: String)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term s ('DEnum nm choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">S.TEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term s ('DEnum nm choices))
-&gt; Maybe (NS Proxy choices) -&gt; Maybe (Term s ('DEnum nm choices))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe (NS Proxy choices)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Text -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumText"><span class="hs-identifier hs-var">checkSchemaEnumText</span></a></span><span> </span><span class="annot"><span class="annottext">t
Text
</span><a href="#local-6989586621679215435"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (t :~: Int)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (t :~: Text)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: String
</span><span class="hs-identifier hs-var">Refl</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term s ('DEnum nm choices)
forall fieldName typeName (choices :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy choices -&gt; Term sch ('DEnum name choices)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">S.TEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(NS Proxy choices -&gt; Term s ('DEnum nm choices))
-&gt; Maybe (NS Proxy choices) -&gt; Maybe (Term s ('DEnum nm choices))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe (NS Proxy choices)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Text -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumText"><span class="hs-identifier hs-var">checkSchemaEnumText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">t
String
</span><a href="#local-6989586621679215435"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">(Maybe (t :~: Int), Maybe (t :~: Text), Maybe (t :~: String))
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Term s ('DEnum nm choices))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Term s ('DEnum nm choices))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaEnum"><span class="hs-identifier hs-type">CheckSchemaEnum</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679215429"><span class="annot"><span class="annottext">checkSchemaEnumInt :: Int -&gt; Maybe (NS Proxy '[])
</span><a href="#local-6989586621679215429"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaEnumInt</span></a></span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NS Proxy '[])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621679215428"><span class="annot"><span class="annottext">checkSchemaEnumText :: Text -&gt; Maybe (NS Proxy '[])
</span><a href="#local-6989586621679215428"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaEnumText</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NS Proxy '[])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-151"></span><span id="local-6989586621679215426"><span id="local-6989586621679215427"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#KnownName"><span class="hs-identifier hs-type">KnownName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215427"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaEnum"><span class="hs-identifier hs-type">CheckSchemaEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215426"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaEnum"><span class="hs-identifier hs-type">CheckSchemaEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215427"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679215426"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621679215423"><span class="annot"><span class="annottext">checkSchemaEnumInt :: Int -&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
</span><a href="#local-6989586621679215423"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaEnumInt</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy ('ChoiceDef c : cs)
-&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c) -&gt; NS Proxy ('ChoiceDef c : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumInt"><span class="hs-identifier hs-var">checkSchemaEnumInt</span></a></span><span> </span><span id="local-6989586621679215421"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215421"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy cs -&gt; NS Proxy ('ChoiceDef c : cs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="annot"><span class="annottext">(NS Proxy cs -&gt; NS Proxy ('ChoiceDef c : cs))
-&gt; Maybe (NS Proxy cs) -&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe (NS Proxy cs)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Int -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumInt"><span class="hs-identifier hs-var">checkSchemaEnumInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215421"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span id="local-6989586621679215419"><span class="annot"><span class="annottext">checkSchemaEnumText :: Text -&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
</span><a href="#local-6989586621679215419"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaEnumText</span></a></span></span><span> </span><span id="local-6989586621679215418"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215418"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215418"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; String
forall k (a :: k) (proxy :: k -&gt; *).
KnownName a =&gt;
proxy a -&gt; String
</span><a href="Mu.Schema.Definition.html#nameVal"><span class="hs-identifier hs-var">nameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215427"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy ('ChoiceDef c : cs)
-&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c) -&gt; NS Proxy ('ChoiceDef c : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy ('ChoiceDef c)
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy cs -&gt; NS Proxy ('ChoiceDef c : cs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="annot"><span class="annottext">(NS Proxy cs -&gt; NS Proxy ('ChoiceDef c : cs))
-&gt; Maybe (NS Proxy cs) -&gt; Maybe (NS Proxy ('ChoiceDef c : cs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe (NS Proxy cs)
forall fn (choices :: [ChoiceDef fn]).
CheckSchemaEnum choices =&gt;
Text -&gt; Maybe (NS Proxy choices)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaEnumText"><span class="hs-identifier hs-var">checkSchemaEnumText</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215418"><span class="hs-identifier hs-var">t</span></a></span></span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span id="local-6989586621679215416"><span id="local-6989586621679215417"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215417"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215417"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215416"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679215414"><span class="annot"><span class="annottext">checkSchema' :: Term -&gt; Maybe (Term s ('DSimple f))
</span><a href="#local-6989586621679215414"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchema'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#TSimple"><span class="hs-identifier hs-type">TSimple</span></a></span><span> </span><span id="local-6989586621679215413"><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215413"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue s f -&gt; Term s ('DSimple f)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
FieldValue sch t -&gt; Term sch ('DSimple t)
</span><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-var">S.TSimple</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue s f -&gt; Term s ('DSimple f))
-&gt; Maybe (FieldValue s f) -&gt; Maybe (Term s ('DSimple f))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (FieldValue s f)
forall tn fn (s :: Schema tn fn) (field :: FieldType tn).
CheckSchemaValue s field =&gt;
FieldValue -&gt; Maybe (FieldValue s field)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215413"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Term s ('DSimple f))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-162"></span><span id="local-6989586621679215411"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215411"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621679215408"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s 'TNull)
</span><a href="#local-6989586621679215408"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue s 'TNull -&gt; Maybe (FieldValue s 'TNull)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">FieldValue s 'TNull
forall typeName fieldName (sch :: Schema typeName fieldName).
FieldValue sch 'TNull
</span><a href="Mu.Schema.Interpretation.html#FNull"><span class="hs-identifier hs-var">S.FNull</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s 'TNull)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-165"></span><span id="local-6989586621679215405"><span id="local-6989586621679215406"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621679215406"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215405"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215406"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679215403"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s ('TPrimitive t))
</span><a href="#local-6989586621679215403"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215402"><span id="local-6989586621679215401"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215401"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215402"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Typeable t, Typeable t) =&gt; Maybe (t :~: t)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215402"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215406"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-168"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: t
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldValue s ('TPrimitive t)
-&gt; Maybe (FieldValue s ('TPrimitive t))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; FieldValue s ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">S.FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215401"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><span class="annottext">Maybe (t :~: t)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s ('TPrimitive t))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s ('TPrimitive t))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-171"></span><span class="hs-comment">-- TODO: handle enums better by an if with typedef</span><span>
</span><span id="line-172"></span><span id="local-6989586621679215398"><span id="local-6989586621679215399"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchema"><span class="hs-identifier hs-type">CheckSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215399"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679215399"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215398"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215399"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215398"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621679215396"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s ('TSchematic t))
</span><a href="#local-6989586621679215396"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679215395"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215395"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (s :/: t) -&gt; FieldValue s ('TSchematic t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: typeName).
Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
</span><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-var">S.FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (s :/: t) -&gt; FieldValue s ('TSchematic t))
-&gt; Maybe (Term s (s :/: t)) -&gt; Maybe (FieldValue s ('TSchematic t))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Maybe (Term s (s :/: t))
forall tn fn (s :: Schema tn fn) (t :: TypeDef tn fn).
CheckSchema s t =&gt;
Term -&gt; Maybe (Term s t)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchema%27"><span class="hs-identifier hs-var">checkSchema'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215395"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s ('TSchematic t))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-176"></span><span id="local-6989586621679215392"><span id="local-6989586621679215393"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215393"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215392"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215393"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215392"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679215390"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s ('TOption t))
</span><a href="#local-6989586621679215390"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span> </span><span id="local-6989586621679215389"><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215389"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s t) -&gt; FieldValue s ('TOption t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
</span><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-var">S.FOption</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (FieldValue s t) -&gt; FieldValue s ('TOption t))
-&gt; Maybe (Maybe (FieldValue s t))
-&gt; Maybe (FieldValue s ('TOption t))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(FieldValue -&gt; Maybe (FieldValue s t))
-&gt; Maybe FieldValue -&gt; Maybe (Maybe (FieldValue s t))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (FieldValue s t)
forall tn fn (s :: Schema tn fn) (field :: FieldType tn).
CheckSchemaValue s field =&gt;
FieldValue -&gt; Maybe (FieldValue s field)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215389"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s ('TOption t))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-179"></span><span id="local-6989586621679215385"><span id="local-6989586621679215386"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215386"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215385"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215386"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215385"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679215383"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s ('TList t))
</span><a href="#local-6989586621679215383"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span> </span><span id="local-6989586621679215382"><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215382"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue s t] -&gt; FieldValue s ('TList t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
[FieldValue sch t] -&gt; FieldValue sch ('TList t)
</span><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-var">S.FList</span></a></span><span> </span><span class="annot"><span class="annottext">([FieldValue s t] -&gt; FieldValue s ('TList t))
-&gt; Maybe [FieldValue s t] -&gt; Maybe (FieldValue s ('TList t))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(FieldValue -&gt; Maybe (FieldValue s t))
-&gt; [FieldValue] -&gt; Maybe [FieldValue s t]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (FieldValue s t)
forall tn fn (s :: Schema tn fn) (field :: FieldType tn).
CheckSchemaValue s field =&gt;
FieldValue -&gt; Maybe (FieldValue s field)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215382"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue s ('TList t))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- TODO: how to deal with maps??</span><span>
</span><span id="line-183"></span><span id="local-6989586621679215379"><span id="local-6989586621679215380"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaUnion"><span class="hs-identifier hs-type">CheckSchemaUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215380"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215379"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215380"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215379"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621679215377"><span class="annot"><span class="annottext">checkSchemaValue :: FieldValue -&gt; Maybe (FieldValue s ('TUnion ts))
</span><a href="#local-6989586621679215377"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaValue</span></a></span></span><span> </span><span id="local-6989586621679215376"><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215376"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue s) ts -&gt; FieldValue s ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">S.FUnion</span></a></span><span> </span><span class="annot"><span class="annottext">(NS (FieldValue s) ts -&gt; FieldValue s ('TUnion ts))
-&gt; Maybe (NS (FieldValue s) ts)
-&gt; Maybe (FieldValue s ('TUnion ts))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (NS (FieldValue s) ts)
forall tn fn (s :: Schema tn fn) (ts :: [FieldType tn]).
CheckSchemaUnion s ts =&gt;
FieldValue -&gt; Maybe (NS (FieldValue s) ts)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaUnion"><span class="hs-identifier hs-var">checkSchemaUnion</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215376"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span id="local-6989586621679215374"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaUnion"><span class="hs-identifier hs-type">CheckSchemaUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215374"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679215371"><span class="annot"><span class="annottext">checkSchemaUnion :: FieldValue -&gt; Maybe (NS (FieldValue s) '[])
</span><a href="#local-6989586621679215371"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaUnion</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NS (FieldValue s) '[])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-188"></span><span id="local-6989586621679215368"><span id="local-6989586621679215369"><span id="local-6989586621679215370"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaValue"><span class="hs-identifier hs-type">CheckSchemaValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215370"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215369"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaUnion"><span class="hs-identifier hs-type">CheckSchemaUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215370"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215368"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#CheckSchemaUnion"><span class="hs-identifier hs-type">CheckSchemaUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215370"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679215369"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679215368"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679215366"><span class="annot"><span class="annottext">checkSchemaUnion :: FieldValue -&gt; Maybe (NS (FieldValue s) (t : ts))
</span><a href="#local-6989586621679215366"><span class="hs-identifier hs-var hs-var hs-var hs-var">checkSchemaUnion</span></a></span></span><span> </span><span id="local-6989586621679215365"><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215365"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue s t -&gt; NS (FieldValue s) (t : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">(FieldValue s t -&gt; NS (FieldValue s) (t : ts))
-&gt; Maybe (FieldValue s t) -&gt; Maybe (NS (FieldValue s) (t : ts))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (FieldValue s t)
forall tn fn (s :: Schema tn fn) (field :: FieldType tn).
CheckSchemaValue s field =&gt;
FieldValue -&gt; Maybe (FieldValue s field)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaValue"><span class="hs-identifier hs-var">checkSchemaValue</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215370"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215369"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215365"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (NS (FieldValue s) (t : ts))
-&gt; Maybe (NS (FieldValue s) (t : ts))
-&gt; Maybe (NS (FieldValue s) (t : ts))
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue s) ts -&gt; NS (FieldValue s) (t : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="annot"><span class="annottext">(NS (FieldValue s) ts -&gt; NS (FieldValue s) (t : ts))
-&gt; Maybe (NS (FieldValue s) ts)
-&gt; Maybe (NS (FieldValue s) (t : ts))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldValue -&gt; Maybe (NS (FieldValue s) ts)
forall tn fn (s :: Schema tn fn) (ts :: [FieldType tn]).
CheckSchemaUnion s ts =&gt;
FieldValue -&gt; Maybe (NS (FieldValue s) ts)
</span><a href="Mu.Schema.Interpretation.Schemaless.html#checkSchemaUnion"><span class="hs-identifier hs-var">checkSchemaUnion</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="#local-6989586621679215365"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- Boring instances</span><span>
</span><span id="line-193"></span><span id="local-6989586621679215359"><span id="local-6989586621679215361"><span id="local-6989586621679215363"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span></span></span></span><span>
</span><span id="line-194"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215356"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span> </span><span id="local-6989586621679215355"><span class="annot"><span class="annottext">== :: FieldValue -&gt; FieldValue -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215354"><span id="local-6989586621679215353"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215353"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215354"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215352"><span id="local-6989586621679215351"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215351"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215352"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Typeable t, Typeable t) =&gt; Maybe (t :~: t)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215354"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215352"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">Maybe (t :~: t)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: t
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215353"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679215351"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679215350"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679215349"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span id="local-6989586621679215348"><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215348"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span id="local-6989586621679215347"><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215347"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215348"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue -&gt; Maybe FieldValue -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215347"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span id="local-6989586621679215346"><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215346"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span id="local-6989586621679215345"><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215345"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215346"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldValue] -&gt; [FieldValue] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215345"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span id="local-6989586621679215344"><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215344"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span id="local-6989586621679215343"><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215343"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215344"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue -&gt; Map FieldValue FieldValue -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215343"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-205"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215329"><span id="local-6989586621679215331"><span id="local-6989586621679215333"><span id="local-6989586621679215335"><span id="local-6989586621679215338"><span id="local-6989586621679215340"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span> </span><span id="local-6989586621679215328"><span class="annot"><span class="annottext">&lt;= :: FieldValue -&gt; FieldValue -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215326"><span id="local-6989586621679215325"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215325"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215326"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215324"><span id="local-6989586621679215323"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215323"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679215324"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Typeable t, Typeable t) =&gt; Maybe (t :~: t)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215326"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679215324"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">Maybe (t :~: t)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeOf</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215325"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRep -&gt; TypeRep -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeOf</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215323"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">t :~: t
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679215325"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679215323"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-213"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-214"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679215321"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679215320"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215320"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621679215320"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-217"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-218"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-219"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-220"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span id="local-6989586621679215319"><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215319"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span id="local-6989586621679215318"><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215318"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215319"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue -&gt; Maybe FieldValue -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><a href="#local-6989586621679215318"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-223"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span id="local-6989586621679215317"><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215317"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span id="local-6989586621679215316"><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215316"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215317"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldValue] -&gt; [FieldValue] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue]
</span><a href="#local-6989586621679215316"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">FieldValue
</span><a href="Mu.Schema.Interpretation.Schemaless.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-230"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span>      </span><span class="annot"><span class="annottext">[FieldValue]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span id="local-6989586621679215315"><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215315"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.Schemaless.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span>       </span><span id="local-6989586621679215314"><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215314"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215315"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue -&gt; Map FieldValue FieldValue -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Map FieldValue FieldValue
</span><a href="#local-6989586621679215314"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-comment">-- FMap       _ &lt;= _            = True</span><span>
</span><span id="line-235"></span></pre></body></html>